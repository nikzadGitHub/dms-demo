!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{akgE:function(e,a,c){"use strict";c.r(a),c.d(a,"UserActivitiesModule",function(){return ht});var n,o=c("SVse"),b=c("s7LF"),r=c("iInd"),l=c("XNiG"),d=c("1G5W"),s=c("IheW"),p=c("AytR"),u=c("z6cu"),v=c("vkgz"),y=c("JIr8"),m=c("8Y7J"),f=((n=function(){function e(i){t(this,e),this.httpClient=i,this.httpOptions={headers:new s.e({"Content-Type":"application/json"})},this.apiURL=p.b.apiBaseUrl}return i(e,[{key:"getActivity",value:function(){return this.httpClient.get(this.apiURL+"/activity")}},{key:"getCumpanyDetails",value:function(t){var e=localStorage.getItem("auth-token");return this.httpClient.get(this.apiURL+"/opportunity/get-customer?company_name="+t,{headers:{Authorization:e}}).pipe(Object(v.a)(function(t){}),Object(y.a)(this.errorHandler))}},{key:"getPage",value:function(t,e,i){return this.httpClient.get(t+"&page_items="+e+"&search_text="+i,this.httpOptions).pipe(Object(y.a)(this.errorHandler))}},{key:"createActivity",value:function(t,e){var i=localStorage.getItem("auth-token");return this.httpClient.post(this.apiURL+"/activity/",{customer_id:t,activities:[{subject:"subject",due_date:e.activityDueDate,description:e.activityDesc,type:e.activityType,status:e.activityStatus,completion_date:e.activityCompletionDate,remark:e.activityRemarks,is_open:"1"}]},{headers:{Authorization:i}}).pipe(Object(v.a)(function(t){}),Object(y.a)(this.errorHandler))}},{key:"updateActivity",value:function(t,e){var i={customer_id:1,completion_date:e.activityCompletionDate,description:e.activityDesc,due_date:e.activityDueDate,remark:e.activityRemarks,status:e.activityStatus,activity_type:e.activityType},a=localStorage.getItem("auth-token");return this.httpClient.put(this.apiURL+"/activity/"+t,i,{headers:{Authorization:a}}).pipe(Object(v.a)(function(t){}),Object(y.a)(this.errorHandler))}},{key:"errorHandler",value:function(t){var e;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),Object(u.a)(e)}}]),e}()).\u0275fac=function(t){return new(t||n)(m.dc(s.b))},n.\u0275prov=m.Mb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),g=c("T7Ec"),h=c("ZRSf"),V=c("hhfa"),W=c("gtx6"),D=["confirmationExportExcelModal"],C=["columnChooserModal"];function x(t,e){1&t&&(m.Wb(0,"div",8),m.Wb(1,"span",9),m.Qc(2," Activities Listing "),m.Vb(),m.Wb(3,"div",10),m.Wb(4,"a",11),m.Rb(5,"i",12),m.Vb(),m.Vb(),m.Wb(6,"span",13),m.Rb(7,"i",14),m.Rb(8,"input",15),m.Vb(),m.Wb(9,"div"),m.Rb(10,"img",16),m.Rb(11,"img",17),m.Rb(12,"img",18),m.Vb(),m.Vb())}var M=function(){return{width:"5%"}};function R(t,e){1&t&&(m.Wb(0,"tr"),m.Wb(1,"th",19),m.Wb(2,"div",20),m.Qc(3," Description "),m.Wb(4,"div",21),m.Rb(5,"p-sortIcon",22),m.Rb(6,"p-columnFilter",23),m.Vb(),m.Vb(),m.Vb(),m.Wb(7,"th",24),m.Wb(8,"div",20),m.Qc(9," Type "),m.Wb(10,"div",25),m.Rb(11,"p-sortIcon",26),m.Rb(12,"p-columnFilter",27),m.Vb(),m.Vb(),m.Vb(),m.Wb(13,"th",28),m.Wb(14,"div",20),m.Qc(15," Status "),m.Wb(16,"div",29),m.Rb(17,"p-sortIcon",30),m.Rb(18,"p-columnFilter",31),m.Vb(),m.Vb(),m.Vb(),m.Wb(19,"th",32),m.Wb(20,"div",20),m.Qc(21," Due Date "),m.Wb(22,"div",33),m.Rb(23,"p-sortIcon",34),m.Rb(24,"p-columnFilter",35),m.Vb(),m.Vb(),m.Vb(),m.Wb(25,"th",36),m.Wb(26,"div",20),m.Qc(27," Completion Date "),m.Wb(28,"div",37),m.Rb(29,"p-sortIcon",38),m.Rb(30,"p-columnFilter",39),m.Vb(),m.Vb(),m.Vb(),m.Rb(31,"th"),m.Vb()),2&t&&(m.Db(31),m.Kc(m.uc(2,M)))}function k(t,e){if(1&t&&(m.Wb(0,"tr"),m.Wb(1,"td",40),m.Qc(2),m.Vb(),m.Wb(3,"td",40),m.Qc(4),m.Vb(),m.Wb(5,"td",40),m.Qc(6),m.Vb(),m.Wb(7,"td",40),m.Qc(8),m.lc(9,"date"),m.Vb(),m.Wb(10,"td",40),m.Qc(11),m.lc(12,"date"),m.Vb(),m.Vb()),2&t){var i=e.$implicit;m.Db(2),m.Rc(i.description),m.Db(2),m.Rc(i.activity_type),m.Db(2),m.Rc(i.status),m.Db(2),m.Rc(m.nc(9,5,i.due_date,"dd-MMM-yyyy")),m.Db(3),m.Sc(" ",m.nc(12,8,i.completion_date,"dd-MMM-yyyy")," ")}}function A(t,e){if(1&t&&(m.Wb(0,"td",42),m.Qc(1," No records found "),m.Vb()),2&t){var i=m.kc().$implicit;m.Eb("colspan",i.length)}}function Q(t,e){if(1&t&&(m.Wb(0,"tr"),m.Oc(1,A,2,1,"td",41),m.Vb()),2&t){var i=e.$implicit;m.Db(1),m.rc("ngIf",i)}}function O(t,e){1&t&&(m.Wb(0,"div",8),m.Wb(1,"span",9),m.Qc(2," Activities Listing "),m.Vb(),m.Wb(3,"div",10),m.Wb(4,"a",43),m.Rb(5,"i",12),m.Vb(),m.Vb(),m.Wb(6,"span",13),m.Rb(7,"i",14),m.Rb(8,"input",15),m.Vb(),m.Wb(9,"div"),m.Rb(10,"img",16),m.Rb(11,"img",17),m.Rb(12,"img",18),m.Vb(),m.Vb())}function w(t,e){1&t&&(m.Wb(0,"tr"),m.Wb(1,"th",19),m.Wb(2,"div",20),m.Qc(3," Description "),m.Wb(4,"div",21),m.Rb(5,"p-sortIcon",22),m.Rb(6,"p-columnFilter",23),m.Vb(),m.Vb(),m.Vb(),m.Wb(7,"th",24),m.Wb(8,"div",20),m.Qc(9," Type "),m.Wb(10,"div",25),m.Rb(11,"p-sortIcon",26),m.Rb(12,"p-columnFilter",27),m.Vb(),m.Vb(),m.Vb(),m.Wb(13,"th",28),m.Wb(14,"div",20),m.Qc(15," Status "),m.Wb(16,"div",29),m.Rb(17,"p-sortIcon",30),m.Rb(18,"p-columnFilter",31),m.Vb(),m.Vb(),m.Vb(),m.Wb(19,"th",32),m.Wb(20,"div",20),m.Qc(21," Due Date "),m.Wb(22,"div",33),m.Rb(23,"p-sortIcon",34),m.Rb(24,"p-columnFilter",35),m.Vb(),m.Vb(),m.Vb(),m.Wb(25,"th",36),m.Wb(26,"div",20),m.Qc(27," Completion Date "),m.Wb(28,"div",37),m.Rb(29,"p-sortIcon",38),m.Rb(30,"p-columnFilter",39),m.Vb(),m.Vb(),m.Vb(),m.Rb(31,"th"),m.Vb()),2&t&&(m.Db(31),m.Kc(m.uc(2,M)))}function S(t,e){if(1&t&&(m.Wb(0,"tr"),m.Wb(1,"td",40),m.Qc(2),m.Vb(),m.Wb(3,"td",40),m.Qc(4),m.Vb(),m.Wb(5,"td",40),m.Qc(6),m.Vb(),m.Wb(7,"td",40),m.Qc(8),m.lc(9,"date"),m.Vb(),m.Wb(10,"td",40),m.Qc(11),m.lc(12,"date"),m.Vb(),m.Vb()),2&t){var i=e.$implicit;m.Db(2),m.Rc(i.description),m.Db(2),m.Rc(i.activity_type),m.Db(2),m.Rc(i.status),m.Db(2),m.Rc(m.nc(9,5,i.due_date,"dd-MMM-yyyy")),m.Db(3),m.Sc(" ",m.nc(12,8,i.completion_date,"dd-MMM-yyyy")," ")}}function I(t,e){if(1&t&&(m.Wb(0,"td",42),m.Qc(1," No records found "),m.Vb()),2&t){var i=m.kc().$implicit;m.Eb("colspan",i.length)}}function _(t,e){if(1&t&&(m.Wb(0,"tr"),m.Oc(1,I,2,1,"td",41),m.Vb()),2&t){var i=e.$implicit;m.Db(1),m.rc("ngIf",i)}}var T,F=function(){return{showAll:"All"}},P=function(t){return[t,10,25,50]},E=function(){return["quote_id","company","amount","status"]},L=function(){return["description","contact_name","activity_type","status"]},N=((T=function(){function e(i){t(this,e),this.userAactivities=i,this.ngUnsubscribe=new l.a,this.pageItems=10,this.search_text="",this.activitydata=[]}return i(e,[{key:"ngOnInit",value:function(){this.getActivitydata()}},{key:"getActivitydata",value:function(){var t=this;this.loading=!0,this.userAactivities.getActivity().subscribe(function(e){t.activitydata=e.data,t.closedData=t.activitydata.filter(function(t){return"CLOSED"==t.status}),t.openData=t.activitydata.filter(function(t){return"CLOSED"!=t.status}),t.loading=!1})}},{key:"pagination",value:function(t){this.pageItems=t.rows,this.onClick(parseInt(t.page)+1)}},{key:"onClick",value:function(t){var e=this;this.userAactivities.getPage(this.pages[t].url,this.pageItems,this.search_text).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(function(t){console.log(t,"page data"),e.activities=t.data.data,e.pages=t.data.links})}},{key:"selectedActivity",value:function(t){}}]),e}()).\u0275fac=function(t){return new(t||T)(m.Qb(f))},T.\u0275cmp=m.Kb({type:T,selectors:[["app-user-activities"]],viewQuery:function(t,e){var i;1&t&&(m.Vc(D,1),m.Vc(C,1)),2&t&&(m.Cc(i=m.hc())&&(e.confirmationExportExcelModal=i.first),m.Cc(i=m.hc())&&(e.columnChooserModal=i.first))},decls:15,vars:29,consts:[["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"loading","value","rowHover","paginator","rows","showCurrentPageReport","rowsPerPageOptions","currentPageReportTemplate","reorderableColumns","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Close"],[1,"table-header",2,"margin","0px 41px 0px 37px"],[1,"p-input-icon-left"],[1,"ml-2","mt-1"],["routerLink","create","routerLinkActive","router-link-active",1,"customPlusIcon"],[1,"icon-plus","icons",2,"color","#ffffff"],[1,"p-input-icon-left",2,"margin","0px 0px 0px 375px"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search"],["src","../../../../assets/img/icons/Vector (2).svg",2,"width","25px"],["src","../../../../assets/img/icons/Vector (1).svg",2,"width","25px"],["src","../../../../assets/img/icons/vertcalLines.svg",2,"width","25px"],["pSortableColumn","description",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"description-icons"],["field","description"],["type","text","field","description","display","menu",1,"p-ml-auto"],["pSortableColumn","activity_type",1,"text-center"],[1,"Opp-ID-icon"],["field","activity_type"],["type","text","field","activity_type","display","menu",1,"p-ml-auto"],["pSortableColumn","status",1,"text-center"],[1,"topic-icons"],["field","status"],["type","text","field","status","display","menu",1,"p-ml-auto"],["pSortableColumn","due_date",1,"text-center"],[1,"company-name-icons"],["field","due_date"],["type","date","field","due_date","display","menu",1,"p-ml-auto"],["pSortableColumn","completion_date",1,"text-center"],[1,"status-icons"],["field","completion_date"],["type","date","field","completion_date","display","menu",1,"p-ml-auto"],[1,"text-center"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["routerLink","create","routerLinkActive","router-link-active"]],template:function(t,e){1&t&&(m.Wb(0,"p-tabView"),m.Wb(1,"p-tabPanel",0),m.Wb(2,"p-table",1,2),m.Oc(4,x,13,0,"ng-template",3),m.Oc(5,R,32,3,"ng-template",4),m.Oc(6,k,13,11,"ng-template",5),m.Oc(7,Q,2,1,"ng-template",6),m.Vb(),m.Vb(),m.Wb(8,"p-tabPanel",7),m.Wb(9,"p-table",1,2),m.Oc(11,O,13,0,"ng-template",3),m.Oc(12,w,32,3,"ng-template",4),m.Oc(13,S,13,11,"ng-template",5),m.Oc(14,_,2,1,"ng-template",6),m.Vb(),m.Vb(),m.Vb()),2&t&&(m.Db(1),m.rc("selected",!0),m.Db(1),m.rc("loading",e.loading)("value",e.openData)("rowHover",!0)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",m.vc(22,P,m.uc(21,F)))("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",m.uc(24,E)),m.Db(7),m.rc("loading",e.loading)("value",e.closedData)("rowHover",!0)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",m.vc(26,P,m.uc(25,F)))("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",m.uc(28,L)))},directives:[g.b,g.a,h.f,V.h,r.f,r.e,W.a,h.e,h.d,h.a,o.p],pipes:[o.f],styles:["[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link{background:#fff;border-color:#2196f3;color:#2196f3;width:100px;margin-right:10px;justify-content:center}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:0 solid transparent;border-bottom:2px solid #dee2e6;background:#fff;color:#6c757d;padding:1rem;font-weight:600;border-top-right-radius:3px;border-top-left-radius:3px;transition:box-shadow .2s;width:100px;margin:0 10px -2px 0;justify-content:center}.customPlusIcon[_ngcontent-%COMP%]{font-size:23px;height:23px}.description-icons[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),T),H=c("QGev"),j=c("KnEf"),U=c("LqlI"),$=["createActivity"],G=["createActivityModal"],K=["columnChooserModal"],q=["successModal"];function B(t,e){if(1&t&&(m.Wb(0,"div",62),m.Wb(1,"div"),m.Qc(2),m.Vb(),m.Vb()),2&t){var i=e.$implicit;m.Db(2),m.Sc(" ",i.company_name," ")}}function z(t,e){if(1&t){var i=m.Xb();m.Wb(0,"tr",85),m.Wb(1,"td"),m.Qc(2),m.Vb(),m.Wb(3,"td"),m.Qc(4),m.Vb(),m.Wb(5,"td"),m.Qc(6),m.Vb(),m.Wb(7,"td"),m.Qc(8),m.lc(9,"date"),m.Vb(),m.Wb(10,"td"),m.Qc(11),m.lc(12,"date"),m.Vb(),m.Wb(13,"td"),m.Wb(14,"a",86),m.gc("click",function(){m.Fc(i);var t=e.$implicit;return m.kc(2).selectedActivity(t)}),m.Vb(),m.Vb(),m.Vb()}if(2&t){var a=e.$implicit;m.Db(2),m.Sc(" ",a.description," "),m.Db(2),m.Sc(" ",a.activity_type," "),m.Db(2),m.Sc(" ",a.status," "),m.Db(2),m.Sc(" ",m.nc(9,5,a.due_date,"dd-MMM-yyyy")," "),m.Db(3),m.Sc(" ",m.nc(12,8,a.completion_date,"dd-MMM-yyyy")," ")}}var X=function(){return{width:"5%"}};function J(t,e){if(1&t&&(m.Wb(0,"tr"),m.Wb(1,"th",63),m.Wb(2,"div",64),m.Qc(3," Description "),m.Wb(4,"div",65),m.Rb(5,"p-sortIcon",66),m.Rb(6,"p-columnFilter",67),m.Vb(),m.Vb(),m.Vb(),m.Wb(7,"th",68),m.Wb(8,"div",64),m.Qc(9," Type "),m.Wb(10,"div",69),m.Rb(11,"p-sortIcon",70),m.Rb(12,"p-columnFilter",71),m.Vb(),m.Vb(),m.Vb(),m.Wb(13,"th",72),m.Wb(14,"div",64),m.Qc(15," Status "),m.Wb(16,"div",73),m.Rb(17,"p-sortIcon",74),m.Rb(18,"p-columnFilter",75),m.Vb(),m.Vb(),m.Vb(),m.Wb(19,"th",76),m.Wb(20,"div",64),m.Qc(21," Due Date "),m.Wb(22,"div",77),m.Rb(23,"p-sortIcon",78),m.Rb(24,"p-columnFilter",79),m.Vb(),m.Vb(),m.Vb(),m.Wb(25,"th",80),m.Wb(26,"div",64),m.Qc(27," Completion Date "),m.Wb(28,"div",81),m.Rb(29,"p-sortIcon",82),m.Rb(30,"p-columnFilter",83),m.Vb(),m.Vb(),m.Vb(),m.Rb(31,"th"),m.Vb(),m.Oc(32,z,15,11,"tr",84)),2&t){var i=m.kc();m.Db(31),m.Kc(m.uc(3,X)),m.Db(1),m.rc("ngForOf",i.openData)}}function Y(t,e){if(1&t&&(m.Wb(0,"td",88),m.Qc(1," No records found "),m.Vb()),2&t){var i=m.kc().$implicit;m.Eb("colspan",i.length)}}function Z(t,e){if(1&t&&(m.Wb(0,"tr"),m.Oc(1,Y,2,1,"td",87),m.Vb()),2&t){var i=e.$implicit;m.Db(1),m.rc("ngIf",i)}}function tt(t,e){if(1&t){var i=m.Xb();m.Wb(0,"tr",85),m.Wb(1,"td"),m.Qc(2),m.Vb(),m.Wb(3,"td"),m.Qc(4),m.Vb(),m.Wb(5,"td"),m.Qc(6),m.Vb(),m.Wb(7,"td"),m.Qc(8),m.lc(9,"date"),m.Vb(),m.Wb(10,"td"),m.Qc(11),m.lc(12,"date"),m.Vb(),m.Wb(13,"td"),m.Wb(14,"a",86),m.gc("click",function(){m.Fc(i);var t=e.$implicit;return m.kc(2).selectedActivity(t)}),m.Vb(),m.Vb(),m.Vb()}if(2&t){var a=e.$implicit;m.Db(2),m.Sc(" ",a.description," "),m.Db(2),m.Sc(" ",a.activity_type," "),m.Db(2),m.Sc(" ",a.status," "),m.Db(2),m.Sc(" ",m.nc(9,5,a.due_date,"dd-MMM-yyyy")," "),m.Db(3),m.Sc(" ",m.nc(12,8,a.completion_date,"dd-MMM-yyyy")," ")}}function et(t,e){if(1&t&&(m.Wb(0,"tr"),m.Wb(1,"th",63),m.Wb(2,"div",64),m.Qc(3," Description "),m.Wb(4,"div",65),m.Rb(5,"p-sortIcon",66),m.Rb(6,"p-columnFilter",67),m.Vb(),m.Vb(),m.Vb(),m.Wb(7,"th",68),m.Wb(8,"div",64),m.Qc(9," Type "),m.Wb(10,"div",69),m.Rb(11,"p-sortIcon",70),m.Rb(12,"p-columnFilter",71),m.Vb(),m.Vb(),m.Vb(),m.Wb(13,"th",72),m.Wb(14,"div",64),m.Qc(15," Status "),m.Wb(16,"div",73),m.Rb(17,"p-sortIcon",74),m.Rb(18,"p-columnFilter",75),m.Vb(),m.Vb(),m.Vb(),m.Wb(19,"th",76),m.Wb(20,"div",64),m.Qc(21," Due Date "),m.Wb(22,"div",77),m.Rb(23,"p-sortIcon",78),m.Rb(24,"p-columnFilter",79),m.Vb(),m.Vb(),m.Vb(),m.Wb(25,"th",80),m.Wb(26,"div",64),m.Qc(27," Completion Date "),m.Wb(28,"div",81),m.Rb(29,"p-sortIcon",82),m.Rb(30,"p-columnFilter",83),m.Vb(),m.Vb(),m.Vb(),m.Rb(31,"th"),m.Vb(),m.Oc(32,tt,15,11,"tr",84)),2&t){var i=m.kc();m.Db(31),m.Kc(m.uc(3,X)),m.Db(1),m.rc("ngForOf",i.closedData)}}function it(t,e){if(1&t&&(m.Wb(0,"td",88),m.Qc(1," No records found "),m.Vb()),2&t){var i=m.kc().$implicit;m.Eb("colspan",i.length)}}function at(t,e){if(1&t&&(m.Wb(0,"tr"),m.Oc(1,it,2,1,"td",87),m.Vb()),2&t){var i=e.$implicit;m.Db(1),m.rc("ngIf",i)}}function ct(t,e){if(1&t){var i=m.Xb();m.Wb(0,"a",90),m.gc("click",function(){return m.Fc(i),m.kc(2).createActivity.show()}),m.Rb(1,"i",91),m.Vb()}}function nt(t,e){if(1&t){var i=m.Xb();m.Wb(0,"a",90),m.gc("click",function(){return m.Fc(i),m.kc(2),m.Dc(52).show()}),m.Rb(1,"i",91),m.Vb()}}function ot(t,e){if(1&t&&(m.Oc(0,ct,2,0,"a",89),m.Oc(1,nt,2,0,"a",89)),2&t){var i=m.kc();m.rc("ngIf",!i.isCompanyName),m.Db(1),m.rc("ngIf",i.isCompanyName)}}function bt(t,e){if(1&t){var i=m.Xb();m.Wb(0,"div",19,92),m.Wb(2,"div",93),m.Wb(3,"div",22),m.Wb(4,"div",23),m.Wb(5,"h4",24),m.Qc(6,"Warning"),m.Vb(),m.Vb(),m.Wb(7,"div",61),m.Wb(8,"p"),m.Qc(9),m.Vb(),m.Vb(),m.Wb(10,"div",94),m.Wb(11,"button",95),m.gc("click",function(){return m.Fc(i),m.Dc(1).hide()}),m.Qc(12," Close "),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb()}if(2&t){var a=m.kc();m.Db(9),m.Rc(a.dangerBody)}}function rt(t,e){1&t&&m.Rb(0,"input",96)}function lt(t,e){if(1&t){var i=m.Xb();m.Wb(0,"input",97),m.gc("ngModelChange",function(t){return m.Fc(i),m.kc().addActivityData.activityType=t}),m.Vb()}if(2&t){var a=m.kc();m.rc("ngModel",a.addActivityData.activityType)}}var dt,st,pt,ut=function(){return{width:"100%"}},vt=function(){return["quote_id","company","amount","status"]},yt=[{path:"activities",redirectTo:"/activities",pathMatch:"full"},{path:"",component:N},{path:"create",component:(dt=function(){function e(i,a){t(this,e),this.userAactivitiesService=i,this.router=a,this.pageItems=200,this.activitydata=[],this.isCompanyName=!1,this.dangerBody="Company Name is Required...!",this.isTypeOthers=!1,this.addActivityData={activityDesc:"",activityDueDate:"",activityCompletionDate:"",activityStatus:"NEW",activityType:"MEETING",activityTypeOther:"",activityRemarks:""},this.activityMainHeading="Add Activity",this.activityHeading="Add Activity",this.activityButton="Save"}return i(e,[{key:"ngOnInit",value:function(){this.getActivitydata(),this.isCompanyName=!1}},{key:"getActivitydata",value:function(){var t=this;this.loading=!0,this.userAactivitiesService.getActivity().subscribe(function(e){var i;t.activitydata=e.data,t.customer_id=null===(i=null==e?void 0:e.data[0])||void 0===i?void 0:i.customer_id,t.closedData=t.activitydata.filter(function(t){return"CLOSED"==t.status}),t.openData=t.activitydata.filter(function(t){return"CLOSED"!=t.status}),t.loading=!1})}},{key:"searchName",value:function(t){var e=this;this.userAactivitiesService.getCumpanyDetails(t.query).subscribe(function(t){t.success&&(0==t.data.length?setTimeout(function(){e.filteredData=""},2e3):e.filteredData=t.data)})}},{key:"onSelect",value:function(t){t&&(this.companyId=t.id,this.companyName=t.company_name,this.isCompanyName=!0,this.activityMainHeading="Add Activity",this.activityHeading="Add Activity",this.activityButton="Save",this.addActivityData.activityDesc="",this.addActivityData.activityType="New",this.addActivityData.activityStatus="Meeting",this.addActivityData.activityDueDate="",this.addActivityData.activityCompletionDate="",this.addActivityData.activityRemarks="")}},{key:"activityTypeGet",value:function(t){this.isTypeOthers="others"==t.target.value}},{key:"saveActivity",value:function(t,e){var i=this;this.activityButton==e?this.userAactivitiesService.createActivity(this.customer_id,this.addActivityData).subscribe(function(t){i.createActivityModal.hide(),i.successMessage="Data added Successfully...!!",i.successModal.show(),setTimeout(function(){t&&i.router.navigateByUrl("/activities",{replaceUrl:!0})},1e3)}):this.userAactivitiesService.updateActivity(this.selectedActivityId,this.addActivityData).subscribe(function(t){i.createActivityModal.hide(),i.successMessage="Data Updated Successfully...!!",i.successModal.show(),setTimeout(function(){i.getActivitydata()},500)})}},{key:"selectedActivity",value:function(t){this.selectedActivityId=t.id,this.activityMainHeading="Update Activity",this.activityHeading="Update Activity",this.activityButton="Update",this.createActivityModal.show(),this.addActivityData.activityDesc=t.description,this.addActivityData.activityType=t.activity_type,this.addActivityData.activityStatus=t.status,this.addActivityData.activityDueDate=t.due_date.slice(0,10),this.addActivityData.activityCompletionDate=t.completion_date.slice(0,10),this.addActivityData.activityRemarks=t.remark}},{key:"getDate",value:function(t){}}]),e}(),dt.\u0275fac=function(t){return new(t||dt)(m.Qb(f),m.Qb(r.c))},dt.\u0275cmp=m.Kb({type:dt,selectors:[["app-create-activity"]],viewQuery:function(t,e){var i;1&t&&(m.Vc($,1),m.Vc(G,1),m.Vc(K,1),m.Vc(q,1)),2&t&&(m.Cc(i=m.hc())&&(e.createActivity=i.first),m.Cc(i=m.hc())&&(e.createActivityModal=i.first),m.Cc(i=m.hc())&&(e.columnChooserModal=i.first),m.Cc(i=m.hc())&&(e.successModal=i.first))},decls:150,vars:32,consts:[[1,"card-header","row",2,"background-color","#898485","color","white"],[2,"padding-left","20px"],[2,"overflow-y","hidden"],[1,"col-md-6",2,"display","grid"],[2,"color","black"],[1,"p-input-icon-right",2,"width","61%","margin-bottom","10px"],["placeholder","Select Company Name...",1,"search_field",3,"inputStyle","suggestions","ngModel","completeMethod","onSelect","ngModelChange"],["pTemplate","item"],[1,"pi","pi-search"],[1,"table","table-hover","table-striped"],[2,"background","lightgray","color","black"],["styleClass","customColor","activeIndex","0",3,"multiple"],["header","Activities","activeIndex","0"],["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],["bsModal","","class","modal fade","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["createActivityModal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"display","flex","flex-direction","column","align-items","center"],[1,"row","mb-2"],[1,"col-12"],[1,"col-6"],[1,"row"],[1,"col-3","mt-2"],["for","description",2,"display","flex"],[1,"asterisk"],[1,"col-9",2,"margin-bottom","19px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","description","name","title","type","date","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-9"],["id","description","name","title","type","date","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],["aria-label","Default select example",1,"form-control",3,"ngModel","ngModelChange"],["value","NEW"],["value","IN PROGRESS"],["value","KIV/POSTPONE"],["value","CLOSED"],[1,"col-9",2,"margin-bottom","19px","display","flex"],["aria-label","Default select example",1,"form-control",3,"ngModel","change","ngModelChange"],["value","MEETING"],["value","CONTACT"],["value","FOLLOW UP"],["value","OTHERS"],["style"," margin-left: 9px","placeholder","OTHERS","readonly","","type","text","class","form-control",4,"ngIf"],["style"," margin-left: 9px","type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-9",2,"margin-bottom","21px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin","0px 0px 0px 104px"],["type","reset",1,"btn","btn-light","mr-2","px-4",3,"click"],["type","submit",1,"btn","btn-primary","px-5",3,"click"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-body"],[1,"item"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLinkActive","router-link-active",1,"fa","fa-edit",3,"routerLink","click"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["class","customPlusIcon","routerLinkActive","router-link-active",3,"routerLink","click",4,"ngIf"],["routerLinkActive","router-link-active",1,"customPlusIcon",3,"routerLink","click"],[1,"icon-plus","icons"],["createActivity","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["placeholder","OTHERS","readonly","","type","text",1,"form-control",2,"margin-left","9px"],["type","text",1,"form-control",2,"margin-left","9px",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){var i=m.Xb();m.Wb(0,"div",0),m.Wb(1,"div",1),m.Wb(2,"h2"),m.Qc(3,"Create Activity"),m.Vb(),m.Vb(),m.Vb(),m.Wb(4,"div",2),m.Wb(5,"div"),m.Wb(6,"div",3),m.Wb(7,"label",4),m.Wb(8,"b"),m.Qc(9,"Customer Name"),m.Vb(),m.Vb(),m.Wb(10,"span",5),m.Wb(11,"p-autoComplete",6),m.gc("completeMethod",function(t){return e.searchName(t)})("onSelect",function(t){return e.onSelect(t)})("ngModelChange",function(t){return e.companyName=t}),m.Oc(12,B,3,1,"ng-template",7),m.Vb(),m.Rb(13,"i",8),m.Vb(),m.Vb(),m.Wb(14,"table",9),m.Wb(15,"thead",10),m.Wb(16,"tr"),m.Wb(17,"th"),m.Qc(18,"Created date"),m.Vb(),m.Wb(19,"th"),m.Qc(20,"Primary Contact"),m.Vb(),m.Wb(21,"th"),m.Qc(22,"Other Contacts"),m.Vb(),m.Wb(23,"th"),m.Qc(24,"Owner"),m.Vb(),m.Rb(25,"th"),m.Vb(),m.Vb(),m.Wb(26,"tbody"),m.Wb(27,"tr"),m.Wb(28,"td"),m.Qc(29,"11-DEC-2021"),m.Vb(),m.Wb(30,"td"),m.Qc(31,"+6298754422"),m.Vb(),m.Wb(32,"td"),m.Qc(33,"+889283232"),m.Vb(),m.Wb(34,"td"),m.Qc(35,"Lee"),m.Vb(),m.Rb(36,"td"),m.Vb(),m.Vb(),m.Vb(),m.Wb(37,"p-accordion",11),m.Wb(38,"p-accordionTab",12),m.Wb(39,"p-tabView"),m.Wb(40,"p-tabPanel",13),m.Wb(41,"p-table",14),m.Oc(42,J,33,4,"ng-template",15),m.Oc(43,Z,2,1,"ng-template",16),m.Vb(),m.Vb(),m.Wb(44,"p-tabPanel",17),m.Wb(45,"p-table",14),m.Oc(46,et,33,4,"ng-template",15),m.Oc(47,at,2,1,"ng-template",16),m.Vb(),m.Vb(),m.Wb(48,"p-tabPanel"),m.Oc(49,ot,2,2,"ng-template",15),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Oc(50,bt,13,1,"div",18),m.Wb(51,"div",19,20),m.Wb(53,"div",21),m.Wb(54,"div",22),m.Wb(55,"div",23),m.Wb(56,"h4",24),m.Qc(57),m.Vb(),m.Wb(58,"button",25),m.gc("click",function(){return m.Fc(i),m.Dc(52).hide()}),m.Wb(59,"span",26),m.Qc(60,"\xd7"),m.Vb(),m.Vb(),m.Vb(),m.Wb(61,"div",27),m.Wb(62,"div",28),m.Wb(63,"h5",29),m.Wb(64,"label"),m.Wb(65,"b"),m.Qc(66),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(67,"div",30),m.Wb(68,"div",31),m.Wb(69,"div",32),m.Wb(70,"label",33),m.Qc(71," Description"),m.Wb(72,"span",34),m.Qc(73," * "),m.Vb(),m.Vb(),m.Vb(),m.Wb(74,"div",35),m.Wb(75,"input",36),m.gc("ngModelChange",function(t){return e.addActivityData.activityDesc=t}),m.Vb(),m.Vb(),m.Vb(),m.Wb(76,"div",31),m.Wb(77,"div",32),m.Wb(78,"label",33),m.Qc(79," Due Date"),m.Wb(80,"span",34),m.Qc(81," * "),m.Vb(),m.Vb(),m.Vb(),m.Wb(82,"div",35),m.Wb(83,"input",37),m.gc("ngModelChange",function(t){return e.addActivityData.activityDueDate=t})("change",function(t){return e.getDate(t)}),m.Vb(),m.Vb(),m.Vb(),m.Wb(84,"div",31),m.Wb(85,"div",32),m.Wb(86,"label",33),m.Qc(87," Completion Date"),m.Wb(88,"span",34),m.Qc(89," * "),m.Vb(),m.Vb(),m.Vb(),m.Wb(90,"div",38),m.Wb(91,"input",39),m.gc("ngModelChange",function(t){return e.addActivityData.activityCompletionDate=t}),m.Vb(),m.Vb(),m.Vb(),m.Wb(92,"div",31),m.Wb(93,"div",32),m.Wb(94,"label",33),m.Qc(95," Status"),m.Wb(96,"span",34),m.Qc(97," * "),m.Vb(),m.Vb(),m.Vb(),m.Wb(98,"div",35),m.Wb(99,"select",40),m.gc("ngModelChange",function(t){return e.addActivityData.activityStatus=t}),m.Wb(100,"option",41),m.Qc(101,"NEW"),m.Vb(),m.Wb(102,"option",42),m.Qc(103," IN PROGRESS"),m.Vb(),m.Wb(104,"option",43),m.Qc(105," KIV/POSTPONE"),m.Vb(),m.Wb(106,"option",44),m.Qc(107," CLOSED"),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(108,"div",31),m.Wb(109,"div",32),m.Wb(110,"label",33),m.Qc(111," Type"),m.Wb(112,"span",34),m.Qc(113," * "),m.Vb(),m.Vb(),m.Vb(),m.Wb(114,"div",45),m.Wb(115,"select",46),m.gc("change",function(t){return e.activityTypeGet(t)})("ngModelChange",function(t){return e.addActivityData.activityType=t}),m.Wb(116,"option",47),m.Qc(117,"MEETING"),m.Vb(),m.Wb(118,"option",48),m.Qc(119,"CONTACT"),m.Vb(),m.Wb(120,"option",49),m.Qc(121,"FOLLOW UP"),m.Vb(),m.Wb(122,"option",50),m.Qc(123," OTHERS "),m.Vb(),m.Vb(),m.Oc(124,rt,1,0,"input",51),m.Oc(125,lt,1,1,"input",52),m.Vb(),m.Vb(),m.Wb(126,"div",31),m.Wb(127,"div",32),m.Wb(128,"label",33),m.Qc(129," Remarks"),m.Wb(130,"span",34),m.Qc(131," * "),m.Vb(),m.Vb(),m.Vb(),m.Wb(132,"div",53),m.Wb(133,"textarea",54),m.gc("ngModelChange",function(t){return e.addActivityData.activityRemarks=t}),m.Qc(134,"                "),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(135,"div",55),m.Wb(136,"button",56),m.gc("click",function(){return m.Fc(i),m.Dc(52).hide()}),m.Qc(137," CANCEL "),m.Vb(),m.Wb(138,"button",57),m.gc("click",function(t){return e.saveActivity(t,"Save")}),m.Qc(139),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(140,"div",58,59),m.Wb(142,"div",60),m.Wb(143,"div",22),m.Wb(144,"div",23),m.Wb(145,"h4",24),m.Qc(146,"Success"),m.Vb(),m.Vb(),m.Wb(147,"div",61),m.Wb(148,"p"),m.Qc(149),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb()}2&t&&(m.Db(11),m.Kc(m.uc(28,ut)),m.rc("inputStyle",m.uc(29,ut))("suggestions",e.filteredData)("ngModel",e.companyName),m.Db(26),m.rc("multiple",!0),m.Db(3),m.rc("selected",!0),m.Db(1),m.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",m.uc(30,vt)),m.Db(4),m.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",m.uc(31,vt)),m.Db(5),m.rc("ngIf",!e.isCompanyName),m.Db(7),m.Rc(e.activityMainHeading),m.Db(9),m.Rc(e.activityHeading),m.Db(9),m.rc("ngModel",e.addActivityData.activityDesc),m.Db(8),m.rc("ngModel",e.addActivityData.activityDueDate),m.Db(8),m.rc("ngModel",e.addActivityData.activityCompletionDate),m.Db(8),m.rc("ngModel",e.addActivityData.activityStatus),m.Db(16),m.rc("ngModel",e.addActivityData.activityType),m.Db(9),m.rc("ngIf",!e.isTypeOthers),m.Db(1),m.rc("ngIf",e.isTypeOthers),m.Db(8),m.rc("ngModel",e.addActivityData.activityRemarks),m.Db(6),m.Sc(" ",e.activityButton," "),m.Db(10),m.Rc(e.successMessage))},directives:[H.a,b.p,b.s,V.h,j.a,j.c,g.b,g.a,h.f,o.p,U.a,b.c,W.a,b.w,b.x,b.t,b.A,h.e,h.d,h.a,o.o,r.f,r.e],pipes:[o.f],styles:[".p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link{background:#fff;border-color:#2196f3;color:#2196f3;width:100px;margin-right:15px;height:58px;justify-content:center}.p-tabview .p-tabview-nav li .p-tabview-nav-link{border:0 solid transparent;border-bottom:2px solid #dee2e6;background:#fff;color:#6c757d;padding:1rem;font-weight:600;border-top-right-radius:3px;border-top-left-radius:3px;transition:box-shadow .2s;margin:0 0 -2px;width:100px;height:58px;justify-content:center}.customPlusIcon{font-size:23px;height:23px}"],encapsulation:2}),dt)}],mt=((st=function e(){t(this,e)}).\u0275fac=function(t){return new(t||st)},st.\u0275mod=m.Ob({type:st}),st.\u0275inj=m.Nb({imports:[[r.g.forChild(yt)],r.g]}),st),ft=c("Wcfd"),gt=c("MY3+"),ht=((pt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||pt)},pt.\u0275mod=m.Ob({type:pt}),pt.\u0275inj=m.Nb({imports:[[o.c,mt,ft.a,U.b,j.b,g.c,gt.b,h.g,b.l,b.v]]}),pt)}}])}();