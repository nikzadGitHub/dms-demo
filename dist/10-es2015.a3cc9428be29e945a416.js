(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{wzZd:function(t,e,o){"use strict";o.r(e),o.d(e,"CalendarModule",function(){return ft});var n=o("SVse"),i=o("Wcfd"),r=o("UUxd"),a=o("PN1e"),s=o("1hAE"),c=o("mrSG"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(t){return t.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(t){return t.allDay?Object(s.Vb)(t)?["timed","allDay"]:["allDay"]:["timed"]},e}(s.I),b=Object(s.pb)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function d(t){var e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Object(s.mb)(s.K.Consumer,null,function(o){if(!t.isLabeled)return Object(s.mb)("td",{className:e.join(" "),"data-time":t.isoTimeStr});var n=o.dateEnv,i=o.options,r=o.viewApi,a=null==i.slotLabelFormat?b:Array.isArray(i.slotLabelFormat)?Object(s.pb)(i.slotLabelFormat[0]):Object(s.pb)(i.slotLabelFormat),c={level:0,time:t.time,date:n.toDate(t.date),view:r,text:n.format(t.date,a)};return Object(s.mb)(s.C,{hookProps:c,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:u,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},function(o,n,i,r){return Object(s.mb)("td",{ref:o,className:e.concat(n).join(" "),"data-time":t.isoTimeStr},Object(s.mb)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Object(s.mb)("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:i},r)))})})}function u(t){return t.text}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){return this.props.slatMetas.map(function(t){return Object(s.mb)("tr",{key:t.key},Object(s.mb)(d,Object(c.a)({},t)))})},e}(s.b),m=Object(s.pb)({week:"short"}),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDaySplitter=new l,e.headerElRef=Object(s.rb)(),e.rootElRef=Object(s.rb)(),e.scrollerElRef=Object(s.rb)(),e.state={slatCoords:null},e.handleScrollTopRequest=function(t){var o=e.scrollerElRef.current;o&&(o.scrollTop=t)},e.renderHeadAxis=function(t,o){void 0===o&&(o="");var n=e.context.options,i=e.props.dateProfile.renderRange,r=1===Object(s.tb)(i.start,i.end)?Object(s.cb)(e.context,i.start,"week"):{};return n.weekNumbers&&"day"===t?Object(s.mb)(s.M,{date:i.start,defaultFormat:m},function(t,e,n,i){return Object(s.mb)("th",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(e).join(" ")},Object(s.mb)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:o}},Object(s.mb)("a",Object(c.a)({ref:n,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},r),i)))}):Object(s.mb)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Object(s.mb)("div",{className:"fc-timegrid-axis-frame",style:{height:o}}))},e.renderTableRowAxis=function(t){var o=e.context,n=o.options,i={text:n.allDayText,view:o.viewApi};return Object(s.mb)(s.C,{hookProps:i,classNames:n.allDayClassNames,content:n.allDayContent,defaultContent:g,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},function(e,o,n,i){return Object(s.mb)("td",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(o).join(" ")},Object(s.mb)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==t?" fc-timegrid-axis-frame-liquid":""),style:{height:t}},Object(s.mb)("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:n},i)))})},e.handleSlatCoords=function(t){e.setState({slatCoords:t})},e}return Object(c.d)(e,t),e.prototype.renderSimpleLayout=function(t,e,o){var n=this.context,i=this.props,r=[],a=Object(s.Rb)(n.options);return t&&r.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),e&&(r.push({type:"body",key:"all-day",chunk:{content:e}}),r.push({type:"body",key:"all-day-divider",outerContent:Object(s.mb)("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(s.mb)("td",{className:"fc-timegrid-divider "+n.theme.getClass("tableCellShaded")}))})),r.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(n.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:o}}),Object(s.mb)(s.L,{viewSpec:n.viewSpec,elRef:this.rootElRef},function(t,e){return Object(s.mb)("div",{className:["fc-timegrid"].concat(e).join(" "),ref:t},Object(s.mb)(s.G,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:r}))})},e.prototype.renderHScrollLayout=function(t,e,o,n,i,r,a){var c=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var b=this.context,d=this.props,u=!d.forPrint&&Object(s.Rb)(b.options),m=!d.forPrint&&Object(s.Qb)(b.options),f=[];t&&f.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(t){return Object(s.mb)("tr",{role:"presentation"},c.renderHeadAxis("day",t.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),e&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(t){return Object(s.mb)("tr",{role:"presentation"},c.renderTableRowAxis(t.rowSyncHeights[0]))}},{key:"cols",content:e}]}),f.push({key:"all-day-divider",type:"body",outerContent:Object(s.mb)("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(s.mb)("td",{colSpan:2,className:"fc-timegrid-divider "+b.theme.getClass("tableCellShaded")}))}));var g=b.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(b.options.expandRows),chunks:[{key:"axis",content:function(t){return Object(s.mb)("div",{className:"fc-timegrid-axis-chunk"},Object(s.mb)("table",{"aria-hidden":!0,style:{height:t.expandRows?t.clientHeight:""}},t.tableColGroupNode,Object(s.mb)("tbody",null,Object(s.mb)(p,{slatMetas:r}))),Object(s.mb)("div",{className:"fc-timegrid-now-indicator-container"},Object(s.mb)(s.z,{unit:g?"minute":"day"},function(t){var e=g&&a&&a.safeComputeTop(t);return"number"==typeof e?Object(s.mb)(s.y,{isAxis:!0,date:t},function(t,o,n,i){return Object(s.mb)("div",{ref:t,className:["fc-timegrid-now-indicator-arrow"].concat(o).join(" "),style:{top:e}},i)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:o}]}),m&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:s.wc},{key:"cols",content:s.wc}]}),Object(s.mb)(s.L,{viewSpec:b.viewSpec,elRef:this.rootElRef},function(t,e){return Object(s.mb)("div",{className:["fc-timegrid"].concat(e).join(" "),ref:t},Object(s.mb)(l,{liquid:!d.isHeightAuto&&!d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:i}]}],sections:f}))})},e.prototype.getAllDayMaxEventProps=function(){var t=this.context.options,e=t.dayMaxEvents,o=t.dayMaxEventRows;return!0!==e&&!0!==o||(e=void 0,o=5),{dayMaxEvents:e,dayMaxEventRows:o}},e}(s.i);function g(t){return t.text}var h=function(){function t(t,e,o){this.positions=t,this.dateProfile=e,this.slotDuration=o}return t.prototype.safeComputeTop=function(t){var e=this.dateProfile;if(Object(s.qc)(e.currentRange,t)){var o=Object(s.Ac)(t),n=t.valueOf()-o.valueOf();if(n>=Object(s.W)(e.slotMinTime)&&n<Object(s.W)(e.slotMaxTime))return this.computeTimeTop(Object(s.lb)(n))}return null},t.prototype.computeDateTop=function(t,e){return e||(e=Object(s.Ac)(t)),this.computeTimeTop(Object(s.lb)(t.valueOf()-e.valueOf()))},t.prototype.computeTimeTop=function(t){var e,o,n=this.positions,i=this.dateProfile,r=n.els.length,a=(t.milliseconds-Object(s.W)(i.slotMinTime))/Object(s.W)(this.slotDuration);return a=Math.max(0,a),a=Math.min(r,a),e=Math.floor(a),o=a-(e=Math.min(e,r-1)),n.tops[e]+n.getHeight(e)*o},t}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.context,o=e.options,n=t.slatElRefs;return Object(s.mb)("tbody",null,t.slatMetas.map(function(i,r){var a={time:i.time,date:e.dateEnv.toDate(i.date),view:e.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",i.isLabeled?"":"fc-timegrid-slot-minor"];return Object(s.mb)("tr",{key:i.key,ref:n.createRef(i.key)},t.axis&&Object(s.mb)(d,Object(c.a)({},i)),Object(s.mb)(s.C,{hookProps:a,classNames:o.slotLaneClassNames,content:o.slotLaneContent,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount},function(t,e,o,n){return Object(s.mb)("td",{ref:t,className:l.concat(e).join(" "),"data-time":i.isoTimeStr},n)}))}))},e}(s.b),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=Object(s.rb)(),e.slatElRefs=new s.B,e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.context;return Object(s.mb)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Object(s.mb)("table",{"aria-hidden":!0,className:e.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,Object(s.mb)(v,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var t,e=this.context,o=this.props;o.onCoords&&null!==o.clientWidth&&this.rootElRef.current.offsetHeight&&o.onCoords(new h(new s.A(this.rootElRef.current,(t=this.slatElRefs.currentMap,o.slatMetas.map(function(e){return t[e.key]})),!1,!0),this.props.dateProfile,e.options.slotDuration))},e}(s.b);function _(t,e){var o,n=[];for(o=0;o<e;o+=1)n.push([]);if(t)for(o=0;o<t.length;o+=1)n[t[o].col].push(t[o]);return n}function k(t,e){var o=[];if(t){for(a=0;a<e;a+=1)o[a]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var n=0,i=t.segs;n<i.length;n++){var r=i[n];o[r.col].segs.push(r)}}else for(var a=0;a<e;a+=1)o[a]=null;return o}var W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=Object(s.rb)(),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props;return Object(s.mb)(s.x,{allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:O,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:function(){return j(e.hiddenSegs,e)}},function(o,n,i,r,a,c,l,b){return Object(s.mb)("a",{ref:function(e){Object(s.xc)(o,e),Object(s.xc)(t.rootElRef,e)},className:["fc-timegrid-more-link"].concat(n).join(" "),style:{top:e.top,bottom:e.bottom},onClick:a,title:c,"aria-expanded":l,"aria-controls":b},Object(s.mb)("div",{ref:i,className:"fc-timegrid-more-link-inner fc-sticky"},r))})},e}(s.b);function O(t){return t.shortText}function V(t,e){if(!t)return[[],0];for(var o=t.level,n=t.lateralEnd,i=t.lateralStart,r=[];i<n;)r.push(e(o,i)),i+=1;return r.sort(C),[r.map(w),r[0][1]]}function C(t,e){return e[1]-t[1]}function w(t){return t[0]}function D(t,e){var o={};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(void 0,n);return r in o?o[r]:o[r]=e.apply(void 0,n)}}function x(t,e,o,n){void 0===o&&(o=null),void 0===n&&(n=0);var i=[];if(o)for(var r=0;r<t.length;r+=1){var a=t[r],s=o.computeDateTop(a.start,e),c=Math.max(s+(n||0),o.computeDateTop(a.end,e));i.push({start:Math.round(s),end:Math.round(c)})}return i}var R=Object(s.pb)({hour:"numeric",minute:"2-digit",meridiem:!1}),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&t.push("fc-timegrid-event-short"),Object(s.mb)(s.J,Object(c.a)({},this.props,{defaultTimeFormat:R,extraClassNames:t}))},e}(s.b),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props;return Object(s.mb)(s.k,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},function(t,e){return e&&Object(s.mb)("div",{className:"fc-timegrid-col-misc",ref:t},e)})},e}(s.b),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortEventSegs=Object(s.jc)(s.zc),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,o=this.context,n=o.options.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||n&&e.dateSelectionSegs||[],r=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,o.options.eventOrder);return Object(s.mb)(s.l,{elRef:e.elRef,date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},function(o,l,b){return Object(s.mb)("td",Object(c.a)({ref:o,role:"gridcell",className:["fc-timegrid-col"].concat(l,e.extraClassNames||[]).join(" ")},b,e.extraDataAttrs),Object(s.mb)("div",{className:"fc-timegrid-col-frame"},Object(s.mb)("div",{className:"fc-timegrid-col-bg"},t.renderFillSegs(e.businessHourSegs,"non-business"),t.renderFillSegs(e.bgEventSegs,"bg-event"),t.renderFillSegs(e.dateSelectionSegs,"highlight")),Object(s.mb)("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(a,r,!1,!1,!1)),Object(s.mb)("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(i,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(n))),Object(s.mb)("div",{className:"fc-timegrid-now-indicator-container"},t.renderNowIndicator(e.nowIndicatorSegs)),Object(s.mb)(M,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps})))})},e.prototype.renderFgSegs=function(t,e,o,n,i){var r=this.props;return r.forPrint?j(t,r):this.renderPositionedFgSegs(t,e,o,n,i)},e.prototype.renderPositionedFgSegs=function(t,e,o,n,i){var r=this,a=this.context.options,l=a.eventMaxStack,b=a.eventShortHeight,d=a.eventOrderStrict,u=this.props,p=u.eventSelection,m=u.todayRange,f=u.nowDate,g=o||n||i,h=function(t,e,o,n){for(var i=[],r=[],a=0;a<t.length;a+=1){var l=e[a];l?i.push({index:a,thickness:1,span:l}):r.push(t[a])}for(var b=function(t,e,o){var n=new s.F;null!=e&&(n.strictOrder=e),null!=o&&(n.maxStackCnt=o);var i,r,a=n.addSegs(t),l=Object(s.Ub)(a),b=function(t){var e=t.entriesByLevel,o=D(function(t,e){return t+":"+e},function(n,i){var r=V(function(t,e,o){for(var n=t.levelCoords,i=t.entriesByLevel,r=i[e][o],a=n[e]+r.thickness,c=n.length,l=e;l<c&&n[l]<a;l+=1);for(;l<c;l+=1){for(var b=i[l],d=void 0,u=Object(s.X)(b,r.span.start,s.Kb),p=u[0]+u[1],m=p;(d=b[m])&&d.span.start<r.span.end;)m+=1;if(p<m)return{level:l,lateralStart:p,lateralEnd:m}}return null}(t,n,i),o),a=e[n][i];return[Object(c.a)(Object(c.a)({},a),{nextLevelNodes:r[0]}),a.thickness+r[1]]});return V(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,o)[0]}(n);return i=b,r=D(function(t,e,o){return Object(s.Y)(t)},function(t,e,o){var n,i=t.nextLevelNodes,a=t.thickness,s=a+o,l=a/s,b=[];if(i.length)for(var d=0,u=i;d<u.length;d++){var p=u[d];if(void 0===n)n=(m=r(p,e,s))[0],b.push(m[1]);else{var m=r(p,n,0);b.push(m[1])}}else n=1;var f=(n-e)*l;return[n-f,Object(c.a)(Object(c.a)({},t),{thickness:f,nextLevelNodes:b})]}),{segRects:function(t){var e=[],o=D(function(t,e,o){return Object(s.Y)(t)},function(t,o,i){var r=Object(c.a)(Object(c.a)({},t),{levelCoord:o,stackDepth:i,stackForward:0});return e.push(r),r.stackForward=n(t.nextLevelNodes,o+t.thickness,i+1)+1});function n(t,e,n){for(var i=0,r=0,a=t;r<a.length;r++)i=Math.max(o(a[r],e,n),i);return i}return n(t,0,0),e}(b=i.map(function(t){return r(t,0,0)[1]})),hiddenGroups:l}}(i,o,n),d=b.hiddenGroups,u=[],p=0,m=b.segRects;p<m.length;p++){var f=m[p];u.push({seg:t[f.index],rect:f})}for(var g=0,h=r;g<h.length;g++)u.push({seg:h[g],rect:null});return{segPlacements:u,hiddenGroups:d}}(t,x(t,u.date,u.slatCoords,a.eventMinHeight),d,l),v=h.segPlacements,y=h.hiddenGroups;return Object(s.mb)(s.v,null,this.renderHiddenGroups(y,t),v.map(function(t){var a=t.seg,l=t.rect,d=a.eventRange.instance.instanceId,u=g||Boolean(!e[d]&&l),h=Q(l&&l.span),v=!g&&l?r.computeSegHStyle(l):{left:0,right:0},y=Boolean(l)&&l.stackForward>0,_=Boolean(l)&&l.span.end-l.span.start<b;return Object(s.mb)("div",{className:"fc-timegrid-event-harness"+(y?" fc-timegrid-event-harness-inset":""),key:d,style:Object(c.a)(Object(c.a)({visibility:u?"":"hidden"},h),v)},Object(s.mb)(S,Object(c.a)({seg:a,isDragging:o,isResizing:n,isDateSelecting:i,isSelected:d===p,isShort:_},Object(s.Pb)(a,m,f))))}))},e.prototype.renderHiddenGroups=function(t,e){var o=this.props,n=o.extraDateSpan,i=o.dateProfile,r=o.todayRange,a=o.nowDate,c=o.eventSelection,l=o.eventDrag,b=o.eventResize;return Object(s.mb)(s.v,null,t.map(function(t){var o,d=Q(t.span),u=(o=e,t.entries.map(function(t){return o[t.index]}));return Object(s.mb)(W,{key:Object(s.bb)(Object(s.fb)(u)),hiddenSegs:u,top:d.top,bottom:d.bottom,extraDateSpan:n,dateProfile:i,todayRange:r,nowDate:a,eventSelection:c,eventDrag:l,eventResize:b})}))},e.prototype.renderFillSegs=function(t,e){var o=this.props,n=x(t,o.date,o.slatCoords,this.context.options.eventMinHeight).map(function(n,i){var r=t[i];return Object(s.mb)("div",{key:Object(s.ab)(r.eventRange),className:"fc-timegrid-bg-harness",style:Q(n)},"bg-event"===e?Object(s.mb)(s.c,Object(c.a)({seg:r},Object(s.Pb)(r,o.todayRange,o.nowDate))):Object(s.vc)(e))});return Object(s.mb)(s.v,null,n)},e.prototype.renderNowIndicator=function(t){var e=this.props,o=e.slatCoords,n=e.date;return o?t.map(function(t,e){return Object(s.mb)(s.y,{isAxis:!1,date:n,key:e},function(e,i,r,a){return Object(s.mb)("div",{ref:e,className:["fc-timegrid-now-indicator-line"].concat(i).join(" "),style:{top:o.computeDateTop(t.start,n)}},a)})}):null},e.prototype.computeSegHStyle=function(t){var e,o,n=this.context,i=n.isRtl,r=n.options.slotEventOverlap,a=t.levelCoord,s=t.levelCoord+t.thickness;r&&(s=Math.min(1,a+2*(s-a))),i?(e=1-s,o=a):(e=a,o=1-s);var c={zIndex:t.stackDepth+1,left:100*e+"%",right:100*o+"%"};return r&&!t.stackForward&&(c[i?"marginLeft":"marginRight"]=20),c},e}(s.b);function j(t,e){var o=e.todayRange,n=e.nowDate,i=e.eventSelection,r=e.eventDrag,a=e.eventResize,l=(r?r.affectedInstances:null)||(a?a.affectedInstances:null)||{};return Object(s.mb)(s.v,null,t.map(function(t){var e=t.eventRange.instance.instanceId;return Object(s.mb)("div",{key:e,style:{visibility:l[e]?"hidden":""}},Object(s.mb)(S,Object(c.a)({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:e===i,isShort:!1},Object(s.Pb)(t,o,n))))}))}function Q(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}var I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitFgEventSegs=Object(s.jc)(_),e.splitBgEventSegs=Object(s.jc)(_),e.splitBusinessHourSegs=Object(s.jc)(_),e.splitNowIndicatorSegs=Object(s.jc)(_),e.splitDateSelectionSegs=Object(s.jc)(_),e.splitEventDrag=Object(s.jc)(k),e.splitEventResize=Object(s.jc)(k),e.rootElRef=Object(s.rb)(),e.cellElRefs=new s.B,e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,o=this.context.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),n=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,n),r=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitBusinessHourSegs(e.businessHourSegs,n),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,n),l=this.splitDateSelectionSegs(e.dateSelectionSegs,n),b=this.splitEventDrag(e.eventDrag,n),d=this.splitEventResize(e.eventResize,n);return Object(s.mb)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Object(s.mb)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,Object(s.mb)("tbody",{role:"presentation"},Object(s.mb)("tr",{role:"row"},e.axis&&Object(s.mb)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Object(s.mb)("div",{className:"fc-timegrid-col-frame"},Object(s.mb)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof o&&Object(s.mb)(s.y,{isAxis:!0,date:e.nowDate},function(t,e,n,i){return Object(s.mb)("div",{ref:t,className:["fc-timegrid-now-indicator-arrow"].concat(e).join(" "),style:{top:o}},i)})))),e.cells.map(function(o,n){return Object(s.mb)(P,{key:o.key,elRef:t.cellElRefs.createRef(o.key),dateProfile:e.dateProfile,date:o.date,nowDate:e.nowDate,todayRange:e.todayRange,extraHookProps:o.extraHookProps,extraDataAttrs:o.extraDataAttrs,extraClassNames:o.extraClassNames,extraDateSpan:o.extraDateSpan,fgEventSegs:i[n],bgEventSegs:r[n],businessHourSegs:a[n],nowIndicatorSegs:c[n],dateSelectionSegs:l[n],eventDrag:b[n],eventResize:d[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var t,e=this.props;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new s.A(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map(function(e){return t[e.key]})),!0,!1))},e}(s.b),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.processSlotOptions=Object(s.jc)(N),e.state={slatCoords:null},e.handleRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e.handleScrollRequest=function(t){var o=e.props.onScrollTopRequest,n=e.state.slatCoords;if(o&&n){if(t.time){var i=n.computeTimeTop(t.time);(i=Math.ceil(i))&&(i+=1),o(i)}return!0}return!1},e.handleColCoords=function(t){e.colCoords=t},e.handleSlatCoords=function(t){e.setState({slatCoords:t}),e.props.onSlatCoords&&e.props.onSlatCoords(t)},e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.state;return Object(s.mb)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(s.mb)(y,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Object(s.mb)(I,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:e.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(t,e){var o=this.context,n=o.dateEnv,i=this.colCoords,r=this.props.dateProfile,a=this.state.slatCoords,l=this.processSlotOptions(this.props.slotDuration,o.options.snapDuration),b=l.snapDuration,d=l.snapsPerSlot,u=i.leftToIndex(t),p=a.positions.topToIndex(e);if(null!=u&&null!=p){var m=this.props.cells[u],f=a.positions.tops[p],g=a.positions.getHeight(p),h=p*d+Math.floor((e-f)/g*d),v=this.props.cells[u].date,y=Object(s.P)(r.slotMinTime,Object(s.kc)(b,h)),_=n.add(v,y),k=n.add(_,b);return{dateProfile:r,dateSpan:Object(c.a)({range:{start:_,end:k},allDay:!1},m.extraDateSpan),dayEl:i.els[u],rect:{left:i.lefts[u],right:i.rights[u],top:f,bottom:f+g},layer:0}}return null},e}(s.i);function N(t,e){var o=e||t,n=Object(s.Ec)(t,o);return null===n&&(o=t,n=1),{snapDuration:o,snapsPerSlot:n}}var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.sliceRange=function(t,e){for(var o=[],n=0;n<e.length;n+=1){var i=Object(s.Zb)(t,e[n]);i&&o.push({start:i.start,end:i.end,isStart:i.start.valueOf()===t.start.valueOf(),isEnd:i.end.valueOf()===t.end.valueOf(),col:n})}return o},e}(s.H),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayRanges=Object(s.jc)(q),e.slicer=new B,e.timeColsRef=Object(s.rb)(),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,o=this.context,n=e.dateProfile,i=e.dayTableModel,r=o.options.nowIndicator,a=this.buildDayRanges(i,n,o.dateEnv);return Object(s.mb)(s.z,{unit:r?"minute":"day"},function(l,b){return Object(s.mb)(L,Object(c.a)({ref:t.timeColsRef},t.slicer.sliceProps(e,n,null,o,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:r&&t.slicer.sliceNowDate(l,o,a),todayRange:b,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords}))})},e}(s.i);function q(t,e,o){for(var n=[],i=0,r=t.headerDates;i<r.length;i++){var a=r[i];n.push({start:o.add(a,e.slotMinTime),end:o.add(a,e.slotMaxTime)})}return n}var T=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function E(t,e,o,n,i){for(var r=new Date(0),a=t,c=Object(s.lb)(0),l=o||function(t){var e,o,n;for(e=T.length-1;e>=0;e-=1)if(o=Object(s.lb)(T[e]),null!==(n=Object(s.Ec)(o,t))&&n>1)return o;return t}(n),b=[];Object(s.W)(a)<Object(s.W)(e);){var d=i.add(r,a),u=null!==Object(s.Ec)(c,l);b.push({date:d,time:a,key:d.toISOString(),isoTimeStr:Object(s.Db)(d),isLabeled:u}),a=Object(s.P)(a,n),c=Object(s.P)(c,n)}return b}var F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildTimeColsModel=Object(s.jc)(H),e.buildSlatMetas=Object(s.jc)(E),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.context,o=e.options,n=e.dateEnv,i=this.props,r=i.dateProfile,l=this.buildTimeColsModel(r,e.dateProfileGenerator),b=this.allDaySplitter.splitProps(i),d=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,o.slotLabelInterval,o.slotDuration,n),u=o.dayMinWidth,p=!u,m=u,f=o.dayHeaders&&Object(s.mb)(s.m,{dates:l.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:p?this.renderHeadAxis:null}),g=!1!==o.allDaySlot&&function(e){return Object(s.mb)(a.a,Object(c.a)({},b.allDay,{dateProfile:r,dayTableModel:l,nextDayThreshold:o.nextDayThreshold,tableMinWidth:e.tableMinWidth,colGroupNode:e.tableColGroupNode,renderRowIntro:p?t.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:t.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:i.forPrint},t.getAllDayMaxEventProps()))},h=function(e){return Object(s.mb)(A,Object(c.a)({},b.timed,{dayTableModel:l,dateProfile:r,axis:p,slotDuration:o.slotDuration,slatMetas:d,forPrint:i.forPrint,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,onSlatCoords:t.handleSlatCoords,expandRows:e.expandRows,onScrollTopRequest:t.handleScrollTopRequest}))};return m?this.renderHScrollLayout(f,g,h,l.colCnt,u,d,this.state.slatCoords):this.renderSimpleLayout(f,g,h)},e}(f);function H(t,e){var o=new s.n(t.renderRange,e);return new s.o(o,!1)}var z={allDaySlot:Boolean},U=Object(s.qb)({initialView:"timeGridWeek",optionRefiners:z,views:{timeGrid:{component:F,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={textId:Object(s.Sb)()},e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.context,e=t.theme,o=t.dateEnv,n=t.options,i=t.viewApi,r=this.props,a=r.cellId,l=r.dayDate,b=r.todayRange,d=this.state.textId,u=Object(s.Fb)(l,b),p=n.listDayFormat?o.format(l,n.listDayFormat):"",m=n.listDaySideFormat?o.format(l,n.listDaySideFormat):"",f=Object(c.a)({date:o.toDate(l),view:i,textId:d,text:p,sideText:m,navLinkAttrs:Object(s.cb)(this.context,l),sideNavLinkAttrs:Object(s.cb)(this.context,l,"day",!1)},u),g=["fc-list-day"].concat(Object(s.Gb)(u,e));return Object(s.mb)(s.C,{hookProps:f,classNames:n.dayHeaderClassNames,content:n.dayHeaderContent,defaultContent:K,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},function(t,o,n,i){return Object(s.mb)("tr",{ref:t,className:g.concat(o).join(" "),"data-date":Object(s.Cb)(l)},Object(s.mb)("th",{scope:"colgroup",colSpan:3,id:a,"aria-labelledby":d},Object(s.mb)("div",{className:"fc-list-day-cushion "+e.getClass("tableCellShaded"),ref:n},i)))})},e}(s.b);function K(t){return Object(s.mb)(s.v,null,t.text&&Object(s.mb)("a",Object(c.a)({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&Object(s.mb)("a",Object(c.a)({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}var X=Object(s.pb)({hour:"numeric",minute:"2-digit",meridiem:"short"}),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.context,o=t.seg,n=t.timeHeaderId,i=t.eventHeaderId,r=t.dateHeaderId,a=e.options.eventTimeFormat||X;return Object(s.mb)(s.u,{seg:o,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:function(){return function(t,e){var o=Object(s.Ob)(t,e);return Object(s.mb)("a",Object(c.a)({},o),t.eventRange.def.title)}(o,e)},isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,isSelected:t.isSelected,isDragging:t.isDragging,isResizing:t.isResizing,isDateSelecting:t.isDateSelecting},function(t,c,l,b,d){return Object(s.mb)("tr",{className:["fc-list-event",d.event.url?"fc-event-forced-url":""].concat(c).join(" "),ref:t},function(t,e,o,n,i){var r=o.options;if(!1!==r.displayEventTime){var a=t.eventRange.instance,c=!1,l=void 0;if(t.eventRange.def.allDay?c=!0:Object(s.gc)(t.eventRange.range)?t.isStart?l=Object(s.db)(t,e,o,null,null,a.range.start,t.end):t.isEnd?l=Object(s.db)(t,e,o,null,null,t.start,a.range.end):c=!0:l=Object(s.db)(t,e,o),c){var b={text:o.options.allDayText,view:o.viewApi};return Object(s.mb)(s.C,{hookProps:b,classNames:r.allDayClassNames,content:r.allDayContent,defaultContent:Y,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},function(t,e,o,r){return Object(s.mb)("td",{ref:t,headers:n+" "+i,className:["fc-list-event-time"].concat(e).join(" ")},r)})}return Object(s.mb)("td",{className:"fc-list-event-time"},l)}return null}(o,a,e,n,r),Object(s.mb)("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},Object(s.mb)("span",{className:"fc-list-event-dot",style:{borderColor:d.borderColor||d.backgroundColor}})),Object(s.mb)("td",{ref:l,headers:i+" "+r,className:"fc-list-event-title"},b))})},e}(s.b);function Y(t){return t.text}var Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.computeDateVars=Object(s.jc)(tt),e.eventStoreToSegs=Object(s.jc)(e._eventStoreToSegs),e.state={timeHeaderId:Object(s.Sb)(),eventHeaderId:Object(s.Sb)(),dateHeaderIdRoot:Object(s.Sb)()},e.setRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t}):e.context.unregisterInteractiveComponent(e)},e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,o=this.context,n=["fc-list",o.theme.getClass("table"),!1!==o.options.stickyHeaderDates?"fc-list-sticky":""],i=this.computeDateVars(e.dateProfile),r=i.dayDates,a=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i.dayRanges);return Object(s.mb)(s.L,{viewSpec:o.viewSpec,elRef:this.setRootEl},function(o,i){return Object(s.mb)("div",{ref:o,className:n.concat(i).join(" ")},Object(s.mb)(s.E,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},a.length>0?t.renderSegList(a,r):t.renderEmptyMessage()))})},e.prototype.renderEmptyMessage=function(){var t=this.context,e=t.options,o={text:e.noEventsText,view:t.viewApi};return Object(s.mb)(s.C,{hookProps:o,classNames:e.noEventsClassNames,content:e.noEventsContent,defaultContent:J,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},function(t,e,o,n){return Object(s.mb)("div",{className:["fc-list-empty"].concat(e).join(" "),ref:t},Object(s.mb)("div",{className:"fc-list-empty-cushion",ref:o},n))})},e.prototype.renderSegList=function(t,e){var o=this.context,n=o.theme,i=o.options,r=this.state,a=r.timeHeaderId,l=r.eventHeaderId,b=r.dateHeaderIdRoot,d=function(t){var e,o,n=[];for(e=0;e<t.length;e+=1)(n[(o=t[e]).dayIndex]||(n[o.dayIndex]=[])).push(o);return n}(t);return Object(s.mb)(s.z,{unit:"day"},function(t,o){for(var r=[],u=0;u<d.length;u+=1){var p=d[u];if(p){var m=Object(s.Cb)(e[u]),f=b+"-"+m;r.push(Object(s.mb)(G,{key:m,cellId:f,dayDate:e[u],todayRange:o}));for(var g=0,h=p=Object(s.zc)(p,i.eventOrder);g<h.length;g++){var v=h[g];r.push(Object(s.mb)($,Object(c.a)({key:m+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:a,eventHeaderId:l,dateHeaderId:f},Object(s.Pb)(v,o,t))))}}}return Object(s.mb)("table",{className:"fc-list-table "+n.getClass("table")},Object(s.mb)("thead",null,Object(s.mb)("tr",null,Object(s.mb)("th",{scope:"col",id:a},i.timeHint),Object(s.mb)("th",{scope:"col","aria-hidden":!0}),Object(s.mb)("th",{scope:"col",id:l},i.eventHint))),Object(s.mb)("tbody",null,r))})},e.prototype._eventStoreToSegs=function(t,e,o){return this.eventRangesToSegs(Object(s.yc)(t,e,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,o)},e.prototype.eventRangesToSegs=function(t,e){for(var o=[],n=0,i=t;n<i.length;n++)o.push.apply(o,this.eventRangeToSegs(i[n],e));return o},e.prototype.eventRangeToSegs=function(t,e){var o,n,i,r=this.context.dateEnv,a=this.context.options.nextDayThreshold,c=t.range,l=t.def.allDay,b=[];for(o=0;o<e.length;o+=1)if((n=Object(s.Zb)(c,e[o]))&&(i={component:this,eventRange:t,start:n.start,end:n.end,isStart:t.isStart&&n.start.valueOf()===c.start.valueOf(),isEnd:t.isEnd&&n.end.valueOf()===c.end.valueOf(),dayIndex:o},b.push(i),!i.isEnd&&!l&&o+1<e.length&&c.end<r.add(e[o+1].start,a))){i.end=c.end,i.isEnd=!0;break}return b},e}(s.i);function J(t){return t.text}function tt(t){for(var e=Object(s.Ac)(t.renderRange.start),o=t.renderRange.end,n=[],i=[];e<o;)n.push(e),i.push({start:e,end:Object(s.O)(e,1)}),e=Object(s.O)(e,1);return{dayDates:n,dayRanges:i}}var et={listDayFormat:ot,listDaySideFormat:ot,noEventsClassNames:s.Wb,noEventsContent:s.Wb,noEventsDidMount:s.Wb,noEventsWillUnmount:s.Wb};function ot(t){return!1===t?null:Object(s.pb)(t)}var nt=Object(s.qb)({optionRefiners:et,views:{list:{component:Z,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),it=o("ogxq"),rt=o("iInd");let at=0;function st(){return String(at++)}(new Date).toISOString().replace(/T.*$/,""),st(),st();var ct=o("8Y7J"),lt=o("IheW");let bt=(()=>{class t{constructor(t){this.httpclient=t}getInventories(){return this.httpclient.get("http://localhost:8000/api/dms/enventories")}}return t.\u0275fac=function(e){return new(e||t)(ct.dc(lt.b))},t.\u0275prov=ct.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var dt=o("s7LF");function ut(t,e){if(1&t&&(ct.Wb(0,"tr"),ct.Wb(1,"td"),ct.Qc(2),ct.Vb(),ct.Vb()),2&t){const t=e.$implicit;ct.Db(2),ct.Rc(t.id)}}const pt=[{path:"",component:(()=>{class t{constructor(t){this.getinventorybookingservice=t,this.calendarOptions={},this.currentEvents=[]}ngOnInit(){this.getInventories()}getInventories(){this.getinventorybookingservice.getInventories().subscribe(t=>{this.inventories=t}),console.log("INV",this.inventories)}handleWeekendsToggle(){const{calendarOptions:t}=this;t.weekends=!t.weekends}handleDateSelect(t){const e=prompt("Please enter a new title for your event"),o=t.view.calendar;o.unselect(),e&&o.addEvent({id:st(),title:e,start:t.startStr,end:t.endStr,allDay:t.allDay})}handleEventClick(t){confirm(`Are you sure you want to delete the event '${t.event.title}'`)&&t.event.remove()}handleEvents(t){this.currentEvents=t}}return t.\u0275fac=function(e){return new(e||t)(ct.Qb(bt))},t.\u0275cmp=ct.Kb({type:t,selectors:[["dms-calendar"]],decls:35,vars:2,consts:[[1,"card"],[1,"card-body","row"],[1,"col-md-12"],["for","search"],[1,"row"],["action",""],[1,"bookingForm"],[1,"form-group","start-date"],["for","start_date"],["type","datetime-local","name","start_date",1,"form-control"],[1,"form-group","destination"],[1,"form-group"],["for","end_date"],["type","datetime-local","name","end_date",1,"form-control"],[1,"form-group","getBookingButton"],[1,"btn","btn-info","btn-md"],[1,"main-container"],[1,"calendar-view"],[1,"customcalenderwrapper"],[1,"myinventories"],[1,""],["scope","5"],[4,"ngFor","ngForOf"],[1,"custsomFreeCalender",3,"options"]],template:function(t,e){1&t&&(ct.Wb(0,"div",0),ct.Wb(1,"div",1),ct.Wb(2,"div",2),ct.Wb(3,"label",3),ct.Wb(4,"h5"),ct.Qc(5,"Assign Asset for SKU 0000"),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(6,"div",2),ct.Wb(7,"div",4),ct.Wb(8,"form",5),ct.Wb(9,"div",6),ct.Wb(10,"div",7),ct.Wb(11,"label",8),ct.Qc(12,"From"),ct.Vb(),ct.Rb(13,"input",9),ct.Vb(),ct.Wb(14,"div",10),ct.Qc(15," To "),ct.Vb(),ct.Wb(16,"div",11),ct.Rb(17,"label",12),ct.Rb(18,"input",13),ct.Vb(),ct.Wb(19,"div",14),ct.Wb(20,"button",15),ct.Qc(21,"submit"),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(22,"div",16),ct.Wb(23,"div",17),ct.Wb(24,"div",18),ct.Wb(25,"div",19),ct.Wb(26,"table",20),ct.Wb(27,"thead"),ct.Wb(28,"tr"),ct.Wb(29,"th",21),ct.Qc(30," List Of Inventories "),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(31,"tbody"),ct.Oc(32,ut,3,1,"tr",22),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(33,"div",20),ct.Rb(34,"full-calendar",23),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb()),2&t&&(ct.Db(32),ct.rc("ngForOf",e.inventories),ct.Db(2),ct.rc("options",e.calendarOptions))},directives:[dt.z,dt.q,dt.r,n.o,r.a],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filler[_ngcontent-%COMP%]{flex:1 1 1px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:14px}.calendar-view[_ngcontent-%COMP%]{flex:1 1 1px;padding-bottom:3em}.fc[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}.fc.fc-button-primary[_ngcontent-%COMP%]:disabled{margin-bottom:5px!important;margin-left:8px!important;width:77px!important}.invertories_header[_ngcontent-%COMP%]{padding-top:91px;margin-left:-22px}.customcalenderwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px auto}.bookingForm[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,250px);align-items:center}.destination[_ngcontent-%COMP%], .getBookingButton[_ngcontent-%COMP%]{justify-self:center}"]}),t})(),data:{title:"Calendar"}}];let mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ct.Ob({type:t}),t.\u0275inj=ct.Nb({imports:[[rt.g.forChild(pt)],rt.g]}),t})();r.b.registerPlugins([a.b,U,nt,it.a]);let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ct.Ob({type:t}),t.\u0275inj=ct.Nb({imports:[[n.c,mt,i.a,r.b],r.b]}),t})()},zzSa:function(t,e,o){"use strict";o.r(e),o.d(e,"DmsModule",function(){return _e});var n=o("SVse"),i=o("Wcfd"),r=o("rVqu"),a=o("LqlI"),s=o("s7LF"),c=o("iInd"),l=o("8Y7J");let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-dms"]],decls:1,vars:0,template:function(t,e){1&t&&l.Rb(0,"router-outlet")},directives:[c.h],styles:[".mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),t})();function d(t){let e=""+t;for(;e.length<4;)e="0"+e;return"BK-"+e}var u=o("IheW"),p=o("JIr8"),m=o("lJxs"),f=o("z6cu"),g=o("cxbk");let h=(()=>{class t{constructor(t){this.httpClient=t,this.baseUrl=g.b.apiBaseUrl+"/dms/",this.httpOptions={headers:new u.e({"Content-Type":"application/json"})},this.errorHandler=t=>{let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(f.a)(e)}}get(t){return this.map(this.httpClient.get(this.baseUrl+t,this.httpOptions))}post(t,e){return this.map(this.httpClient.post(this.baseUrl+t,e,this.httpOptions))}put(t,e){return this.map(this.httpClient.put(this.baseUrl+t,e,this.httpOptions))}map(t){return t.pipe(Object(p.a)(this.errorHandler),Object(m.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.b))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v=(()=>{class t{constructor(t){this.apiClient=t}getList(t,e=null){return this.apiClient.get("inventories/"+t+(e?"?search="+e:""))}}return t.\u0275fac=function(e){return new(e||t)(l.dc(h))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=o("G56j"),_=o("ZRSf"),k=o("hhfa"),W=o("MY3+"),O=o("gtx6");function V(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",8),l.Wb(1,"div",9),l.Wb(2,"div"),l.Qc(3,"Inventory Listing"),l.Vb(),l.Wb(4,"div",10),l.Wb(5,"a",11),l.Rb(6,"i",12),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"div",13),l.Rb(8,"i",14),l.Wb(9,"input",15),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().search_text=e})("input",function(){return l.Fc(t),l.kc().onSearch()}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(9),l.rc("ngModel",t.search_text)}}const C=function(){return{width:"5%"}};function w(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",16),l.Wb(2,"div",17),l.Qc(3," Serial No "),l.Wb(4,"div",18),l.Rb(5,"p-sortIcon",19),l.Rb(6,"p-columnFilter",20),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",21),l.Wb(8,"div",17),l.Qc(9," SKU "),l.Wb(10,"div",22),l.Rb(11,"p-sortIcon",23),l.Rb(12,"p-columnFilter",24),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",25),l.Wb(14,"div",17),l.Qc(15," Product Name "),l.Wb(16,"div",26),l.Rb(17,"p-sortIcon",27),l.Rb(18,"p-columnFilter",28),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",29),l.Wb(20,"div",30),l.Qc(21," Agency/ Principal "),l.Wb(22,"div",31),l.Rb(23,"p-sortIcon",32),l.Rb(24,"p-columnFilter",33),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",34),l.Wb(26,"div",17),l.Qc(27," Description "),l.Wb(28,"div",35),l.Rb(29,"p-sortIcon",36),l.Rb(30,"p-columnFilter",37),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"th",38),l.Wb(32,"div",17),l.Qc(33," Status "),l.Wb(34,"div",39),l.Rb(35,"p-sortIcon",40),l.Rb(36,"p-columnFilter",41),l.Vb(),l.Vb(),l.Vb(),l.Rb(37,"th"),l.Vb()),2&t&&(l.Db(37),l.Kc(l.uc(2,C)))}function D(t,e){if(1&t&&(l.Wb(0,"tr",42),l.Wb(1,"td",43),l.Qc(2),l.lc(3,"number"),l.Vb(),l.Wb(4,"td",43),l.Qc(5),l.Vb(),l.Wb(6,"td",43),l.Qc(7),l.Vb(),l.Wb(8,"td",43),l.Qc(9),l.Vb(),l.Wb(10,"td",43),l.Qc(11),l.Vb(),l.Wb(12,"td",43),l.Qc(13),l.Vb(),l.Vb()),2&t){const t=e.$implicit;l.Db(2),l.Sc(" ",l.nc(3,6,t.serial_no,"3.")," "),l.Db(3),l.Sc(" ",t.stock_keep_unit," "),l.Db(2),l.Sc(" ",t.product_name," "),l.Db(2),l.Sc(" ",t.agency_name," "),l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.status," ")}}function x(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"td",44),l.Qc(2," No records found "),l.Vb(),l.Vb()),2&t&&(l.Db(1),l.Eb("colspan",6))}const R=function(){return["serial_no","stock_keep_unit","product_name"]},S=function(){return{showAll:"All"}},M=function(t){return[10,25,50,t]};let P=(()=>{class t{constructor(t,e){this.api=t,this.location=e,this.current_tab="available",this.pageItems=10,this.search_text="",this.menuItems=[{label:"On-Hand",icon:"pi pi-home",routerLink:["available"],command:t=>{this.changeInvList(0,"available")}},{label:"Incoming",icon:"pi pi-clock",routerLink:["incoming"],command:t=>{this.changeInvList(1,"incoming")}},{label:"AFS",icon:"pi pi-bookmark",routerLink:["afs"],command:t=>{this.changeInvList(2,"afs")}},{label:"Archived",icon:"pi pi-file-excel",routerLink:["archived"],command:t=>{this.changeInvList(3,"archived")}}],this.activeItem=this.menuItems[0],this.formatBooking=d}ngOnInit(){this.changeInvList(0,"available"),this.location.replaceState("/dms/inventory/available")}onSearch(){this.searchTimerId&&clearTimeout(this.searchTimerId),this.searchTimerId=window.setTimeout(()=>{this.api.getList(this.current_tab,this.search_text).subscribe(t=>{t&&(this.inventoryList=t,console.log(this.current_tab))})},1500)}changeInvList(t,e){this.current_tab=e,this.loading=!0,this.api.getList(e).subscribe(t=>{t&&(this.inventoryList=t),console.log(t),this.loading=!1},t=>{this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(v),l.Qb(n.l))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-inventory"]],decls:8,vars:13,consts:[[3,"model","activeItem"],["styleClass","p-datatable-table",3,"loading","value","rowHover","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"rows","rowsPerPageOptions"],[1,"table-header","d-flex"],[1,"d-flex"],[1,"ml-2","mt-1"],["routerLink","/inventory/new","routerLinkActive","router-link-active"],[1,"icon-plus","icons",2,"color","#FFFFFF"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search",3,"ngModel","ngModelChange","input"],["pSortableColumn","serial_no",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","flex-direction","column","align-items","center"],[1,"th-icons"],["field","serial_no"],["type","numeric","field","serial_no","display","menu",1,"p-ml-auto"],["pSortableColumn","stock_keep_unit",1,"text-center"],[1,"sku-icons"],["field","stock_keep_unit"],["type","text","field","stock_keep_unit","display","menu",1,"p-ml-auto"],["pSortableColumn","product_name",1,"text-center"],[1,"product-icons"],["field","product_name"],["type","text","field","product_name","display","menu",1,"p-ml-auto"],["pSortableColumn","agency",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"agency-icons"],["field","agency"],["type","text","field","agency","display","menu",1,"p-ml-auto"],["pSortableColumn","description",1,"text-center"],[1,"desc-icons"],["field","description"],["type","text","field","description","display","menu",1,"p-ml-auto"],["pSortableColumn","status",1,"text-center"],[1,"status-icons"],["field","status"],["type","text","field","status","display","menu",1,"p-ml-auto"],[1,"p-selectable-row"],[1,"text-center"],[2,"text-align","center"]],template:function(t,e){1&t&&(l.Rb(0,"p-tabMenu",0),l.Wb(1,"p-table",1,2),l.Oc(3,V,10,1,"ng-template",3),l.Oc(4,w,38,3,"ng-template",4),l.Oc(5,D,14,9,"ng-template",5),l.Oc(6,x,3,1,"ng-template",6),l.Vb(),l.Rb(7,"p-paginator",7)),2&t&&(l.rc("model",e.menuItems)("activeItem",e.activeItem),l.Db(1),l.rc("loading",e.loading)("value",e.inventoryList)("rowHover",!0)("filterDelay",0)("globalFilterFields",l.uc(9,R)),l.Db(6),l.rc("rows",e.pageItems)("rowsPerPageOptions",l.vc(11,M,l.uc(10,S))))},directives:[y.a,_.e,k.h,W.a,c.f,c.e,s.c,O.a,s.p,s.s,_.d,_.c,_.a],pipes:[n.g],styles:[".card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-table .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}.agency-icons[_ngcontent-%COMP%], .booking-icons[_ngcontent-%COMP%], .desc-icons[_ngcontent-%COMP%], .product-icons[_ngcontent-%COMP%], .sku-icons[_ngcontent-%COMP%], .status-icons[_ngcontent-%COMP%], .th-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}"]}),t})(),j=(()=>{class t{constructor(t){this.apiClient=t}getList(){return this.apiClient.get("booking")}getListSearch(t){let e=new URLSearchParams({search:t}).toString();return this.apiClient.get("booking/search?"+e)}create(t){return this.apiClient.post("booking/createDraft",t)}updateBooking(t,e){return this.apiClient.put("booking/update/"+e,t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(h))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Q=["dangerModal"];function I(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",15),l.Wb(1,"div",16),l.Wb(2,"div"),l.Qc(3,"Booking Listing"),l.Vb(),l.Wb(4,"div",17),l.Wb(5,"a",18),l.gc("click",function(e){return l.Fc(t),l.kc().onCreate(e)}),l.Rb(6,"i",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"div",20),l.Wb(8,"label",21),l.Rb(9,"i",22),l.Vb(),l.Wb(10,"input",23),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().search_text=e})("input",function(){return l.Fc(t),l.kc().onSearch()}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(10),l.rc("ngModel",t.search_text)}}const L=function(){return{width:"5%"}};function N(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",24),l.Wb(2,"div",25),l.Qc(3," Booking No "),l.Wb(4,"div",26),l.Rb(5,"p-sortIcon",27),l.Rb(6,"p-columnFilter",28),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",29),l.Wb(8,"div",25),l.Qc(9," Request Date "),l.Wb(10,"div",30),l.Rb(11,"p-sortIcon",31),l.Rb(12,"p-columnFilter",32),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",33),l.Wb(14,"div",25),l.Qc(15," Requester "),l.Wb(16,"div",34),l.Rb(17,"p-sortIcon",35),l.Rb(18,"p-columnFilter",36),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",37),l.Wb(20,"div",25),l.Qc(21," SKU "),l.Wb(22,"div",38),l.Rb(23,"p-sortIcon",39),l.Rb(24,"p-columnFilter",40),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",41),l.Wb(26,"div",25),l.Qc(27," Product Desc "),l.Wb(28,"div",42),l.Rb(29,"p-sortIcon",43),l.Rb(30,"p-columnFilter",44),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"th",45),l.Wb(32,"div",25),l.Qc(33," Customer "),l.Wb(34,"div",46),l.Rb(35,"p-sortIcon",47),l.Rb(36,"p-columnFilter",48),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"th",49),l.Wb(38,"div",50),l.Qc(39," Booking Reason "),l.Wb(40,"div",26),l.Rb(41,"p-sortIcon",51),l.Rb(42,"p-columnFilter",52),l.Vb(),l.Vb(),l.Vb(),l.Wb(43,"th",53),l.Wb(44,"div",25),l.Qc(45," Status "),l.Wb(46,"div",54),l.Rb(47,"p-sortIcon",55),l.Rb(48,"p-columnFilter",56),l.Vb(),l.Vb(),l.Vb(),l.Rb(49,"th"),l.Vb()),2&t&&(l.Db(49),l.Kc(l.uc(2,L)))}function B(t,e){if(1&t&&(l.Wb(0,"tr",57),l.Wb(1,"td",58),l.Wb(2,"a",59),l.Qc(3),l.Vb(),l.Vb(),l.Wb(4,"td",58),l.Qc(5),l.Vb(),l.Wb(6,"td",58),l.Qc(7),l.Vb(),l.Wb(8,"td",58),l.Qc(9),l.Vb(),l.Wb(10,"td",58),l.Qc(11),l.Vb(),l.Wb(12,"td",58),l.Qc(13),l.Vb(),l.Wb(14,"td",58),l.Qc(15),l.Vb(),l.Wb(16,"td",58),l.Qc(17),l.Vb(),l.Vb()),2&t){const t=e.$implicit,o=l.kc();l.Db(2),l.sc("routerLink",t.id),l.Db(1),l.Rc(t.booking_no?t.booking_no:"Draft"),l.Db(2),l.Sc(" ",t.request_date," "),l.Db(2),l.Sc(" ",t.requester," "),l.Db(2),l.Sc(" ",t.sku," "),l.Db(2),l.Sc(" ",t.product_desc," "),l.Db(2),l.Sc(" ",t.customer," "),l.Db(2),l.Sc(" ",o.bookingReasonsNames[t.booking_reason-1]?o.bookingReasonsNames[t.booking_reason-1]:"Null"," "),l.Db(2),l.Sc(" ",o.bookingStatusNames[t.status-1]?o.bookingStatusNames[t.status-1]:"Null"," ")}}function A(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"td",60),l.Qc(2," No records found "),l.Vb(),l.Vb()),2&t&&(l.Db(1),l.Eb("colspan",8))}const q=function(){return["code","request_date","requester"]},T=function(){return{showAll:"All"}},E=function(t){return[10,25,50,t]};let F=(()=>{class t{constructor(t,e,o){this.api=t,this.router=e,this.route=o,this.pageItems=10,this.search_text="",this.icons=[],this.id="#",this.bookingReasonsNames=["event","demo","training","buyin"],this.bookingStatusNames=["approval request","approve","review","endorse","provision-ally approve","decline","conflict","extension request","demo item availability"]}ngOnInit(){this.loading=!0,this.api.getList().subscribe(t=>{t&&(this.bookingList=t),this.loading=!1},t=>{this.loading=!1})}onSearch(){this.searchTimerId&&clearTimeout(this.searchTimerId),this.searchTimerId=window.setTimeout(()=>{console.log("once runs"),this.api.getListSearch(this.search_text).subscribe(t=>{t&&(this.bookingList=t)})},1e3)}onCreate(t){return t.preventDefault(),this.api.create("booking").subscribe(t=>{this.router.navigate(["/dms/bookings",t])},t=>{console.log(t),this.alertBody="Unable to create new booking draft!",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)}),!1}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(j),l.Qb(c.c),l.Qb(c.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-bookings"]],viewQuery:function(t,e){if(1&t&&l.Vc(Q,1),2&t){let t;l.Cc(t=l.hc())&&(e.dangerModal=t.first)}},decls:18,vars:12,consts:[["styleClass","p-datatable-table",3,"loading","value","rowHover","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"rows","rowsPerPageOptions"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],[1,"table-header","d-flex"],[1,"d-flex"],[1,"ml-2","mt-1"],["href","","routerLinkActive","router-link-active",3,"click"],[1,"icon-plus","icons",2,"color","#FFFFFF"],[1,"p-input-icon-left"],["for","search-input"],[1,"pi","pi-search"],["id","search-input","type","text","pInputText","","placeholder","Global Search",3,"ngModel","ngModelChange","input"],["pSortableColumn","code",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","flex-direction","column","align-items","center"],[1,"booking-icons"],["field","code"],["type","text","field","code","display","menu",1,"p-ml-auto"],["pSortableColumn","request_date",1,"text-center"],[1,"request-date"],["field","request_date"],["type","date","field","request_date","display","menu",1,"p-ml-auto"],["pSortableColumn","requester",1,"text-center"],[1,"req-icons"],["field","requester"],["type","text","field","requester","display","menu",1,"p-ml-auto"],["pSortableColumn","sku",1,"text-center"],[1,"sku-icons"],["field","sku"],["type","text","field","sku","display","menu",1,"p-ml-auto"],["pSortableColumn","product_desc",1,"text-center"],[1,"prod-icons"],["field","product_desc"],["type","text","field","product_desc","display","menu",1,"p-ml-auto"],["pSortableColumn","customer",1,"text-center"],[1,"cust-icons"],["field","customer"],["type","text","field","customer","display","menu",1,"p-ml-auto"],["pSortableColumn","booking_reason",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],["field","booking_reason"],["type","numeric","field","booking_reason","display","menu",1,"p-ml-auto"],["pSortableColumn","status",1,"text-center"],[1,"status-icons"],["field","status"],["type","numeric","field","status","display","menu",1,"p-ml-auto"],[1,"p-selectable-row"],[1,"text-center"],["routerLinkActive","router-link-active",3,"routerLink"],[2,"text-align","center"]],template:function(t,e){1&t&&(l.Wb(0,"p-table",0,1),l.Oc(2,I,11,1,"ng-template",2),l.Oc(3,N,50,3,"ng-template",3),l.Oc(4,B,18,9,"ng-template",4),l.Oc(5,A,3,1,"ng-template",5),l.Vb(),l.Rb(6,"p-paginator",6),l.Wb(7,"div",7,8),l.Wb(9,"div",9),l.Wb(10,"div",10),l.Wb(11,"div",11),l.Wb(12,"h4",12),l.Qc(13,"Error"),l.Vb(),l.Vb(),l.Wb(14,"div",13),l.Wb(15,"p"),l.Qc(16),l.Vb(),l.Vb(),l.Rb(17,"div",14),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.rc("loading",e.loading)("value",e.bookingList)("rowHover",!0)("filterDelay",0)("globalFilterFields",l.uc(8,q)),l.Db(6),l.rc("rows",e.pageItems)("rowsPerPageOptions",l.vc(10,E,l.uc(9,T))),l.Db(10),l.Rc(e.alertBody))},directives:[_.e,k.h,W.a,a.a,c.e,s.c,O.a,s.p,s.s,_.d,_.c,_.a,c.f],styles:[".card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-table .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}.booking-icons[_ngcontent-%COMP%], .cust-icons[_ngcontent-%COMP%], .prod-icons[_ngcontent-%COMP%], .req-icons[_ngcontent-%COMP%], .request-date[_ngcontent-%COMP%], .sku-icons[_ngcontent-%COMP%], .status-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}"]}),t})(),H=(()=>{class t{constructor(t){this.apiClient=t}getList(){return this.apiClient.get("customer-list")}}return t.\u0275fac=function(e){return new(e||t)(l.dc(h))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var z=o("KnEf");const U=["successModal"],G=["dangerModal"],K=["foundModal"];function X(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit,o=l.kc(2);l.rc("value",t.id),l.Eb("selected",o.bookingDetailList.booking_reason==t.id||null),l.Db(1),l.Sc(" ",t.name," ")}}function $(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",15),l.Wb(1,"select",71),l.gc("change",function(e){return l.Fc(t),l.kc().changeReason(e.target.value)})("ngModelChange",function(e){return l.Fc(t),l.kc().selectedBooking=e}),l.Oc(2,X,2,3,"option",19),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(1),l.rc("ngModel",t.selectedBooking),l.Eb("disabled",t.editable),l.Db(1),l.rc("ngForOf",t.bookingReasons)}}function Y(t,e){1&t&&(l.Wb(0,"div"),l.Rb(1,"input",73),l.Vb())}function Z(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.sc("value",t.id),l.Db(1),l.Rc(t.company_name)}}function J(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.ans),l.Db(1),l.Rc(t.ans)}}function tt(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.value),l.Db(1),l.Rc(t.value)}}function et(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.value),l.Db(1),l.Rc(t.ans)}}function ot(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.name),l.Db(1),l.Rc(t.value)}}function nt(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.value),l.Db(1),l.Rc(t.ans)}}function it(t,e){1&t&&(l.Wb(0,"div",74),l.Wb(1,"p-accordion",75),l.Wb(2,"p-accordionTab",76),l.Wb(3,"p-header",77),l.Rb(4,"i",78),l.Wb(5,"span",79),l.Qc(6,"Bme Logs"),l.Vb(),l.Vb(),l.Wb(7,"table",80),l.Wb(8,"thead"),l.Wb(9,"tr"),l.Wb(10,"th"),l.Qc(11,"Work Order Type"),l.Vb(),l.Wb(12,"th"),l.Qc(13,"Required ?"),l.Vb(),l.Wb(14,"th"),l.Qc(15,"Work Order Number"),l.Vb(),l.Vb(),l.Vb(),l.Wb(16,"tbody"),l.Wb(17,"tr"),l.Wb(18,"td"),l.Qc(19,"Contingency"),l.Vb(),l.Wb(20,"td"),l.Wb(21,"select",81),l.Wb(22,"option",82),l.Qc(23,"Yes"),l.Vb(),l.Wb(24,"option",83),l.Qc(25,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"td"),l.Rb(27,"input",84),l.Vb(),l.Vb(),l.Wb(28,"tr"),l.Wb(29,"td"),l.Qc(30,"PDI"),l.Vb(),l.Wb(31,"td"),l.Wb(32,"select",85),l.Wb(33,"option",86),l.Qc(34,"Yes"),l.Vb(),l.Wb(35,"option",83),l.Qc(36,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"td"),l.Rb(38,"input",87),l.Vb(),l.Vb(),l.Wb(39,"tr"),l.Wb(40,"td"),l.Qc(41,"Installation"),l.Vb(),l.Wb(42,"td"),l.Wb(43,"select",88),l.Wb(44,"option",86),l.Qc(45,"Yes"),l.Vb(),l.Wb(46,"option",83),l.Qc(47,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(48,"td"),l.Rb(49,"input",89),l.Vb(),l.Vb(),l.Wb(50,"tr"),l.Wb(51,"td"),l.Qc(52,"TNC"),l.Vb(),l.Wb(53,"td"),l.Wb(54,"select",90),l.Wb(55,"option",91),l.Qc(56,"Yes"),l.Vb(),l.Wb(57,"option",83),l.Qc(58,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(59,"td"),l.Rb(60,"input",92),l.Vb(),l.Vb(),l.Wb(61,"tr"),l.Wb(62,"td"),l.Qc(63,"Training"),l.Vb(),l.Wb(64,"td"),l.Wb(65,"select",93),l.Wb(66,"option",86),l.Qc(67,"Yes"),l.Vb(),l.Wb(68,"option",83),l.Qc(69,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(70,"td"),l.Rb(71,"input",94),l.Vb(),l.Vb(),l.Wb(72,"tr"),l.Wb(73,"td"),l.Qc(74,"Warehouse QA"),l.Vb(),l.Wb(75,"td"),l.Wb(76,"select",95),l.Wb(77,"option",91),l.Qc(78,"Yes"),l.Vb(),l.Wb(79,"option",83),l.Qc(80,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(81,"td"),l.Rb(82,"input",96),l.Vb(),l.Vb(),l.Wb(83,"tr"),l.Wb(84,"td"),l.Qc(85,"Post-Deployment Repair"),l.Vb(),l.Wb(86,"td"),l.Wb(87,"select",97),l.Wb(88,"option",86),l.Qc(89,"Yes"),l.Vb(),l.Wb(90,"option",83),l.Qc(91,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(92,"td"),l.Rb(93,"input",98),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(2),l.rc("selected",!0),l.Db(20),l.rc("value",1))}let rt=(()=>{class t{constructor(t,e,o){this.fb=t,this.bookingService=e,this.apiCustomers=o,this.curDate=new Date(Date.now()).toLocaleDateString(),this.showBmeLogSec=!1,this.defaultInputValue=1,this.winningPercentageDefautl=30,this.PriorityDefaultValue=1,this.bookingReasons=[{id:1,name:"event"},{id:2,name:"demo"},{id:3,name:"training"},{id:4,name:"buyin"}],this.defaultPercentages=[{id:1,value:"30%"},{id:2,value:"40%"},{id:3,value:"50%"}],this.defaultAnswers=[{id:1,ans:"Yes"},{id:2,ans:"No"}],this.defaultPriority=1,this.defaultAnswer=1,this.selectedPercentage=1,this.participateInDemoAns=[{value:"1",ans:"Yes"},{value:"0",ans:"No"}],this.initiatorValues=[{id:1,ans:"FSS"},{id:2,ans:"Customer"}],this.sequenceOfDemoValues=[{value:"first",ans:"First"},{value:"middle",ans:"Middle"},{value:"last",ans:"Last"}],this.defaultPriorities=[{id:1,value:"High",name:"high"},{id:2,value:"Medium",name:"medium"},{id:3,value:"Low",name:"low"}],this.selectedBooking=1}changePrioritye(t){this.defaultPriority=t}changePriority(t){}changeAnswer(t){this.defaultAnswer=t}changeReason(t){this.selectedBooking=t,this.showBmeLogSec=2==t}ngOnInit(){"2"==this.bookingDetailList.booking_reason&&(this.editable=!0,this.selectedBooking=Number(this.bookingDetailList.booking_reason),this.showBmeLogSec=!0),this.apiCustomers.getList().subscribe(t=>{this.customers=t}),this.duration=this.bookingDetailList.demo_duration,this.formBooking=this.fb.group({customer:new s.f(this.bookingDetailList.customer_id),booking_reason:new s.f(this.bookingDetailList.booking_reason),branch:new s.f(this.bookingDetailList.branch),date_of_delivery:new s.f(this.bookingDetailList.preferred_date_of_delivery?this.dateToHtmlString(new Date(this.bookingDetailList.preferred_date_of_delivery)):null),date_of_collection:new s.f(this.bookingDetailList.preferred_date_of_collection?this.dateToHtmlString(new Date(this.bookingDetailList.preferred_date_of_collection)):null),demo_duration:new s.f(this.duration),department:new s.f(this.bookingDetailList.department),location:new s.f(this.bookingDetailList.location),contact_name:new s.f(this.bookingDetailList.ship_to_contact_name),contact_number:new s.f(this.bookingDetailList.ship_to_contact_number),remarks:new s.f(this.bookingDetailList.remarks),wo_con_req:new s.f(this.bookingDetailList.bme_con_req?1:0),wo_con_won:new s.f(this.bookingDetailList.con_won),wo_pdi_req:new s.f(this.bookingDetailList.bme_pdi_re?1:0),wo_pdi_won:new s.f(this.bookingDetailList.pdi_won),wo_ins_req:new s.f(this.bookingDetailList.bme_ins_req?1:0),wo_ins_won:new s.f(this.bookingDetailList.ins_won),wo_tnc_req:new s.f(this.bookingDetailList.bme_tnc_won?1:0),wo_tnc_won:new s.f(this.bookingDetailList.tnc_won),wo_trn_req:new s.f(this.bookingDetailList.bme_trn_req?1:0),wo_trn_won:new s.f(this.bookingDetailList.trn_won),wo_wq_req:new s.f(this.bookingDetailList.bme_war_req?1:0),wo_wq_won:new s.f(this.bookingDetailList.war_won),wo_pdr_req:new s.f(this.bookingDetailList.bme_pdr_req?1:0),wo_pdr_won:new s.f(this.bookingDetailList.pdr_won),opportunity_code:new s.f(this.bookingDetailList.opportunity_code),priority:new s.f(this.bookingDetailList.priority),probability:new s.f(this.bookingDetailList.probability),initiator:new s.f(this.bookingDetailList.initiator),is_competitor_in_demo:new s.f(this.bookingDetailList.is_competitor_in_demo),squence_of_demo:new s.f(this.bookingDetailList.squence_of_demo),selling_points:new s.f(this.bookingDetailList.selling_points),customer_feedback:new s.f(this.bookingDetailList.customer_feedback),pain_points:new s.f(this.bookingDetailList.pain_points)})}onSave(){this.bookingService.updateBooking({customer:this.formBooking.get("customer").value,booking_reason:this.formBooking.get("booking_reason").value,branch:this.formBooking.get("branch").value,date_of_delivery:this.formBooking.get("date_of_delivery").value,date_of_collection:this.formBooking.get("date_of_collection").value,demo_duration:this.formBooking.get("demo_duration").value,department:this.formBooking.get("department").value,location:this.formBooking.get("location").value,contact_name:this.formBooking.get("contact_name").value,contact_number:this.formBooking.get("contact_number").value,remarks:this.formBooking.get("remarks").value,booking_save:!0,priority:this.formBooking.get("priority").value,probability:this.formBooking.get("probability").value,initiator:this.formBooking.get("initiator").value,is_competitor_in_demo:this.formBooking.get("is_competitor_in_demo").value,squence_of_demo:this.formBooking.get("squence_of_demo").value,selling_points:this.formBooking.get("selling_points").value,customer_feedback:this.formBooking.get("customer_feedback").value,pain_points:this.formBooking.get("pain_points").value,wo_con_req:this.formBooking.get("wo_con_req").value,wo_con_won:this.formBooking.get("wo_con_won").value,wo_pdi_req:this.formBooking.get("wo_pdi_req").value,wo_pdi_won:this.formBooking.get("wo_pdi_won").value,wo_ins_req:this.formBooking.get("wo_ins_req").value,wo_ins_won:this.formBooking.get("wo_ins_won").value,wo_tnc_req:this.formBooking.get("wo_tnc_req").value,wo_tnc_won:this.formBooking.get("wo_tnc_won").value,wo_trn_req:this.formBooking.get("wo_trn_req").value,wo_trn_won:this.formBooking.get("wo_trn_won").value,wo_wq_req:this.formBooking.get("wo_wq_req").value,wo_wq_won:this.formBooking.get("wo_wq_won").value,wo_pdr_req:this.formBooking.get("wo_pdr_req").value,wo_pdr_won:this.formBooking.get("wo_pdr_won").value},this.bookingDetailList.id).subscribe(t=>{t.id&&(this.editable=!0,this.alertBody="Booking saved successfully.",this.successModal.show(),setTimeout(()=>{this.successModal.hide()},2e3))},t=>{console.log(t),this.alertBody="The booking can't save",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)})}dateToHtmlString(t){let e=t.getMonth()+1+"";e=e.length<2?"0"+e:e;let o=t.getDate()+"";o=o.length<2?"0"+o:o;let n=t.getHours()+"";n=n.length<2?"0"+n:n;let i=t.getMinutes()+"";return i=i.length<2?"0"+i:i,t.getFullYear()+"-"+e+"-"+o+"T"+n+":"+i}durationChanged(){const t=this.formBooking.get("date_of_delivery").value,e=this.formBooking.get("demo_duration").value;if(null!=t&&e>0){var o=new Date(t);o.setTime(o.getTime()+864e5*e);let n=this.dateToHtmlString(o);console.log(n),this.formBooking.get("date_of_collection").setValue(n)}}onDuration(){const t=this.formBooking.get("date_of_delivery").value,e=this.formBooking.get("date_of_collection").value;if(console.log(e),null!=t&&""!=t&&null!=e&&""!=e){var o=new Date(t),n=new Date(e).getTime()-o.getTime();this.duration=n/864e5}}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(s.e),l.Qb(j),l.Qb(H))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-form-submit"]],viewQuery:function(t,e){if(1&t&&(l.Vc(U,1),l.Vc(G,1),l.Vc(K,1)),2&t){let t;l.Cc(t=l.hc())&&(e.successModal=t.first),l.Cc(t=l.hc())&&(e.dangerModal=t.first),l.Cc(t=l.hc())&&(e.foundModal=t.first)}},inputs:{bookingDetailList:"bookingDetailList"},decls:171,vars:17,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-md-2","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],[1,"col-md-6"],["for","booking-reason",1,"col-md-4","col-form-label"],["class","col-md-8",4,"ngIf"],[4,"ngIf"],[1,"col-md-4","col-form-label"],[1,"col-md-8"],[1,"col-md-4"],["formControlName","customer",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","branch",1,"col-md-2","col-form-label"],["type","text","formControlName","branch",1,"form-control"],["for","date-of-delivery",1,"col-md-4","col-form-label"],["formControlName","date_of_delivery","type","datetime-local","name","date-of-delivery",1,"form-control",3,"change"],["for","date-of-collection",1,"col-md-4","col-form-label"],["formControlName","date_of_collection","type","datetime-local","name","date-of-collection",1,"form-control",3,"change"],["for","demo-duration",1,"col-md-2","col-form-label"],[1,"col-md-2"],["type","number","formControlName","demo_duration",1,"form-control",3,"value","change"],["for","department",1,"col-md-2","col-form-label"],["type","text","formControlName","department",1,"form-control"],["for","contact-name",1,"col-md-4","col-form-label"],["formControlName","contact_name","type","text","name","contact-name",1,"form-control"],["for","contact-number",1,"col-md-4","col-form-label"],["formControlName","contact_number","type","text","name","contact-number",1,"form-control"],[3,"ngClass"],[1,"opportunityTitle"],[1,"opportunityBoxes"],[1,"opportunityBoxesSame"],[1,"opportunityBoxesSameFirst"],["for","",1,"opportunityBoxesLabel"],["formControlName","opportunity_code","type","text","placeholder","EX: BKYXXXX",1,"form-control","oppoturiniIdIput","disabled",3,"disabled"],["formControlName","initiator",1,"form-control"],["formControlName","probability",1,"form-control"],["formControlName","is_competitor_in_demo",1,"form-control"],["formControlName","priority",1,"form-control"],["formControlName","squence_of_demo",1,"form-control"],[1,"opportunitiesText"],["for","pain_points"],["formControlName","pain_points","cols","30","rows","4",2,"resize","none"],["for","selling_points"],["formControlName","selling_points","cols","30","rows","4",2,"resize","none"],["for","customer_feedback"],["formControlName","customer_feedback","cols","30","rows","4",2,"resize","none"],["for","remarks",1,"col-md-2","col-form-label"],["formControlName","remarks","rows","9",1,"form-control"],["class","form-group",4,"ngIf"],[1,"custom-footer","d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary"],[1,"fa","fa-plus"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["formControlName","booking_reason",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"value"],["type","text","value","demo","disabled","",1,"form-control"],[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-info"],[1,"accordion-header"],[1,"table","table-bordered"],["formControlName","wo_con_req",1,"form-control"],["selected","",3,"value"],["value","0"],["type","text","formControlName","wo_con_won","readonly","",1,"form-control"],["formControlName","wo_pdi_req",1,"form-control"],["value","1","selected",""],["type","text","formControlName","wo_pdi_won","readonly","",1,"form-control"],["formControlName","wo_ins_req",1,"form-control"],["type","text","formControlName","wo_ins_won","readonly","",1,"form-control"],["formControlName","wo_tnc_req",1,"form-control"],["value","1"],["type","text","formControlName","wo_tnc_won","readonly","",1,"form-control"],["formControlName","wo_trn_req",1,"form-control"],["type","text","formControlName","wo_trn_won","readonly","",1,"form-control"],["formControlName","wo_wq_req",1,"form-control"],["type","text","formControlName","wo_wq_won","readonly","",1,"form-control"],["formControlName","wo_pdr_req",1,"form-control"],["type","text","formControlName","wo_pdr_won","readonly","",1,"form-control"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"form",5),l.gc("ngSubmit",function(){return e.onSave()}),l.Wb(6,"div",6),l.Wb(7,"label",7),l.Qc(8,"Status"),l.Vb(),l.Wb(9,"div",8),l.Wb(10,"p",9),l.Qc(11,"DRAFT"),l.Vb(),l.Vb(),l.Vb(),l.Wb(12,"div",1),l.Wb(13,"div",10),l.Wb(14,"div",6),l.Wb(15,"label",11),l.Qc(16,"Booking reason"),l.Vb(),l.Oc(17,$,3,3,"div",12),l.Oc(18,Y,2,0,"div",13),l.Vb(),l.Vb(),l.Wb(19,"div",10),l.Wb(20,"div",6),l.Wb(21,"label",14),l.Qc(22,"Booking No"),l.Vb(),l.Wb(23,"div",15),l.Wb(24,"p",9),l.Qc(25),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"div",6),l.Wb(27,"label",7),l.Qc(28,"Request Date"),l.Vb(),l.Wb(29,"div",8),l.Wb(30,"p",9),l.Qc(31),l.Vb(),l.Vb(),l.Vb(),l.Wb(32,"div",6),l.Wb(33,"label",7),l.Qc(34,"Customer"),l.Vb(),l.Wb(35,"div",16),l.Wb(36,"select",17),l.Wb(37,"option",18),l.Qc(38,"Please select"),l.Vb(),l.Oc(39,Z,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(40,"div",6),l.Wb(41,"label",20),l.Qc(42,"Branch/site"),l.Vb(),l.Wb(43,"div",16),l.Rb(44,"input",21),l.Vb(),l.Vb(),l.Wb(45,"div",1),l.Wb(46,"div",10),l.Wb(47,"div",6),l.Wb(48,"label",22),l.Qc(49," Preferred Date of Delivery "),l.Vb(),l.Wb(50,"div",10),l.Wb(51,"input",23),l.gc("change",function(){return e.onDuration()}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(52,"div",10),l.Wb(53,"div",6),l.Wb(54,"label",24),l.Qc(55,"Preferred Date of Collection "),l.Vb(),l.Wb(56,"div",10),l.Wb(57,"input",25),l.gc("change",function(){return e.onDuration()}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(58,"div",6),l.Wb(59,"label",26),l.Qc(60," Demo Duration * "),l.Vb(),l.Wb(61,"div",27),l.Wb(62,"input",28),l.gc("change",function(){return e.durationChanged()}),l.Vb(),l.Vb(),l.Wb(63,"div",27),l.Qc(64,"Days"),l.Vb(),l.Vb(),l.Wb(65,"div",6),l.Wb(66,"label",29),l.Qc(67,"Ship-to Department/ Warde"),l.Vb(),l.Wb(68,"div",16),l.Rb(69,"input",30),l.Vb(),l.Vb(),l.Wb(70,"div",1),l.Wb(71,"div",10),l.Wb(72,"div",6),l.Wb(73,"label",31),l.Qc(74,"Ship to Contact Name "),l.Vb(),l.Wb(75,"div",15),l.Rb(76,"input",32),l.Vb(),l.Vb(),l.Vb(),l.Wb(77,"div",10),l.Wb(78,"div",6),l.Wb(79,"label",33),l.Qc(80,"Ship-To Contact Number "),l.Vb(),l.Wb(81,"div",10),l.Rb(82,"input",34),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(83,"div",35),l.Wb(84,"p"),l.Wb(85,"strong",36),l.Qc(86,"Opportunity"),l.Vb(),l.Vb(),l.Rb(87,"hr"),l.Wb(88,"div",37),l.Wb(89,"div",38),l.Wb(90,"div",39),l.Wb(91,"label",40),l.Qc(92,"Opportunity ID-Version"),l.Vb(),l.Wb(93,"div"),l.Rb(94,"input",41),l.Vb(),l.Vb(),l.Wb(95,"div",39),l.Wb(96,"label",40),l.Qc(97,"Initiator"),l.Vb(),l.Wb(98,"select",42),l.Oc(99,J,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(100,"div",38),l.Wb(101,"div",39),l.Wb(102,"label",40),l.Qc(103," Winning Probability "),l.Vb(),l.Wb(104,"select",43),l.Oc(105,tt,2,2,"option",19),l.Vb(),l.Vb(),l.Wb(106,"div",39),l.Wb(107,"label",40),l.Qc(108,"Competitor participate in Demo?"),l.Vb(),l.Wb(109,"select",44),l.Oc(110,et,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(111,"div",38),l.Wb(112,"div",39),l.Wb(113,"label",40),l.Qc(114,"Priority"),l.Vb(),l.Wb(115,"select",45),l.Oc(116,ot,2,2,"option",19),l.Vb(),l.Vb(),l.Wb(117,"div",39),l.Wb(118,"label",40),l.Qc(119,"IdsMed Sequence of Demo"),l.Vb(),l.Wb(120,"select",46),l.Oc(121,nt,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(122,"div",47),l.Wb(123,"div"),l.Wb(124,"label",48),l.Qc(125,"Pain Point"),l.Vb(),l.Vb(),l.Wb(126,"div"),l.Rb(127,"textarea",49),l.Vb(),l.Vb(),l.Wb(128,"div",47),l.Wb(129,"div"),l.Wb(130,"label",50),l.Qc(131,"Features To highlight"),l.Vb(),l.Vb(),l.Wb(132,"div"),l.Rb(133,"textarea",51),l.Vb(),l.Vb(),l.Wb(134,"div",47),l.Wb(135,"div"),l.Wb(136,"label",52),l.Qc(137,"users Feedback"),l.Vb(),l.Vb(),l.Wb(138,"div"),l.Rb(139,"textarea",53),l.Vb(),l.Vb(),l.Vb(),l.Wb(140,"div",6),l.Wb(141,"label",54),l.Qc(142,"Remarks"),l.Vb(),l.Wb(143,"div",8),l.Rb(144,"textarea",55),l.Vb(),l.Vb(),l.Oc(145,it,94,2,"div",56),l.Wb(146,"div",57),l.Wb(147,"button",58),l.Rb(148,"i",59),l.Qc(149," Save"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(150,"div",60,61),l.Wb(152,"div",62),l.Wb(153,"div",63),l.Wb(154,"div",64),l.Wb(155,"h4",65),l.Qc(156,"Success"),l.Vb(),l.Vb(),l.Wb(157,"div",66),l.Wb(158,"p"),l.Qc(159),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(160,"div",67,68),l.Wb(162,"div",69),l.Wb(163,"div",63),l.Wb(164,"div",64),l.Wb(165,"h4",65),l.Qc(166,"Error"),l.Vb(),l.Vb(),l.Wb(167,"div",66),l.Wb(168,"p"),l.Qc(169),l.Vb(),l.Vb(),l.Rb(170,"div",70),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(5),l.rc("formGroup",e.formBooking),l.Db(12),l.rc("ngIf",!e.editable),l.Db(1),l.rc("ngIf",e.editable),l.Db(7),l.Rc(e.bookingDetailList.booking_no),l.Db(6),l.Rc(e.curDate),l.Db(8),l.rc("ngForOf",e.customers),l.Db(23),l.rc("value",e.duration),l.Db(21),l.rc("ngClass",2==e.selectedBooking?"opportunityAppear":"opportunity"),l.Db(11),l.rc("disabled",!0),l.Db(5),l.rc("ngForOf",e.initiatorValues),l.Db(6),l.rc("ngForOf",e.defaultPercentages),l.Db(5),l.rc("ngForOf",e.participateInDemoAns),l.Db(6),l.rc("ngForOf",e.defaultPriorities),l.Db(5),l.rc("ngForOf",e.sequenceOfDemoValues),l.Db(24),l.rc("ngIf",1==e.showBmeLogSec),l.Db(14),l.Rc(e.alertBody),l.Db(10),l.Rc(e.alertBody))},directives:[s.z,s.q,s.j,n.p,s.x,s.p,s.h,s.t,s.A,n.o,s.c,s.u,n.n,a.a,z.a,z.c,k.e],styles:[".opportunity[_ngcontent-%COMP%]{display:none}.opportunityAppear[_ngcontent-%COMP%]{display:block}.opportunityBoxes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(290px,2fr));column-gap:65px;row-gap:10px}.opportunityBoxesSame[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(auto-fit,minmax(50px,1fr));grid-template-columns:auto}.opportunityBoxesSameFirst[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,2fr));justify-content:space-between}.opportunityBoxesLabel[_ngcontent-%COMP%]{align-self:start;justify-self:start}.opportunitiesText[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:150px auto}.opportunitiesText[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;outline:none;border:1.5px solid #d3d3d3}.oppoturiniIdIput[_ngcontent-%COMP%]{background-color:#d3d3d3;outline:none}table.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:gray;color:#fff}"]}),t})();const at=["*"];let st=(()=>{class t{constructor(){this.title="",this.icon="cil-cart",this.open=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-expand-panel"]],inputs:{title:"title",icon:"icon",open:"open"},ngContentSelectors:at,decls:7,vars:5,consts:[[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"accordion-header"]],template:function(t,e){1&t&&(l.qc(),l.Wb(0,"p-accordion"),l.Wb(1,"p-accordionTab",0),l.Wb(2,"p-header",1),l.Rb(3,"i"),l.Wb(4,"span",2),l.Qc(5),l.Vb(),l.Vb(),l.pc(6),l.Vb(),l.Vb()),2&t&&(l.Db(1),l.rc("selected",e.open),l.Db(2),l.Fb(e.icon),l.Db(2),l.Rc(e.title))},directives:[z.a,z.c,k.e],styles:[""]}),t})();const ct={unknown:"Unknown",main:"Demo Asset",compatibles:"Compatible Accessories",peripherals:"Peripheral Accessories",consumables:"Consumables",packing:"Packing during shipment",accessories:"Accessories / Consumables"};function lt(t){return"main"===t||"compatibles"===t}var bt=function(t){return t.demo="DEMO",t.loan="LOAN",t}({});let dt=(()=>{class t{constructor(t){this.apiClient=t}findEquipments(t){return this.apiClient.get("equipments/search?"+function(t){const e=[];for(const o in t)t.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.join("&")}(t))}saveInventoryBooking(t){return this.apiClient.post("inventory-booking/store",t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(h))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ut(t,e){if(1&t){const t=l.Xb();l.Wb(0,"input",23),l.gc("change",function(e){l.Fc(t);const o=l.kc(),n=o.index,i=o.$implicit,r=l.kc();return e.target.checked&&r.onSelect(n,i.id)}),l.Vb()}if(2&t){const t=l.kc(),e=t.$implicit;l.rc("value",t.index+1)("checked",e.isPicked)}}function pt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"input",24),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().$implicit.isPicked=e}),l.Vb()}if(2&t){const t=l.kc().$implicit;l.rc("ngModel",t.isPicked)}}function mt(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"td"),l.Wb(2,"label"),l.Oc(3,ut,1,2,"input",21),l.Oc(4,pt,1,1,"input",22),l.Vb(),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.Vb(),l.Wb(9,"td"),l.Qc(10),l.Vb(),l.Vb()),2&t){const t=e.$implicit,o=l.kc();l.Db(3),l.rc("ngIf",1===o.maxPick),l.Db(1),l.rc("ngIf",!o.maxPick||o.maxPick>1&&o.list.length<o.maxPick),l.Db(2),l.Rc(t.id),l.Db(2),l.Rc(t.name),l.Db(2),l.Rc(t.sku)}}let ft=(()=>{class t{constructor(t,e){this.api=t,this.route=e,this.list=[],this.kind="unknown",this.maxPick=0,this.filter="",this.byClose=new l.n,this.bySave=new l.n}ngOnInit(){}ngOnDestroy(){this.searchListener&&this.searchListener.unsubscribe()}get isMain(){return lt(this.kind)}onSearch(){for(const t of this.list)if(t.isPicked||""!==t.newSku){if(confirm("You have unsaved Changes, or selection.\n\nDo you want to continue?"))break;return}this.searchListener&&this.searchListener.unsubscribe(),this.searchListener=this.api.findEquipments({search_text:this.filter,purposes:this.isMain?[bt.demo,bt.loan]:[]}).subscribe({next:t=>{this.list=t?t.map(t=>Object.assign(Object.assign({},t),{newSku:"",isPicked:!1})):[]},error:()=>{this.list=[]}})}onSave(){this.api.saveInventoryBooking({bookingId:this.route.snapshot.params.id,equipmentId:this.equipmentId,type:"main"}).subscribe(t=>{t&&this.bySave.emit(this)},t=>{console.log(t),alert("not added")})}onClose(){this.byClose.emit(this)}onSelect(t,e){this.equipmentId=e,this.list.forEach((e,o)=>{e.isPicked=o===t})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(dt),l.Qb(c.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-identify"]],inputs:{kind:"kind",title:"title",maxPick:"maxPick",filter:"filter"},outputs:{byClose:"byClose",bySave:"bySave"},decls:35,vars:3,consts:[[1,"form-group","dms-identify"],[1,"animated","fadeIn"],[1,"row"],[1,"card","col-md-6"],[1,"identify-header"],["for","search-pattern"],[1,"card-body"],[1,"form-horizontal"],[1,"form-group","row"],[1,"col-9","m-auto","pr-0"],["type","text","id","search-pattern","name","pattern",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","p-0"],[1,"btn","btn-sm","btn-primary","button-style",3,"click"],[1,"table","col-12"],[1,"col-1"],[1,"col-2"],[1,"col-3"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-plus"],["type","radio","class","picker","name","picker",3,"value","checked","change",4,"ngIf"],["type","checkbox","class","picker",3,"ngModel","ngModelChange",4,"ngIf"],["type","radio","name","picker",1,"picker",3,"value","checked","change"],["type","checkbox",1,"picker",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"label",5),l.Wb(6,"strong"),l.Qc(7),l.Vb(),l.Vb(),l.Vb(),l.Wb(8,"div",6),l.Wb(9,"div",7),l.Wb(10,"div",8),l.Wb(11,"div",9),l.Wb(12,"input",10),l.gc("ngModelChange",function(t){return e.filter=t}),l.Vb(),l.Vb(),l.Wb(13,"div",11),l.Wb(14,"button",12),l.gc("click",function(){return e.onSearch()}),l.Qc(15,"SEARCH "),l.Vb(),l.Vb(),l.Vb(),l.Wb(16,"div",8),l.Wb(17,"table",13),l.Wb(18,"thead"),l.Wb(19,"tr"),l.Rb(20,"th",14),l.Wb(21,"th",15),l.Qc(22,"No"),l.Vb(),l.Wb(23,"th",16),l.Qc(24,"Product Name"),l.Vb(),l.Wb(25,"th",16),l.Qc(26,"SKU ID"),l.Vb(),l.Vb(),l.Vb(),l.Wb(27,"tbody"),l.Oc(28,mt,11,5,"tr",17),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(29,"div",18),l.Wb(30,"button",19),l.gc("click",function(){return e.onSave()}),l.Rb(31,"i",20),l.Qc(32," Save "),l.Vb(),l.Wb(33,"button",19),l.gc("click",function(){return e.onClose()}),l.Qc(34,"Close "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(7),l.Sc("Identify ",e.title,""),l.Db(5),l.rc("ngModel",e.filter),l.Db(16),l.rc("ngForOf",e.list))},directives:[s.c,s.p,s.s,n.o,n.p,s.a],styles:[".identify-header[_ngcontent-%COMP%]{padding:20px 20px 0}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{float:none;margin:auto}.picker[_ngcontent-%COMP%]{height:25px;width:25px}"]}),t})();function gt(t,e){if(1&t&&(l.Wb(0,"div",7),l.Qc(1),l.Vb()),2&t){const t=l.kc();l.Db(1),l.Rc(t.title)}}function ht(t,e){1&t&&(l.Wb(0,"th"),l.Qc(1,"Serial No"),l.Vb())}function vt(t,e){1&t&&l.Rb(0,"th")}function yt(t,e){if(1&t&&(l.Wb(0,"div"),l.Qc(1),l.Vb()),2&t){const t=l.kc(2).$implicit;l.Db(1),l.Rc(t.serial_no)}}function _t(t,e){1&t&&(l.Wb(0,"div"),l.Wb(1,"button",8),l.Qc(2,"Assign"),l.Vb(),l.Vb())}function kt(t,e){if(1&t&&(l.Wb(0,"td"),l.Oc(1,yt,2,1,"div",4),l.Oc(2,_t,3,0,"div",4),l.Vb()),2&t){const t=l.kc().$implicit;l.Db(1),l.rc("ngIf",t.serial_no),l.Db(1),l.rc("ngIf",!t.serial_no)}}function Wt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"td"),l.Wb(1,"button",9),l.gc("click",function(){l.Fc(t);const e=l.kc().index;return l.kc().onRemove(e)}),l.Rb(2,"i",10),l.Vb(),l.Vb()}}function Ot(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"td"),l.Qc(2),l.Vb(),l.Wb(3,"td"),l.Qc(4),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.Vb(),l.Wb(9,"td"),l.Qc(10),l.Vb(),l.Wb(11,"td"),l.Qc(12),l.Vb(),l.Wb(13,"td"),l.Qc(14),l.Vb(),l.Oc(15,kt,3,2,"td",4),l.Wb(16,"td"),l.Qc(17),l.Vb(),l.Wb(18,"td"),l.Qc(19),l.Vb(),l.Oc(20,Wt,3,0,"td",4),l.Vb()),2&t){const t=e.$implicit,o=l.kc();l.Db(2),l.Rc(t.id),l.Db(2),l.Sc(" ",t.name," "),l.Db(2),l.Sc(" ",t.sku," "),l.Db(2),l.Sc(" ",t.quantity," "),l.Db(2),l.Sc(" ",t.uom," "),l.Db(2),l.Sc(" ",t.availability," "),l.Db(2),l.Sc(" ",t.expected_sale_price," "),l.Db(1),l.rc("ngIf",o.isMain),l.Db(2),l.Sc(" ",t.available_quantity," "),l.Db(2),l.Sc(" ",t.cost," "),l.Db(1),l.rc("ngIf",o.isRemovable)}}function Vt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"dms-identify",14),l.gc("bySave",function(e){return l.Fc(t),l.kc(2).onSave(e)})("byClose",function(){return l.Fc(t),l.kc(2).isAdding=!1}),l.Vb()}if(2&t){const t=l.kc(2);l.rc("kind",t.kind)("title",t.title)("maxPick",t.maxPick)}}function Ct(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",15),l.Wb(1,"button",9),l.gc("click",function(){return l.Fc(t),l.kc(2).isAdding=!0}),l.Rb(2,"i",16),l.Qc(3," ADD "),l.Vb(),l.Vb()}}function wt(t,e){if(1&t&&(l.Wb(0,"div",11),l.Oc(1,Vt,1,3,"dms-identify",12),l.Oc(2,Ct,4,0,"div",13),l.Vb()),2&t){const t=l.kc();l.Db(1),l.rc("ngIf",t.isAdding),l.Db(1),l.rc("ngIf",!t.isAdding&&!t.isLimitReached)}}function Dt(t,e){""!==t.newSku&&(e.sku=t.newSku)}let xt=(()=>{class t{constructor(){this.isAdding=!1,this.kind="unknown",this.data=[],this.dataChange=new l.n,this.isAddable=!1,this.isRemovable=!1,this.isAssignable=!0}ngOnInit(){}get isRoot(){return"main"===this.kind}get isMain(){return lt(this.kind)}get title(){return function(t){const e=Object.keys(ct),o=t.trim().toLowerCase(),n=e.indexOf(o);return n>0&&n<e.length?ct[o]:"Unknown"}(this.kind)}get maxPick(){return this.isRoot?1:0}get isLimitReached(){const t=this.maxPick;return!!t&&this.data.length>=t}onSave(t){if(t.list.length>0){const e=[];for(const o of t.list)if(o.isPicked){const t=o.id;let n=!0;for(const e of this.data)if(e.id===t){Dt(o,e),n=!1;break}n&&(Dt(o,o),e.push(o))}console.log("Saved, with new count:",e.length);for(const t of e)this.data.push(t);this.dataChange.emit(this.data),this.isAdding=!1}}onRemove(t){this.data.splice(t,1),this.dataChange.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-equipment-table"]],inputs:{kind:"kind",data:"data",isAddable:"isAddable",isRemovable:"isRemovable",isAssignable:"isAssignable"},outputs:{dataChange:"dataChange"},decls:28,vars:5,consts:[[1,"table-responsive"],["class","bold-header pl-3",4,"ngIf"],[1,"table","table-striped"],[1,"grey"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","custom-footer",4,"ngIf"],[1,"bold-header","pl-3"],[1,"btn","btn-assign","btn-primary"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-minus"],[1,"custom-footer"],[3,"kind","title","maxPick","bySave","byClose",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[3,"kind","title","maxPick","bySave","byClose"],[1,"d-flex","justify-content-center"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Oc(1,gt,2,1,"div",1),l.Wb(2,"table",2),l.Wb(3,"thead",3),l.Wb(4,"tr"),l.Wb(5,"th"),l.Qc(6,"No."),l.Vb(),l.Wb(7,"th"),l.Qc(8,"Product Name"),l.Vb(),l.Wb(9,"th"),l.Qc(10,"SKU ID"),l.Vb(),l.Wb(11,"th"),l.Qc(12,"Quantity"),l.Vb(),l.Wb(13,"th"),l.Qc(14,"UOM"),l.Vb(),l.Wb(15,"th"),l.Qc(16,"Availability"),l.Vb(),l.Wb(17,"th"),l.Qc(18,"Expected Sales Price (RM)"),l.Vb(),l.Oc(19,ht,2,0,"th",4),l.Wb(20,"th"),l.Qc(21,"Available Qty"),l.Vb(),l.Wb(22,"th"),l.Qc(23,"Cost (RM)"),l.Vb(),l.Oc(24,vt,1,0,"th",4),l.Vb(),l.Vb(),l.Wb(25,"tbody"),l.Oc(26,Ot,21,11,"tr",5),l.Vb(),l.Vb(),l.Oc(27,wt,3,2,"div",6),l.Vb()),2&t&&(l.Db(1),l.rc("ngIf",!e.isRoot),l.Db(18),l.rc("ngIf",e.isMain),l.Db(5),l.rc("ngIf",e.isRemovable),l.Db(2),l.rc("ngForOf",e.data),l.Db(1),l.rc("ngIf",e.isAddable))},directives:[n.p,n.o,ft],styles:[".grey[_ngcontent-%COMP%]{background-color:#f5f5f5}.btn-assign[_ngcontent-%COMP%]{font-size:15px;font-weight:400;width:-moz-fit-content;width:fit-content;padding:1px 10px}"]}),t})();function Rt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"dms-equipment-table",3),l.gc("dataChange",function(e){return l.Fc(t),l.kc().$implicit.value=e}),l.Vb()}if(2&t){const t=l.kc(),e=t.$implicit,o=t.index,n=l.kc();l.rc("kind",e.key)("data",e.value)("isAddable",n.isAddable&&(o>0||0==n.mainAsset.main.length))("isAssignable",n.isAssignable)}}function St(t,e){if(1&t&&(l.Wb(0,"div"),l.Oc(1,Rt,1,4,"dms-equipment-table",2),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.rc("ngIf",t.value)}}let Mt=(()=>{class t{constructor(){this.isAddable=!1,this.isAssignable=!0}ngOnInit(){}onSortIgnore(){return-1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-form-main-asset"]],inputs:{mainAsset:"mainAsset",isAddable:"isAddable",isAssignable:"isAssignable"},decls:3,vars:5,consts:[["title","Main Demo Asset","icon","cil-cart",1,"p-0",3,"open"],[4,"ngFor","ngForOf"],[3,"kind","data","isAddable","isAssignable","dataChange",4,"ngIf"],[3,"kind","data","isAddable","isAssignable","dataChange"]],template:function(t,e){1&t&&(l.Wb(0,"dms-expand-panel",0),l.Oc(1,St,2,1,"div",1),l.lc(2,"keyvalue"),l.Vb()),2&t&&(l.rc("open",!0),l.Db(1),l.rc("ngForOf",l.nc(2,2,e.mainAsset,e.onSortIgnore)))},directives:[st,n.o,n.p,xt],pipes:[n.j],styles:[""]}),t})(),Pt=(()=>{class t{constructor(){}ngOnInit(){this.mainAsset={main:[],compatibles:null,peripherals:null,consumables:null,packing:null,accessories:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-form"]],decls:2,vars:2,consts:[[3,"mainAsset","isAddable"]],template:function(t,e){1&t&&(l.Rb(0,"app-booking-form-submit"),l.Rb(1,"app-booking-form-main-asset",0)),2&t&&(l.Db(1),l.rc("mainAsset",e.mainAsset)("isAddable",!0))},directives:[rt,Mt],styles:[""]}),t})();var jt=function(t){return t.unknown="Unknown",t.draft="Draft",t.submitted="Submitted",t.reviewed="MSC Reviewed",t.conflicted="Conflicted",t.declined="Declined",t.endorsed="MSC Reviewed (+Country)",t.accepted="Provisionally Accepted",t.confirmed="Confirmed",t.approved="Submitted",t}({});function Qt(t){const e=Object.values(jt);return t>=0&&t<e.length?e[t]:jt.unknown}function It(t){const e=Object.keys(jt);if(isNaN(+t)){let o=e.indexOf(t);return o<0&&(o=Object.values(jt).indexOf(t)),o}return t}const Lt={customer:"Unknown",opportunity_id:"",initiator:"",opportunity_amount:"",opportunity_no:"0",winning_probability:""};let Nt=(()=>{class t{constructor(t){this.apiClient=t}getEntity(t){return this.apiClient.get("booking/show/"+t.toString())}updateStatus(t){return this.apiClient.post("booking/status/update",t)}decline_booking(t){return this.apiClient.post("booking/status/decline",t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(h))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bt(t,e){1&t&&(l.Wb(0,"p"),l.Qc(1,"Summary not set..."),l.Vb())}function At(t,e){if(1&t&&(l.Wb(0,"div",1),l.Wb(1,"p-accordion",2),l.Wb(2,"p-accordionTab",3),l.Wb(3,"p-header",4),l.Rb(4,"i",5),l.Wb(5,"span",6),l.Qc(6,"Opportunity Summary"),l.Vb(),l.Vb(),l.Wb(7,"div"),l.Wb(8,"table",7),l.Wb(9,"tbody"),l.Wb(10,"tr"),l.Wb(11,"td"),l.Qc(12,"Customer & Code"),l.Vb(),l.Wb(13,"td"),l.Qc(14),l.Vb(),l.Wb(15,"td"),l.Qc(16,"Opportunity Amount (RM)"),l.Vb(),l.Wb(17,"td"),l.Qc(18),l.Vb(),l.Vb(),l.Wb(19,"tr"),l.Wb(20,"td"),l.Qc(21,"Opportunity ID"),l.Vb(),l.Wb(22,"td"),l.Qc(23),l.Vb(),l.Wb(24,"td"),l.Qc(25,"Opportunity no.-Version"),l.Vb(),l.Wb(26,"td"),l.Qc(27),l.Vb(),l.Vb(),l.Wb(28,"tr"),l.Wb(29,"td"),l.Qc(30,"Initiator"),l.Vb(),l.Wb(31,"td"),l.Qc(32),l.Vb(),l.Wb(33,"td"),l.Qc(34,"Winning Probability"),l.Vb(),l.Wb(35,"td"),l.Qc(36),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Oc(37,Bt,2,0,"ng-template",null,8,l.Pc),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.kc();l.Db(2),l.rc("selected",!0),l.Db(12),l.Rc(t.opportunitySummary.customer),l.Db(4),l.Rc(t.opportunitySummary.opportunity_amount),l.Db(5),l.Rc(t.opportunitySummary.opportunity_id),l.Db(4),l.Rc(t.opportunitySummary.opportunity_no),l.Db(5),l.Rc(t.opportunitySummary.initiator),l.Db(4),l.Rc(t.opportunitySummary.winning_probability)}}let qt=(()=>{class t{constructor(){this.opportunitySummary=Lt}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-opportunity-summary"]],inputs:{opportunitySummary:"opportunitySummary"},decls:1,vars:1,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-info"],[1,"accordion-header"],[1,"table","table-borderless"],["empty",""]],template:function(t,e){1&t&&l.Oc(0,At,39,7,"div",0),2&t&&l.rc("ngIf",e.opportunitySummary)},directives:[n.p,z.a,z.c,k.e],styles:[""]}),t})();function Tt(t,e){if(1&t&&(l.Wb(0,"span"),l.Qc(1),l.Vb()),2&t){const t=e.$implicit,o=e.index;l.Db(1),l.Tc(" ",o?",":""," ",t.name," ")}}function Et(t,e){if(1&t&&(l.Wb(0,"div",1),l.Wb(1,"div",13),l.Qc(2),l.Vb(),l.Wb(3,"div",9),l.Qc(4),l.Vb(),l.Wb(5,"div",14),l.Oc(6,Tt,2,2,"span",8),l.Vb(),l.Vb()),2&t){const t=l.kc().$implicit;l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.status," "),l.Db(2),l.rc("ngForOf",t.user_list)}}function Ft(t,e){if(1&t&&(l.Wb(0,"div"),l.Oc(1,Et,7,3,"div",12),l.Rb(2,"br"),l.Vb()),2&t){const t=e.$implicit,o=l.kc();l.Db(1),l.rc("ngIf","Manager Approval"!=t.description||o.is_demo&&"Manager Approval"==t.description)}}function Ht(t,e){1&t&&(l.Wb(0,"div",15),l.Wb(1,"div",16),l.Wb(2,"div",1),l.Wb(3,"div",17),l.Qc(4," Main Asset Serial No "),l.Vb(),l.Wb(5,"div",18),l.Qc(6," 2 "),l.Vb(),l.Vb(),l.Rb(7,"br"),l.Wb(8,"div",1),l.Wb(9,"label",19),l.Qc(10," From Warehouse "),l.Vb(),l.Wb(11,"div",18),l.Rb(12,"input",20),l.Vb(),l.Vb(),l.Rb(13,"br"),l.Wb(14,"div",1),l.Wb(15,"label",21),l.Qc(16," From Ward/ Department "),l.Vb(),l.Wb(17,"div",18),l.Rb(18,"input",22),l.Vb(),l.Vb(),l.Rb(19,"br"),l.Wb(20,"div",1),l.Wb(21,"label",23),l.Qc(22," To Ward / Department "),l.Vb(),l.Wb(23,"div",18),l.Rb(24,"input",24),l.Vb(),l.Vb(),l.Rb(25,"br"),l.Wb(26,"div",1),l.Rb(27,"div",25),l.Wb(28,"div",26),l.Wb(29,"div",27),l.Wb(30,"button",28),l.Qc(31,"SUBMIT"),l.Vb(),l.Rb(32,"br"),l.Wb(33,"button",29),l.Qc(34,"CANCEL"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb())}function zt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"dms-decline-reason",30),l.gc("byClose",function(){return l.Fc(t),l.kc().onClose()}),l.Vb()}}const Ut=["*"];let Gt=(()=>{class t{constructor(t,e,o){this.api=t,this.route=e,this.router=o,this._status=jt.unknown,this.statusText="Unknown",this.isConfirmed=!1,this.show_decline=!1,this.buttons=[],this.is_demo=!1,this.list=[],this.access=!1,this.buttonAction=new l.n}ngOnInit(){}get bookingReason(){return this._bookingReason}set bookingReason(t){this._bookingReason=t,this.is_demo="2"==t}get status(){return this._status}set status(t){switch(this._status=t,this.statusText=function(t){const e=It(t);return e+" Raising Booking Request - "+Qt(e)}(t),this.isConfirmed=!1,this.buttons=[],t){case"1":this.buttons=[{title:"Submit for Approval",id:0,status:"2"}];break;case"9":case"2":this.buttons=[{title:"MSC Reviewed",id:0,status:"3"},{title:"Decline",id:1,status:"5"}];break;case"3":this.buttons=[{title:"Endorse",id:0,status:"6"},{title:"Decline",id:1,status:"5"}];break;case"6":this.buttons=[{title:"Approve",id:0,status:"7"},{title:"Conflict",id:1,status:"4"},{title:"Decline",id:2,status:"5"}];break;case"7":this.buttons=[{title:"Confirm",id:0,status:"8"},{title:"Decline",id:1,status:"5"}];break;case"8":this.isConfirmed=!0}}onButtonClick(t){5==t?this.show_decline=!0:this.api.updateStatus({bookingId:this.route.snapshot.params.id,status:t}).subscribe(t=>{console.log(t),t&&this.router.navigateByUrl("/RefreshComponent",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dms/bookings",this.route.snapshot.params.id])})},t=>{console.log(t),alert("error")})}onClose(){this.show_decline=!1}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(Nt),l.Qb(c.a),l.Qb(c.c))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-booking-approval"]],inputs:{list:"list",access:"access",bookingReason:"bookingReason",status:"status"},outputs:{buttonAction:"buttonAction"},ngContentSelectors:Ut,decls:22,vars:5,consts:[["title","Approval Workflow",3,"open"],[1,"row"],[1,"col-md-12"],["action","","method","post","enctype","multipart/form-data",1,"form-horizontal"],[1,"form-group","row"],[1,"col-md-4","col-form-label"],[1,"col-md-8"],[1,"form-control-static"],[4,"ngFor","ngForOf"],[1,"col-md-2"],["class","animated fadeIn card",4,"ngIf"],[3,"byClose",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-4"],[1,"col-md-6"],[1,"animated","fadeIn","card"],[1,"card-body"],[1,"col-md-5"],[1,"col-md-7"],["for","warehouse_from",1,"col-md-5"],["id","warehouse_from","type","text",1,"form-control"],["for","ward_from",1,"col-md-5"],["id","ward_from","type","text",1,"form-control"],["for","destination",1,"col-md-5"],["id","destination","type","text",1,"form-control"],[1,"col-2"],[1,"col-10"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","mr-3"],["type","button",1,"btn","btn-primary"],[3,"byClose"]],template:function(t,e){1&t&&(l.qc(),l.Wb(0,"dms-expand-panel",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"form",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Qc(6,"Status"),l.Vb(),l.Wb(7,"div",6),l.Wb(8,"p",7),l.Wb(9,"b"),l.Qc(10),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Oc(11,Ft,3,1,"div",8),l.Vb(),l.Rb(12,"br"),l.Wb(13,"div",1),l.Rb(14,"div",9),l.Wb(15,"div",6),l.Oc(16,Ht,35,0,"div",10),l.pc(17),l.Vb(),l.Vb(),l.Rb(18,"br"),l.Rb(19,"br"),l.Wb(20,"div"),l.Oc(21,zt,1,0,"dms-decline-reason",11),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.rc("open",!0),l.Db(10),l.Rc(e.statusText),l.Db(1),l.rc("ngForOf",e.list),l.Db(5),l.rc("ngIf",e.isConfirmed),l.Db(5),l.rc("ngIf",e.show_decline))},styles:[""]}),t})(),Kt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-status-log"]],decls:8,vars:1,consts:[[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-briefcase"],[1,"accordion-header"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"p-accordion",1),l.Wb(2,"p-accordionTab",2),l.Wb(3,"p-header",3),l.Rb(4,"i",4),l.Wb(5,"span",5),l.Qc(6,"Status Log"),l.Vb(),l.Vb(),l.Rb(7,"div"),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(2),l.rc("selected",!0))},directives:[z.a,z.c,k.e],styles:[""]}),t})();function Xt(t,e){if(1&t&&(l.Wb(0,"div"),l.Wb(1,"table",8),l.Wb(2,"tbody"),l.Wb(3,"tr"),l.Wb(4,"td"),l.Qc(5,"Status"),l.Vb(),l.Wb(6,"td"),l.Qc(7),l.Vb(),l.Wb(8,"td"),l.Qc(9,"Request Date"),l.Vb(),l.Wb(10,"td"),l.Qc(11),l.Vb(),l.Vb(),l.Wb(12,"tr"),l.Wb(13,"td"),l.Qc(14,"Booking Reason"),l.Vb(),l.Wb(15,"td"),l.Qc(16),l.Vb(),l.Wb(17,"td"),l.Qc(18,"Branch/ Site"),l.Vb(),l.Wb(19,"td"),l.Qc(20),l.Vb(),l.Vb(),l.Wb(21,"tr"),l.Wb(22,"td"),l.Qc(23,"Booking No"),l.Vb(),l.Wb(24,"td"),l.Qc(25),l.Vb(),l.Rb(26,"td"),l.Rb(27,"td"),l.Vb(),l.Wb(28,"tr"),l.Wb(29,"td"),l.Qc(30,"Customer"),l.Vb(),l.Wb(31,"td"),l.Qc(32),l.Vb(),l.Rb(33,"td"),l.Rb(34,"td"),l.Vb(),l.Wb(35,"tr"),l.Wb(36,"td"),l.Qc(37,"Preferred Date of Delivery "),l.Vb(),l.Wb(38,"td"),l.Qc(39),l.Vb(),l.Wb(40,"td"),l.Qc(41,"Preferred Date of Collection "),l.Vb(),l.Wb(42,"td"),l.Qc(43),l.Vb(),l.Vb(),l.Wb(44,"tr"),l.Wb(45,"td"),l.Qc(46,"Demo Duration"),l.Vb(),l.Wb(47,"td"),l.Qc(48),l.Vb(),l.Rb(49,"td"),l.Rb(50,"td"),l.Vb(),l.Wb(51,"tr"),l.Wb(52,"td"),l.Qc(53,"Ship-to Department/ Ward"),l.Vb(),l.Wb(54,"td"),l.Qc(55),l.Vb(),l.Rb(56,"td"),l.Rb(57,"td"),l.Vb(),l.Wb(58,"tr"),l.Wb(59,"td"),l.Qc(60,"Shipment to Contact Name"),l.Vb(),l.Wb(61,"td"),l.Qc(62),l.Vb(),l.Wb(63,"td"),l.Qc(64,"Ship to Contact Number"),l.Vb(),l.Wb(65,"td"),l.Qc(66),l.Vb(),l.Vb(),l.Wb(67,"tr"),l.Wb(68,"td"),l.Qc(69,"Remarks"),l.Vb(),l.Wb(70,"td"),l.Qc(71),l.Vb(),l.Rb(72,"td"),l.Rb(73,"td"),l.Vb(),l.Wb(74,"tr"),l.Wb(75,"td"),l.Qc(76,"Loan start date"),l.Vb(),l.Wb(77,"td"),l.Qc(78),l.Vb(),l.Wb(79,"td"),l.Qc(80,"Loan end date"),l.Vb(),l.Wb(81,"td"),l.Qc(82),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.kc();l.Db(7),l.Rc(t.bookingDetailList.status),l.Db(4),l.Rc(t.bookingDetailList.request_date),l.Db(5),l.Rc(t.bookingDetailList.booking_reason),l.Db(4),l.Rc(t.bookingDetailList.branch),l.Db(5),l.Rc(t.bookingDetailList.booking_no),l.Db(7),l.Rc(t.bookingDetailList.customer),l.Db(7),l.Rc(t.bookingDetailList.preferred_date_of_delivery),l.Db(4),l.Rc(t.bookingDetailList.preferred_date_of_collection),l.Db(5),l.Rc(t.bookingDetailList.demo_duration),l.Db(7),l.Rc(t.bookingDetailList.department),l.Db(7),l.Rc(t.bookingDetailList.ship_to_contact_name),l.Db(4),l.Rc(t.bookingDetailList.ship_to_contact_number),l.Db(5),l.Rc(t.bookingDetailList.remarks),l.Db(7),l.Rc(t.bookingDetailList.loan_start_date),l.Db(4),l.Rc(t.bookingDetailList.loan_end_date)}}function $t(t,e){1&t&&(l.Wb(0,"p"),l.Qc(1,"Details not set..."),l.Vb())}let Yt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-detail"]],inputs:{bookingDetailList:"bookingDetailList"},decls:10,vars:3,consts:[[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-info"],[1,"accordion-header"],[4,"ngIf","ngIfElse"],["empty",""],[1,"table","table-borderless"]],template:function(t,e){if(1&t&&(l.Wb(0,"div",0),l.Wb(1,"p-accordion",1),l.Wb(2,"p-accordionTab",2),l.Wb(3,"p-header",3),l.Rb(4,"i",4),l.Wb(5,"span",5),l.Qc(6,"Booking Details"),l.Vb(),l.Vb(),l.Oc(7,Xt,83,15,"div",6),l.Oc(8,$t,2,0,"ng-template",null,7,l.Pc),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.Dc(9);l.Db(2),l.rc("selected",!0),l.Db(5),l.rc("ngIf",e.bookingDetailList)("ngIfElse",t)}},directives:[z.a,z.c,k.e,n.p],styles:[""]}),t})();function Zt(t,e){if(1&t&&l.Rb(0,"app-booking-detail",4),2&t){const t=l.kc();l.rc("bookingDetailList",t.bookingDetailList)}}function Jt(t,e){if(1&t&&l.Rb(0,"app-booking-form-submit",4),2&t){const t=l.kc();l.rc("bookingDetailList",t.bookingDetailList)}}let te=(()=>{class t{constructor(t,e){this.route=t,this.api=e,this.statusText="Draft",this.bookingId=BigInt(0),this.approvalList=[]}ngOnInit(){this.routeListener=this.route.params.subscribe(t=>{this.apiListener&&this.apiListener.unsubscribe();const e=BigInt(t.id+"");this.bookingId=e,e!==BigInt(0)&&(this.apiListener=this.api.getEntity(e).subscribe(t=>{t&&(this.status=t.status,this.approvalList=t.approvalList,this.bookingDetailList=t.bookingDetailList,this.bookingDetailList.status=this.statusName(this.bookingDetailList.status),this.opportunitySummary=t.opportunitySummary,this.mainAsset=t.mainAsset,this.access=t.access,this.bookingReason=this.bookingDetailList.booking_reason),console.log("api: entity",this.bookingId,t)}))})}ngOnDestroy(){this.routeListener.unsubscribe(),this.apiListener&&this.apiListener.unsubscribe()}onApprovalAction(t){if(0===t.index){const t=this.status;this.status=Qt(It(this.status)+1),console.log("Status changed from ",t,"to",this.status)}console.log("Approval onAction",t)}statusName(t){const e=["Draft","1 Raising Booking Request - Draft","2 Raising Booking Request - Submitted","3 Raising Booking Request - MSC Reviewed","4 Raising Booking Request - conflict","5 Raising Booking Request - declined","6 Raising Booking Request - MSC Reviewed (+Country)","7 Raising Booking Request - Provisionally Accepted","8 Raising Booking Request - Confirmed","9 Raising Booking Request - submitted"];return""!=t&&null!=t?e[t]:e[0]}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(c.a),l.Qb(Nt))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-booking-entity"]],decls:10,vars:9,consts:[[3,"bookingDetailList",4,"ngIf"],[3,"opportunitySummary"],[3,"status","access","list","bookingReason","buttonAction"],[3,"mainAsset","isAddable"],[3,"bookingDetailList"]],template:function(t,e){1&t&&(l.Oc(0,Zt,1,1,"app-booking-detail",0),l.Oc(1,Jt,1,1,"app-booking-form-submit",0),l.Rb(2,"br"),l.Rb(3,"app-opportunity-summary",1),l.Rb(4,"br"),l.Wb(5,"dms-booking-approval",2),l.gc("buttonAction",function(t){return e.onApprovalAction(t)}),l.Vb(),l.Rb(6,"br"),l.Rb(7,"app-booking-form-main-asset",3),l.Rb(8,"br"),l.Rb(9,"app-status-log")),2&t&&(l.rc("ngIf",e.status>1),l.Db(1),l.rc("ngIf",e.status<=1),l.Db(2),l.rc("opportunitySummary",e.opportunitySummary),l.Db(2),l.rc("status",e.status)("access",e.access)("list",e.approvalList)("bookingReason",e.bookingReason),l.Db(2),l.rc("mainAsset",e.mainAsset)("isAddable",!0))},directives:[n.p,qt,Gt,Mt,Kt,Yt,rt],styles:[""]}),t})();const ee=["successModal"],oe=["dangerModal"],ne=["foundModal"];function ie(t,e){if(1&t&&(l.Wb(0,"option",48),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.sc("value",t.id),l.Db(1),l.Rc(t.company_name)}}let re=(()=>{class t{constructor(t,e,o){this.fb=t,this.bookingService=e,this.apiCustomers=o,this.curDate=new Date(Date.now()).toLocaleDateString()}ngOnInit(){this.apiCustomers.getList().subscribe(t=>{this.customers=t}),this.formBooking=this.fb.group({status:"Draft",customer:new s.f(""),booking_reason:"Demo",branch:new s.f(""),date_of_delivery:new s.f(""),date_of_collection:new s.f(""),demo_duration:new s.f(""),department:new s.f(""),contact_name:new s.f(""),contact_number:new s.f(""),remarks:new s.f("")})}onSave(){this.bookingService.updateBooking({customer:this.formBooking.get("customer").value+"",curDate:this.curDate,booking_reason:"Demo",branch:this.formBooking.get("branch").value+"",date_of_delivery:this.formBooking.get("date_of_delivery").value+"",date_of_collection:this.formBooking.get("date_of_collection").value+"",demo_duration:this.formBooking.get("demo_duration").value+"",department:this.formBooking.get("department").value+"",contact_name:this.formBooking.get("contact_name").value+"",contact_number:this.formBooking.get("contact_number").value+"",remarks:this.formBooking.get("remarks").value+""},8).subscribe(t=>{t.id&&(this.alertBody="Booking saved successfully.",this.successModal.show(),setTimeout(()=>{this.successModal.hide()},2e3),this.formBooking.reset())},t=>{console.log(t),this.alertBody="The booking can't save",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(s.e),l.Qb(j),l.Qb(H))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-opportunity-booking-form-submit"]],viewQuery:function(t,e){if(1&t&&(l.Vc(ee,1),l.Vc(oe,1),l.Vc(ne,1)),2&t){let t;l.Cc(t=l.hc())&&(e.successModal=t.first),l.Cc(t=l.hc())&&(e.dangerModal=t.first),l.Cc(t=l.hc())&&(e.foundModal=t.first)}},decls:104,vars:5,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-md-2","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],["for","booking-reason",1,"col-md-2","col-form-label"],[1,"col-md-4"],["formControlName","customer",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","branch",1,"col-md-2","col-form-label"],["type","text","formControlName","branch",1,"form-control"],[1,"col-md-6"],["for","date-of-delivery",1,"col-md-4","col-form-label"],["formControlName","date_of_delivery","type","datetime-local","name","date-of-delivery",1,"form-control"],["for","date-of-collection",1,"col-md-4","col-form-label"],["formControlName","date_of_collection","type","datetime-local","name","date-of-collection",1,"form-control"],["for","demo-duration",1,"col-md-2","col-form-label"],[1,"col-md-2"],["type","number","formControlName","demo_duration",1,"form-control"],["for","department",1,"col-md-2","col-form-label"],["type","text","formControlName","department",1,"form-control"],["for","contact-name",1,"col-md-4","col-form-label"],[1,"col-md-8"],["formControlName","contact_name","type","text","name","contact-name",1,"form-control"],["for","contact-number",1,"col-md-4","col-form-label"],["formControlName","contact_number","type","text","name","contact-number",1,"form-control"],["for","remarks",1,"col-md-2","col-form-label"],["formControlName","remarks","rows","9",1,"form-control"],[1,"custom-footer","d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary"],[1,"fa","fa-plus"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],[3,"value"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"form",5),l.gc("ngSubmit",function(){return e.onSave()}),l.Wb(6,"div",6),l.Wb(7,"label",7),l.Qc(8,"Status"),l.Vb(),l.Wb(9,"div",8),l.Wb(10,"p",9),l.Qc(11,"DRAFT"),l.Vb(),l.Vb(),l.Vb(),l.Wb(12,"div",6),l.Wb(13,"label",10),l.Qc(14,"Booking reason"),l.Vb(),l.Wb(15,"div",11),l.Qc(16," Demo "),l.Vb(),l.Vb(),l.Wb(17,"div",6),l.Wb(18,"label",7),l.Qc(19,"Request Date"),l.Vb(),l.Wb(20,"div",8),l.Wb(21,"p",9),l.Qc(22),l.Vb(),l.Vb(),l.Vb(),l.Wb(23,"div",6),l.Wb(24,"label",7),l.Qc(25,"Customer"),l.Vb(),l.Wb(26,"div",11),l.Wb(27,"select",12),l.Wb(28,"option",13),l.Qc(29,"Please select"),l.Vb(),l.Oc(30,ie,2,2,"option",14),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"div",6),l.Wb(32,"label",15),l.Qc(33,"Branch/site"),l.Vb(),l.Wb(34,"div",11),l.Rb(35,"input",16),l.Vb(),l.Vb(),l.Wb(36,"div",1),l.Wb(37,"div",17),l.Wb(38,"div",6),l.Wb(39,"label",18),l.Qc(40,"Preferred Date of Delivery "),l.Vb(),l.Wb(41,"div",11),l.Rb(42,"input",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(43,"div",17),l.Wb(44,"div",6),l.Wb(45,"label",20),l.Qc(46,"Preferred Date of Collection "),l.Vb(),l.Wb(47,"div",17),l.Rb(48,"input",21),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(49,"div",6),l.Wb(50,"label",22),l.Qc(51,"Demo Duration *"),l.Vb(),l.Wb(52,"div",23),l.Rb(53,"input",24),l.Vb(),l.Wb(54,"div",23),l.Qc(55," months "),l.Vb(),l.Vb(),l.Wb(56,"div",6),l.Wb(57,"label",25),l.Qc(58,"Ship-to Department/ Warde"),l.Vb(),l.Wb(59,"div",11),l.Rb(60,"input",26),l.Vb(),l.Vb(),l.Wb(61,"div",1),l.Wb(62,"div",17),l.Wb(63,"div",6),l.Wb(64,"label",27),l.Qc(65,"Ship to Contact Name "),l.Vb(),l.Wb(66,"div",28),l.Rb(67,"input",29),l.Vb(),l.Vb(),l.Vb(),l.Wb(68,"div",17),l.Wb(69,"div",6),l.Wb(70,"label",30),l.Qc(71,"Ship-To Contact Number "),l.Vb(),l.Wb(72,"div",17),l.Rb(73,"input",31),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(74,"div",6),l.Wb(75,"label",32),l.Qc(76,"Remarks"),l.Vb(),l.Wb(77,"div",8),l.Rb(78,"textarea",33),l.Vb(),l.Vb(),l.Wb(79,"div",34),l.Wb(80,"button",35),l.Rb(81,"i",36),l.Qc(82," Save"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(83,"div",37,38),l.Wb(85,"div",39),l.Wb(86,"div",40),l.Wb(87,"div",41),l.Wb(88,"h4",42),l.Qc(89,"Success"),l.Vb(),l.Vb(),l.Wb(90,"div",43),l.Wb(91,"p"),l.Qc(92),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(93,"div",44,45),l.Wb(95,"div",46),l.Wb(96,"div",40),l.Wb(97,"div",41),l.Wb(98,"h4",42),l.Qc(99,"Error"),l.Vb(),l.Vb(),l.Wb(100,"div",43),l.Wb(101,"p"),l.Qc(102),l.Vb(),l.Vb(),l.Rb(103,"div",47),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(5),l.rc("formGroup",e.formBooking),l.Db(17),l.Rc(e.curDate),l.Db(8),l.rc("ngForOf",e.customers),l.Db(62),l.Rc(e.alertBody),l.Db(10),l.Rc(e.alertBody))},directives:[s.z,s.q,s.j,s.x,s.p,s.h,s.t,s.A,n.o,s.c,s.u,a.a],styles:[""]}),t})();const ae=[{path:"",component:b,data:{title:"DMS"},children:[{path:"",redirectTo:"inventory",pathMatch:"full"},{path:"inventory",component:P,data:{title:"Inventory"},children:[{path:":tabName",component:F,pathMatch:"full"}]},{path:"bookings",data:{title:"Bookings"},children:[{path:"",pathMatch:"full",component:F},{path:"new",component:Pt,data:{title:"Bookings Form"}},{path:"opportunity",component:(()=>{class t{constructor(){this.opportunitySummary=Lt}ngOnInit(){this.mainAsset={main:[],compatibles:[],peripherals:[],consumables:[],packing:[],accessories:[]},this.opportunitySummary={customer:"test",opportunity_id:"test",initiator:"test",opportunity_amount:"10000",opportunity_no:"test",winning_probability:"test"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-opportunity-booking-form"]],decls:3,vars:3,consts:[[3,"opportunitySummary"],[3,"mainAsset","isAddable"]],template:function(t,e){1&t&&(l.Rb(0,"dms-opportunity-booking-form-submit"),l.Rb(1,"app-opportunity-summary",0),l.Rb(2,"app-booking-form-main-asset",1)),2&t&&(l.Db(1),l.rc("opportunitySummary",e.opportunitySummary),l.Db(1),l.rc("mainAsset",e.mainAsset)("isAddable",!0))},directives:[re,qt,Mt],styles:[""]}),t})(),data:{title:"Booking Opportunity Booking"}},{path:":id",component:te,data:{title:"Booking view"}}]},{path:"approvals",component:o("aMa8").a,data:{title:"Approvals"}},{path:"calendar",loadChildren:()=>Promise.resolve().then(o.bind(null,"wzZd")).then(t=>t.CalendarModule)},{path:"**",redirectTo:"inventory"}]}];let se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({imports:[[c.g.forChild(ae)],c.g]}),t})();var ce=o("wzZd"),le=o("AytR"),be=o("LRne");let de=(()=>{class t{constructor(){this.mockData=[{serial_no:1,stock_keep_unit:"ZY2332",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Approved",booking_id:BigInt(92)},{serial_no:2,stock_keep_unit:"CX32312",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Provisionally accepted",booking_id:BigInt(292)},{serial_no:234,stock_keep_unit:"UY4234",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Available",booking_id:BigInt(192)},{serial_no:412,stock_keep_unit:"XY2568",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Draft",booking_id:BigInt(692)}]}getList(){return Object(be.a)(this.mockData)}getListSearch(t){return Object(be.a)(this.mockData)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac}),t})();const ue=[{description:"MSC SKU & accessories review",status:"Pending",user_list:[{name:"Mark",id:BigInt(700)}]},{description:"Country MD endorsement for > 14 days deployment",status:"Pending",user_list:[{name:"John",id:BigInt(800)}]},{description:"Demo Coordinator accept booking",status:"Pending",user_list:[{name:"Kelly",id:BigInt(120)},{name:"Reesha",id:BigInt(130)}]},{description:"Demo Coordinator confirm booking",status:"Pending",user_list:[{name:"Kelly",id:BigInt(120)},{name:"Reesha",id:BigInt(130)}]}],pe={id:BigInt(1),status:"2 Raising Booking Request - Submitted",booking_no:"BK-00992",branch:"XXXX",booking_reason:"Demo",request_date:"9/3/2021",customer:"Parkway Singapore",customer_id:BigInt(1),preferred_date_of_delivery:"10/13/2021",preferred_date_of_collection:"12/13/2021",demo_duration:"2 months",department:"Ward 1, ",location:"Malaya",ship_to_contact_name:"XXXXXX",ship_to_contact_number:"XXXXXXXX",remarks:"",loan_start_date:"",loan_end_date:"",con_won:"",ins_won:"",pdi_won:"",trn_won:"",war_won:"",tnc_won:"",pdr_won:"",bme_booking_id:"",bme_con_req:1,bme_pdi_re:1,bme_ins_req:1,bme_tnc_won:1,bme_trn_req:1,bme_war_req:1,bme_pdr_req:1,priority:"",probability:"",initiator:"",is_competitor_in_demo:!1,squence_of_demo:"",opportunity_code:"",selling_points:"",customer_feedback:"",pain_points:""},me={customer:"Parkway Singapore",opportunity_id:"00123456",initiator:"Jane Doe (BK-0092)",opportunity_amount:"35,000.00",opportunity_no:"123567.01",winning_probability:"65%"},fe={main:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,serial_no:null,available_quantity:1,cost:8e4}],compatibles:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,serial_no:null,available_quantity:1,cost:8e4}],peripherals:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,available_quantity:1,cost:8e4}],consumables:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,available_quantity:1,cost:8e4}],packing:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,available_quantity:1,cost:8e4}],accessories:null};let ge=(()=>{class t{constructor(){this.mockData=[{status:jt.draft,approvalList:ue,bookingDetailList:pe,opportunitySummary:me,mainAsset:fe,access:!1}]}getEntity(t){const e=this.mockData[+t.toString()];return Object(be.a)(e||this.mockData[0])}getApprovals(t){return this.getEntity(t).pipe(Object(m.a)(t=>t.approvalList))}getBookingDetail(t){return this.getEntity(t).pipe(Object(m.a)(t=>t.bookingDetailList))}getOpportunitySummary(t){return this.getEntity(t).pipe(Object(m.a)(t=>t.opportunitySummary))}getMainAsset(t){return this.getEntity(t).pipe(Object(m.a)(t=>t.mainAsset))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{constructor(){this.mockData=[{id:BigInt(123),name:"First Product",sku:"d-sku",quantity:7,uom:"d-uom",availability:"d-avail",expected_sale_price:200.5,available_quantity:7,cost:100.5,serial_no:"d-serial"},{id:BigInt(321),name:"Another Product",sku:"d-sku",quantity:7,uom:"d-uom",availability:"d-avail",expected_sale_price:150.5,available_quantity:3,cost:70.5,serial_no:"d-serial"},{id:BigInt(1),name:"Last Product",sku:"d-sku",quantity:7,uom:"d-uom",availability:"d-avail",expected_sale_price:200.5,available_quantity:50,cost:100.5,serial_no:"d-serial"}]}findEquipments(t){const e=[],o=t.search_text.toLowerCase();for(const n of this.mockData)n.name.toLowerCase().match(o)&&e.push(n);return Object(be.a)(e.length>0?e:this.mockData)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac}),t})();const ve=le.a.production?[h,{provide:ge,useClass:Nt},{provide:de,useClass:v},{provide:he,useClass:dt}]:[h,ge,de,he];let ye=(()=>{class t{constructor(t,e,o){this.api=t,this.route=e,this.router=o,this.byClose=new l.n}ngOnInit(){}onSave(){this.api.decline_booking({bookingId:this.route.snapshot.params.id,reason:this.reason}).subscribe(t=>{this.router.navigateByUrl("/RefreshComponent",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dms/bookings",this.route.snapshot.params.id])})},t=>{console.log(t),alert("error")})}onClose(){this.byClose.emit(this)}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(Nt),l.Qb(c.a),l.Qb(c.c))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-decline-reason"]],outputs:{byClose:"byClose"},decls:17,vars:1,consts:[[1,"form-group","dms-decline-reason"],[1,"animated","fadeIn"],[1,"row"],[1,"card","col-md-6"],[1,"card-body"],[1,"form-horizontal"],[1,"form-group","row"],[1,"col-3","p-0"],[1,"col-9","m-auto","pr-0"],["cols","30","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","custom-footer"],["type","submit",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"div",7),l.Qc(8," Decline reason "),l.Vb(),l.Wb(9,"div",8),l.Wb(10,"textarea",9),l.gc("ngModelChange",function(t){return e.reason=t}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(11,"div",10),l.Wb(12,"button",11),l.gc("click",function(){return e.onSave()}),l.Rb(13,"i",12),l.Qc(14," Save "),l.Vb(),l.Wb(15,"button",11),l.gc("click",function(){return e.onClose()}),l.Qc(16,"Close "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(10),l.rc("ngModel",e.reason))},directives:[s.c,s.p,s.s],styles:[".identify-header[_ngcontent-%COMP%]{padding:20px 20px 0}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{float:none;margin:auto}.picker[_ngcontent-%COMP%]{height:25px;width:25px}"]}),t})(),_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({providers:[...ve],imports:[[n.c,se,ce.CalendarModule,i.a,r.b,a.b.forRoot(),s.l,s.v]]}),t})();l.Ic(Gt,[st,s.z,s.q,s.r,n.o,n.p,ye],[])}}]);