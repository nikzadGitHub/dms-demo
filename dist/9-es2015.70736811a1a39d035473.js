(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{wzZd:function(t,e,n){"use strict";n.r(e),n.d(e,"CalendarModule",function(){return gt});var o=n("SVse"),i=n("Wcfd"),a=n("UUxd"),r=n("PN1e"),s=n("1hAE"),c=n("mrSG"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(t){return t.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(t){return t.allDay?Object(s.Vb)(t)?["timed","allDay"]:["allDay"]:["timed"]},e}(s.I),b=Object(s.pb)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function d(t){var e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Object(s.mb)(s.K.Consumer,null,function(n){if(!t.isLabeled)return Object(s.mb)("td",{className:e.join(" "),"data-time":t.isoTimeStr});var o=n.dateEnv,i=n.options,a=n.viewApi,r=null==i.slotLabelFormat?b:Array.isArray(i.slotLabelFormat)?Object(s.pb)(i.slotLabelFormat[0]):Object(s.pb)(i.slotLabelFormat),c={level:0,time:t.time,date:o.toDate(t.date),view:a,text:o.format(t.date,r)};return Object(s.mb)(s.C,{hookProps:c,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:u,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},function(n,o,i,a){return Object(s.mb)("td",{ref:n,className:e.concat(o).join(" "),"data-time":t.isoTimeStr},Object(s.mb)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Object(s.mb)("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:i},a)))})})}function u(t){return t.text}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){return this.props.slatMetas.map(function(t){return Object(s.mb)("tr",{key:t.key},Object(s.mb)(d,Object(c.a)({},t)))})},e}(s.b),m=Object(s.pb)({week:"short"}),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDaySplitter=new l,e.headerElRef=Object(s.rb)(),e.rootElRef=Object(s.rb)(),e.scrollerElRef=Object(s.rb)(),e.state={slatCoords:null},e.handleScrollTopRequest=function(t){var n=e.scrollerElRef.current;n&&(n.scrollTop=t)},e.renderHeadAxis=function(t,n){void 0===n&&(n="");var o=e.context.options,i=e.props.dateProfile.renderRange,a=1===Object(s.tb)(i.start,i.end)?Object(s.cb)(e.context,i.start,"week"):{};return o.weekNumbers&&"day"===t?Object(s.mb)(s.M,{date:i.start,defaultFormat:m},function(t,e,o,i){return Object(s.mb)("th",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(e).join(" ")},Object(s.mb)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},Object(s.mb)("a",Object(c.a)({ref:o,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},a),i)))}):Object(s.mb)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Object(s.mb)("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},e.renderTableRowAxis=function(t){var n=e.context,o=n.options,i={text:o.allDayText,view:n.viewApi};return Object(s.mb)(s.C,{hookProps:i,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:f,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},function(e,n,o,i){return Object(s.mb)("td",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},Object(s.mb)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==t?" fc-timegrid-axis-frame-liquid":""),style:{height:t}},Object(s.mb)("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:o},i)))})},e.handleSlatCoords=function(t){e.setState({slatCoords:t})},e}return Object(c.d)(e,t),e.prototype.renderSimpleLayout=function(t,e,n){var o=this.context,i=this.props,a=[],r=Object(s.Rb)(o.options);return t&&a.push({type:"header",key:"header",isSticky:r,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),e&&(a.push({type:"body",key:"all-day",chunk:{content:e}}),a.push({type:"body",key:"all-day-divider",outerContent:Object(s.mb)("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(s.mb)("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),Object(s.mb)(s.L,{viewSpec:o.viewSpec,elRef:this.rootElRef},function(t,e){return Object(s.mb)("div",{className:["fc-timegrid"].concat(e).join(" "),ref:t},Object(s.mb)(s.G,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:a}))})},e.prototype.renderHScrollLayout=function(t,e,n,o,i,a,r){var c=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var b=this.context,d=this.props,u=!d.forPrint&&Object(s.Rb)(b.options),m=!d.forPrint&&Object(s.Qb)(b.options),g=[];t&&g.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(t){return Object(s.mb)("tr",{role:"presentation"},c.renderHeadAxis("day",t.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),e&&(g.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(t){return Object(s.mb)("tr",{role:"presentation"},c.renderTableRowAxis(t.rowSyncHeights[0]))}},{key:"cols",content:e}]}),g.push({key:"all-day-divider",type:"body",outerContent:Object(s.mb)("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(s.mb)("td",{colSpan:2,className:"fc-timegrid-divider "+b.theme.getClass("tableCellShaded")}))}));var f=b.options.nowIndicator;return g.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(b.options.expandRows),chunks:[{key:"axis",content:function(t){return Object(s.mb)("div",{className:"fc-timegrid-axis-chunk"},Object(s.mb)("table",{"aria-hidden":!0,style:{height:t.expandRows?t.clientHeight:""}},t.tableColGroupNode,Object(s.mb)("tbody",null,Object(s.mb)(p,{slatMetas:a}))),Object(s.mb)("div",{className:"fc-timegrid-now-indicator-container"},Object(s.mb)(s.z,{unit:f?"minute":"day"},function(t){var e=f&&r&&r.safeComputeTop(t);return"number"==typeof e?Object(s.mb)(s.y,{isAxis:!0,date:t},function(t,n,o,i){return Object(s.mb)("div",{ref:t,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:e}},i)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),m&&g.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:s.wc},{key:"cols",content:s.wc}]}),Object(s.mb)(s.L,{viewSpec:b.viewSpec,elRef:this.rootElRef},function(t,e){return Object(s.mb)("div",{className:["fc-timegrid"].concat(e).join(" "),ref:t},Object(s.mb)(l,{liquid:!d.isHeightAuto&&!d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:i}]}],sections:g}))})},e.prototype.getAllDayMaxEventProps=function(){var t=this.context.options,e=t.dayMaxEvents,n=t.dayMaxEventRows;return!0!==e&&!0!==n||(e=void 0,n=5),{dayMaxEvents:e,dayMaxEventRows:n}},e}(s.i);function f(t){return t.text}var h=function(){function t(t,e,n){this.positions=t,this.dateProfile=e,this.slotDuration=n}return t.prototype.safeComputeTop=function(t){var e=this.dateProfile;if(Object(s.qc)(e.currentRange,t)){var n=Object(s.Ac)(t),o=t.valueOf()-n.valueOf();if(o>=Object(s.W)(e.slotMinTime)&&o<Object(s.W)(e.slotMaxTime))return this.computeTimeTop(Object(s.lb)(o))}return null},t.prototype.computeDateTop=function(t,e){return e||(e=Object(s.Ac)(t)),this.computeTimeTop(Object(s.lb)(t.valueOf()-e.valueOf()))},t.prototype.computeTimeTop=function(t){var e,n,o=this.positions,i=this.dateProfile,a=o.els.length,r=(t.milliseconds-Object(s.W)(i.slotMinTime))/Object(s.W)(this.slotDuration);return r=Math.max(0,r),r=Math.min(a,r),e=Math.floor(r),n=r-(e=Math.min(e,a-1)),o.tops[e]+o.getHeight(e)*n},t}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.context,n=e.options,o=t.slatElRefs;return Object(s.mb)("tbody",null,t.slatMetas.map(function(i,a){var r={time:i.time,date:e.dateEnv.toDate(i.date),view:e.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",i.isLabeled?"":"fc-timegrid-slot-minor"];return Object(s.mb)("tr",{key:i.key,ref:o.createRef(i.key)},t.axis&&Object(s.mb)(d,Object(c.a)({},i)),Object(s.mb)(s.C,{hookProps:r,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},function(t,e,n,o){return Object(s.mb)("td",{ref:t,className:l.concat(e).join(" "),"data-time":i.isoTimeStr},o)}))}))},e}(s.b),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=Object(s.rb)(),e.slatElRefs=new s.B,e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.context;return Object(s.mb)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Object(s.mb)("table",{"aria-hidden":!0,className:e.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,Object(s.mb)(v,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var t,e=this.context,n=this.props;n.onCoords&&null!==n.clientWidth&&this.rootElRef.current.offsetHeight&&n.onCoords(new h(new s.A(this.rootElRef.current,(t=this.slatElRefs.currentMap,n.slatMetas.map(function(e){return t[e.key]})),!1,!0),this.props.dateProfile,e.options.slotDuration))},e}(s.b);function k(t,e){var n,o=[];for(n=0;n<e;n+=1)o.push([]);if(t)for(n=0;n<t.length;n+=1)o[t[n].col].push(t[n]);return o}function _(t,e){var n=[];if(t){for(r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var o=0,i=t.segs;o<i.length;o++){var a=i[o];n[a.col].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=Object(s.rb)(),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props;return Object(s.mb)(s.x,{allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:V,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:function(){return j(e.hiddenSegs,e)}},function(n,o,i,a,r,c,l,b){return Object(s.mb)("a",{ref:function(e){Object(s.xc)(n,e),Object(s.xc)(t.rootElRef,e)},className:["fc-timegrid-more-link"].concat(o).join(" "),style:{top:e.top,bottom:e.bottom},onClick:r,title:c,"aria-expanded":l,"aria-controls":b},Object(s.mb)("div",{ref:i,className:"fc-timegrid-more-link-inner fc-sticky"},a))})},e}(s.b);function V(t){return t.shortText}function O(t,e){if(!t)return[[],0];for(var n=t.level,o=t.lateralEnd,i=t.lateralStart,a=[];i<o;)a.push(e(n,i)),i+=1;return a.sort(C),[a.map(w),a[0][1]]}function C(t,e){return e[1]-t[1]}function w(t){return t[0]}function D(t,e){var n={};return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=t.apply(void 0,o);return a in n?n[a]:n[a]=e.apply(void 0,o)}}function x(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=0);var i=[];if(n)for(var a=0;a<t.length;a+=1){var r=t[a],s=n.computeDateTop(r.start,e),c=Math.max(s+(o||0),n.computeDateTop(r.end,e));i.push({start:Math.round(s),end:Math.round(c)})}return i}var R=Object(s.pb)({hour:"numeric",minute:"2-digit",meridiem:!1}),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&t.push("fc-timegrid-event-short"),Object(s.mb)(s.J,Object(c.a)({},this.props,{defaultTimeFormat:R,extraClassNames:t}))},e}(s.b),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props;return Object(s.mb)(s.k,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},function(t,e){return e&&Object(s.mb)("div",{className:"fc-timegrid-col-misc",ref:t},e)})},e}(s.b),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortEventSegs=Object(s.jc)(s.zc),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=this.context,o=n.options.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||o&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},r=this.sortEventSegs(e.fgEventSegs,n.options.eventOrder);return Object(s.mb)(s.l,{elRef:e.elRef,date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},function(n,l,b){return Object(s.mb)("td",Object(c.a)({ref:n,role:"gridcell",className:["fc-timegrid-col"].concat(l,e.extraClassNames||[]).join(" ")},b,e.extraDataAttrs),Object(s.mb)("div",{className:"fc-timegrid-col-frame"},Object(s.mb)("div",{className:"fc-timegrid-col-bg"},t.renderFillSegs(e.businessHourSegs,"non-business"),t.renderFillSegs(e.bgEventSegs,"bg-event"),t.renderFillSegs(e.dateSelectionSegs,"highlight")),Object(s.mb)("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(r,a,!1,!1,!1)),Object(s.mb)("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(i,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(o))),Object(s.mb)("div",{className:"fc-timegrid-now-indicator-container"},t.renderNowIndicator(e.nowIndicatorSegs)),Object(s.mb)(S,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps})))})},e.prototype.renderFgSegs=function(t,e,n,o,i){var a=this.props;return a.forPrint?j(t,a):this.renderPositionedFgSegs(t,e,n,o,i)},e.prototype.renderPositionedFgSegs=function(t,e,n,o,i){var a=this,r=this.context.options,l=r.eventMaxStack,b=r.eventShortHeight,d=r.eventOrderStrict,u=this.props,p=u.eventSelection,m=u.todayRange,g=u.nowDate,f=n||o||i,h=function(t,e,n,o){for(var i=[],a=[],r=0;r<t.length;r+=1){var l=e[r];l?i.push({index:r,thickness:1,span:l}):a.push(t[r])}for(var b=function(t,e,n){var o=new s.F;null!=e&&(o.strictOrder=e),null!=n&&(o.maxStackCnt=n);var i,a,r=o.addSegs(t),l=Object(s.Ub)(r),b=function(t){var e=t.entriesByLevel,n=D(function(t,e){return t+":"+e},function(o,i){var a=O(function(t,e,n){for(var o=t.levelCoords,i=t.entriesByLevel,a=i[e][n],r=o[e]+a.thickness,c=o.length,l=e;l<c&&o[l]<r;l+=1);for(;l<c;l+=1){for(var b=i[l],d=void 0,u=Object(s.X)(b,a.span.start,s.Kb),p=u[0]+u[1],m=p;(d=b[m])&&d.span.start<a.span.end;)m+=1;if(p<m)return{level:l,lateralStart:p,lateralEnd:m}}return null}(t,o,i),n),r=e[o][i];return[Object(c.a)(Object(c.a)({},r),{nextLevelNodes:a[0]}),r.thickness+a[1]]});return O(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}(o);return i=b,a=D(function(t,e,n){return Object(s.Y)(t)},function(t,e,n){var o,i=t.nextLevelNodes,r=t.thickness,s=r+n,l=r/s,b=[];if(i.length)for(var d=0,u=i;d<u.length;d++){var p=u[d];if(void 0===o)o=(m=a(p,e,s))[0],b.push(m[1]);else{var m=a(p,o,0);b.push(m[1])}}else o=1;var g=(o-e)*l;return[o-g,Object(c.a)(Object(c.a)({},t),{thickness:g,nextLevelNodes:b})]}),{segRects:function(t){var e=[],n=D(function(t,e,n){return Object(s.Y)(t)},function(t,n,i){var a=Object(c.a)(Object(c.a)({},t),{levelCoord:n,stackDepth:i,stackForward:0});return e.push(a),a.stackForward=o(t.nextLevelNodes,n+t.thickness,i+1)+1});function o(t,e,o){for(var i=0,a=0,r=t;a<r.length;a++)i=Math.max(n(r[a],e,o),i);return i}return o(t,0,0),e}(b=i.map(function(t){return a(t,0,0)[1]})),hiddenGroups:l}}(i,n,o),d=b.hiddenGroups,u=[],p=0,m=b.segRects;p<m.length;p++){var g=m[p];u.push({seg:t[g.index],rect:g})}for(var f=0,h=a;f<h.length;f++)u.push({seg:h[f],rect:null});return{segPlacements:u,hiddenGroups:d}}(t,x(t,u.date,u.slatCoords,r.eventMinHeight),d,l),v=h.segPlacements,y=h.hiddenGroups;return Object(s.mb)(s.v,null,this.renderHiddenGroups(y,t),v.map(function(t){var r=t.seg,l=t.rect,d=r.eventRange.instance.instanceId,u=f||Boolean(!e[d]&&l),h=I(l&&l.span),v=!f&&l?a.computeSegHStyle(l):{left:0,right:0},y=Boolean(l)&&l.stackForward>0,k=Boolean(l)&&l.span.end-l.span.start<b;return Object(s.mb)("div",{className:"fc-timegrid-event-harness"+(y?" fc-timegrid-event-harness-inset":""),key:d,style:Object(c.a)(Object(c.a)({visibility:u?"":"hidden"},h),v)},Object(s.mb)(M,Object(c.a)({seg:r,isDragging:n,isResizing:o,isDateSelecting:i,isSelected:d===p,isShort:k},Object(s.Pb)(r,m,g))))}))},e.prototype.renderHiddenGroups=function(t,e){var n=this.props,o=n.extraDateSpan,i=n.dateProfile,a=n.todayRange,r=n.nowDate,c=n.eventSelection,l=n.eventDrag,b=n.eventResize;return Object(s.mb)(s.v,null,t.map(function(t){var n,d=I(t.span),u=(n=e,t.entries.map(function(t){return n[t.index]}));return Object(s.mb)(W,{key:Object(s.bb)(Object(s.fb)(u)),hiddenSegs:u,top:d.top,bottom:d.bottom,extraDateSpan:o,dateProfile:i,todayRange:a,nowDate:r,eventSelection:c,eventDrag:l,eventResize:b})}))},e.prototype.renderFillSegs=function(t,e){var n=this.props,o=x(t,n.date,n.slatCoords,this.context.options.eventMinHeight).map(function(o,i){var a=t[i];return Object(s.mb)("div",{key:Object(s.ab)(a.eventRange),className:"fc-timegrid-bg-harness",style:I(o)},"bg-event"===e?Object(s.mb)(s.c,Object(c.a)({seg:a},Object(s.Pb)(a,n.todayRange,n.nowDate))):Object(s.vc)(e))});return Object(s.mb)(s.v,null,o)},e.prototype.renderNowIndicator=function(t){var e=this.props,n=e.slatCoords,o=e.date;return n?t.map(function(t,e){return Object(s.mb)(s.y,{isAxis:!1,date:o,key:e},function(e,i,a,r){return Object(s.mb)("div",{ref:e,className:["fc-timegrid-now-indicator-line"].concat(i).join(" "),style:{top:n.computeDateTop(t.start,o)}},r)})}):null},e.prototype.computeSegHStyle=function(t){var e,n,o=this.context,i=o.isRtl,a=o.options.slotEventOverlap,r=t.levelCoord,s=t.levelCoord+t.thickness;a&&(s=Math.min(1,r+2*(s-r))),i?(e=1-s,n=r):(e=r,n=1-s);var c={zIndex:t.stackDepth+1,left:100*e+"%",right:100*n+"%"};return a&&!t.stackForward&&(c[i?"marginLeft":"marginRight"]=20),c},e}(s.b);function j(t,e){var n=e.todayRange,o=e.nowDate,i=e.eventSelection,a=e.eventDrag,r=e.eventResize,l=(a?a.affectedInstances:null)||(r?r.affectedInstances:null)||{};return Object(s.mb)(s.v,null,t.map(function(t){var e=t.eventRange.instance.instanceId;return Object(s.mb)("div",{key:e,style:{visibility:l[e]?"hidden":""}},Object(s.mb)(M,Object(c.a)({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:e===i,isShort:!1},Object(s.Pb)(t,n,o))))}))}function I(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}var Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitFgEventSegs=Object(s.jc)(k),e.splitBgEventSegs=Object(s.jc)(k),e.splitBusinessHourSegs=Object(s.jc)(k),e.splitNowIndicatorSegs=Object(s.jc)(k),e.splitDateSelectionSegs=Object(s.jc)(k),e.splitEventDrag=Object(s.jc)(_),e.splitEventResize=Object(s.jc)(_),e.rootElRef=Object(s.rb)(),e.cellElRefs=new s.B,e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=this.context.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),o=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,o),a=this.splitBgEventSegs(e.bgEventSegs,o),r=this.splitBusinessHourSegs(e.businessHourSegs,o),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,o),l=this.splitDateSelectionSegs(e.dateSelectionSegs,o),b=this.splitEventDrag(e.eventDrag,o),d=this.splitEventResize(e.eventResize,o);return Object(s.mb)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Object(s.mb)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,Object(s.mb)("tbody",{role:"presentation"},Object(s.mb)("tr",{role:"row"},e.axis&&Object(s.mb)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Object(s.mb)("div",{className:"fc-timegrid-col-frame"},Object(s.mb)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&Object(s.mb)(s.y,{isAxis:!0,date:e.nowDate},function(t,e,o,i){return Object(s.mb)("div",{ref:t,className:["fc-timegrid-now-indicator-arrow"].concat(e).join(" "),style:{top:n}},i)})))),e.cells.map(function(n,o){return Object(s.mb)(P,{key:n.key,elRef:t.cellElRefs.createRef(n.key),dateProfile:e.dateProfile,date:n.date,nowDate:e.nowDate,todayRange:e.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:i[o],bgEventSegs:a[o],businessHourSegs:r[o],nowIndicatorSegs:c[o],dateSelectionSegs:l[o],eventDrag:b[o],eventResize:d[o],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var t,e=this.props;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new s.A(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map(function(e){return t[e.key]})),!0,!1))},e}(s.b),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.processSlotOptions=Object(s.jc)(N),e.state={slatCoords:null},e.handleRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e.handleScrollRequest=function(t){var n=e.props.onScrollTopRequest,o=e.state.slatCoords;if(n&&o){if(t.time){var i=o.computeTimeTop(t.time);(i=Math.ceil(i))&&(i+=1),n(i)}return!0}return!1},e.handleColCoords=function(t){e.colCoords=t},e.handleSlatCoords=function(t){e.setState({slatCoords:t}),e.props.onSlatCoords&&e.props.onSlatCoords(t)},e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.state;return Object(s.mb)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(s.mb)(y,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Object(s.mb)(Q,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:e.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(t,e){var n=this.context,o=n.dateEnv,i=this.colCoords,a=this.props.dateProfile,r=this.state.slatCoords,l=this.processSlotOptions(this.props.slotDuration,n.options.snapDuration),b=l.snapDuration,d=l.snapsPerSlot,u=i.leftToIndex(t),p=r.positions.topToIndex(e);if(null!=u&&null!=p){var m=this.props.cells[u],g=r.positions.tops[p],f=r.positions.getHeight(p),h=p*d+Math.floor((e-g)/f*d),v=this.props.cells[u].date,y=Object(s.P)(a.slotMinTime,Object(s.kc)(b,h)),k=o.add(v,y),_=o.add(k,b);return{dateProfile:a,dateSpan:Object(c.a)({range:{start:k,end:_},allDay:!1},m.extraDateSpan),dayEl:i.els[u],rect:{left:i.lefts[u],right:i.rights[u],top:g,bottom:g+f},layer:0}}return null},e}(s.i);function N(t,e){var n=e||t,o=Object(s.Ec)(t,n);return null===o&&(n=t,o=1),{snapDuration:n,snapsPerSlot:o}}var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.sliceRange=function(t,e){for(var n=[],o=0;o<e.length;o+=1){var i=Object(s.Zb)(t,e[o]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===t.start.valueOf(),isEnd:i.end.valueOf()===t.end.valueOf(),col:o})}return n},e}(s.H),B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayRanges=Object(s.jc)(F),e.slicer=new A,e.timeColsRef=Object(s.rb)(),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=this.context,o=e.dateProfile,i=e.dayTableModel,a=n.options.nowIndicator,r=this.buildDayRanges(i,o,n.dateEnv);return Object(s.mb)(s.z,{unit:a?"minute":"day"},function(l,b){return Object(s.mb)(L,Object(c.a)({ref:t.timeColsRef},t.slicer.sliceProps(e,o,null,n,r),{forPrint:e.forPrint,axis:e.axis,dateProfile:o,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&t.slicer.sliceNowDate(l,n,r),todayRange:b,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords}))})},e}(s.i);function F(t,e,n){for(var o=[],i=0,a=t.headerDates;i<a.length;i++){var r=a[i];o.push({start:n.add(r,e.slotMinTime),end:n.add(r,e.slotMaxTime)})}return o}var T=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function q(t,e,n,o,i){for(var a=new Date(0),r=t,c=Object(s.lb)(0),l=n||function(t){var e,n,o;for(e=T.length-1;e>=0;e-=1)if(n=Object(s.lb)(T[e]),null!==(o=Object(s.Ec)(n,t))&&o>1)return n;return t}(o),b=[];Object(s.W)(r)<Object(s.W)(e);){var d=i.add(a,r),u=null!==Object(s.Ec)(c,l);b.push({date:d,time:r,key:d.toISOString(),isoTimeStr:Object(s.Db)(d),isLabeled:u}),r=Object(s.P)(r,o),c=Object(s.P)(c,o)}return b}var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildTimeColsModel=Object(s.jc)(H),e.buildSlatMetas=Object(s.jc)(q),e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.context,n=e.options,o=e.dateEnv,i=this.props,a=i.dateProfile,l=this.buildTimeColsModel(a,e.dateProfileGenerator),b=this.allDaySplitter.splitProps(i),d=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,n.slotLabelInterval,n.slotDuration,o),u=n.dayMinWidth,p=!u,m=u,g=n.dayHeaders&&Object(s.mb)(s.m,{dates:l.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:p?this.renderHeadAxis:null}),f=!1!==n.allDaySlot&&function(e){return Object(s.mb)(r.a,Object(c.a)({},b.allDay,{dateProfile:a,dayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:e.tableMinWidth,colGroupNode:e.tableColGroupNode,renderRowIntro:p?t.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:t.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:i.forPrint},t.getAllDayMaxEventProps()))},h=function(e){return Object(s.mb)(B,Object(c.a)({},b.timed,{dayTableModel:l,dateProfile:a,axis:p,slotDuration:n.slotDuration,slatMetas:d,forPrint:i.forPrint,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,onSlatCoords:t.handleSlatCoords,expandRows:e.expandRows,onScrollTopRequest:t.handleScrollTopRequest}))};return m?this.renderHScrollLayout(g,f,h,l.colCnt,u,d,this.state.slatCoords):this.renderSimpleLayout(g,f,h)},e}(g);function H(t,e){var n=new s.n(t.renderRange,e);return new s.o(n,!1)}var z={allDaySlot:Boolean},U=Object(s.qb)({initialView:"timeGridWeek",optionRefiners:z,views:{timeGrid:{component:E,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={textId:Object(s.Sb)()},e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.context,e=t.theme,n=t.dateEnv,o=t.options,i=t.viewApi,a=this.props,r=a.cellId,l=a.dayDate,b=a.todayRange,d=this.state.textId,u=Object(s.Fb)(l,b),p=o.listDayFormat?n.format(l,o.listDayFormat):"",m=o.listDaySideFormat?n.format(l,o.listDaySideFormat):"",g=Object(c.a)({date:n.toDate(l),view:i,textId:d,text:p,sideText:m,navLinkAttrs:Object(s.cb)(this.context,l),sideNavLinkAttrs:Object(s.cb)(this.context,l,"day",!1)},u),f=["fc-list-day"].concat(Object(s.Gb)(u,e));return Object(s.mb)(s.C,{hookProps:g,classNames:o.dayHeaderClassNames,content:o.dayHeaderContent,defaultContent:G,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},function(t,n,o,i){return Object(s.mb)("tr",{ref:t,className:f.concat(n).join(" "),"data-date":Object(s.Cb)(l)},Object(s.mb)("th",{scope:"colgroup",colSpan:3,id:r,"aria-labelledby":d},Object(s.mb)("div",{className:"fc-list-day-cushion "+e.getClass("tableCellShaded"),ref:o},i)))})},e}(s.b);function G(t){return Object(s.mb)(s.v,null,t.text&&Object(s.mb)("a",Object(c.a)({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&Object(s.mb)("a",Object(c.a)({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}var K=Object(s.pb)({hour:"numeric",minute:"2-digit",meridiem:"short"}),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.render=function(){var t=this.props,e=this.context,n=t.seg,o=t.timeHeaderId,i=t.eventHeaderId,a=t.dateHeaderId,r=e.options.eventTimeFormat||K;return Object(s.mb)(s.u,{seg:n,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:function(){return function(t,e){var n=Object(s.Ob)(t,e);return Object(s.mb)("a",Object(c.a)({},n),t.eventRange.def.title)}(n,e)},isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,isSelected:t.isSelected,isDragging:t.isDragging,isResizing:t.isResizing,isDateSelecting:t.isDateSelecting},function(t,c,l,b,d){return Object(s.mb)("tr",{className:["fc-list-event",d.event.url?"fc-event-forced-url":""].concat(c).join(" "),ref:t},function(t,e,n,o,i){var a=n.options;if(!1!==a.displayEventTime){var r=t.eventRange.instance,c=!1,l=void 0;if(t.eventRange.def.allDay?c=!0:Object(s.gc)(t.eventRange.range)?t.isStart?l=Object(s.db)(t,e,n,null,null,r.range.start,t.end):t.isEnd?l=Object(s.db)(t,e,n,null,null,t.start,r.range.end):c=!0:l=Object(s.db)(t,e,n),c){var b={text:n.options.allDayText,view:n.viewApi};return Object(s.mb)(s.C,{hookProps:b,classNames:a.allDayClassNames,content:a.allDayContent,defaultContent:Y,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},function(t,e,n,a){return Object(s.mb)("td",{ref:t,headers:o+" "+i,className:["fc-list-event-time"].concat(e).join(" ")},a)})}return Object(s.mb)("td",{className:"fc-list-event-time"},l)}return null}(n,r,e,o,a),Object(s.mb)("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},Object(s.mb)("span",{className:"fc-list-event-dot",style:{borderColor:d.borderColor||d.backgroundColor}})),Object(s.mb)("td",{ref:l,headers:i+" "+a,className:"fc-list-event-title"},b))})},e}(s.b);function Y(t){return t.text}var Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.computeDateVars=Object(s.jc)(tt),e.eventStoreToSegs=Object(s.jc)(e._eventStoreToSegs),e.state={timeHeaderId:Object(s.Sb)(),eventHeaderId:Object(s.Sb)(),dateHeaderIdRoot:Object(s.Sb)()},e.setRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t}):e.context.unregisterInteractiveComponent(e)},e}return Object(c.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=this.context,o=["fc-list",n.theme.getClass("table"),!1!==n.options.stickyHeaderDates?"fc-list-sticky":""],i=this.computeDateVars(e.dateProfile),a=i.dayDates,r=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i.dayRanges);return Object(s.mb)(s.L,{viewSpec:n.viewSpec,elRef:this.setRootEl},function(n,i){return Object(s.mb)("div",{ref:n,className:o.concat(i).join(" ")},Object(s.mb)(s.E,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},r.length>0?t.renderSegList(r,a):t.renderEmptyMessage()))})},e.prototype.renderEmptyMessage=function(){var t=this.context,e=t.options,n={text:e.noEventsText,view:t.viewApi};return Object(s.mb)(s.C,{hookProps:n,classNames:e.noEventsClassNames,content:e.noEventsContent,defaultContent:J,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},function(t,e,n,o){return Object(s.mb)("div",{className:["fc-list-empty"].concat(e).join(" "),ref:t},Object(s.mb)("div",{className:"fc-list-empty-cushion",ref:n},o))})},e.prototype.renderSegList=function(t,e){var n=this.context,o=n.theme,i=n.options,a=this.state,r=a.timeHeaderId,l=a.eventHeaderId,b=a.dateHeaderIdRoot,d=function(t){var e,n,o=[];for(e=0;e<t.length;e+=1)(o[(n=t[e]).dayIndex]||(o[n.dayIndex]=[])).push(n);return o}(t);return Object(s.mb)(s.z,{unit:"day"},function(t,n){for(var a=[],u=0;u<d.length;u+=1){var p=d[u];if(p){var m=Object(s.Cb)(e[u]),g=b+"-"+m;a.push(Object(s.mb)(X,{key:m,cellId:g,dayDate:e[u],todayRange:n}));for(var f=0,h=p=Object(s.zc)(p,i.eventOrder);f<h.length;f++){var v=h[f];a.push(Object(s.mb)($,Object(c.a)({key:m+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:r,eventHeaderId:l,dateHeaderId:g},Object(s.Pb)(v,n,t))))}}}return Object(s.mb)("table",{className:"fc-list-table "+o.getClass("table")},Object(s.mb)("thead",null,Object(s.mb)("tr",null,Object(s.mb)("th",{scope:"col",id:r},i.timeHint),Object(s.mb)("th",{scope:"col","aria-hidden":!0}),Object(s.mb)("th",{scope:"col",id:l},i.eventHint))),Object(s.mb)("tbody",null,a))})},e.prototype._eventStoreToSegs=function(t,e,n){return this.eventRangesToSegs(Object(s.yc)(t,e,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)},e.prototype.eventRangesToSegs=function(t,e){for(var n=[],o=0,i=t;o<i.length;o++)n.push.apply(n,this.eventRangeToSegs(i[o],e));return n},e.prototype.eventRangeToSegs=function(t,e){var n,o,i,a=this.context.dateEnv,r=this.context.options.nextDayThreshold,c=t.range,l=t.def.allDay,b=[];for(n=0;n<e.length;n+=1)if((o=Object(s.Zb)(c,e[n]))&&(i={component:this,eventRange:t,start:o.start,end:o.end,isStart:t.isStart&&o.start.valueOf()===c.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===c.end.valueOf(),dayIndex:n},b.push(i),!i.isEnd&&!l&&n+1<e.length&&c.end<a.add(e[n+1].start,r))){i.end=c.end,i.isEnd=!0;break}return b},e}(s.i);function J(t){return t.text}function tt(t){for(var e=Object(s.Ac)(t.renderRange.start),n=t.renderRange.end,o=[],i=[];e<n;)o.push(e),i.push({start:e,end:Object(s.O)(e,1)}),e=Object(s.O)(e,1);return{dayDates:o,dayRanges:i}}var et={listDayFormat:nt,listDaySideFormat:nt,noEventsClassNames:s.Wb,noEventsContent:s.Wb,noEventsDidMount:s.Wb,noEventsWillUnmount:s.Wb};function nt(t){return!1===t?null:Object(s.pb)(t)}var ot=Object(s.qb)({optionRefiners:et,views:{list:{component:Z,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),it=n("ogxq"),at=n("iInd");let rt=0;function st(){return String(rt++)}(new Date).toISOString().replace(/T.*$/,""),st(),st();var ct=n("8Y7J"),lt=n("IheW");let bt=(()=>{class t{constructor(t){this.httpclient=t}getInventories(){return this.httpclient.get("http://localhost:8000/api/dms/enventories")}}return t.\u0275fac=function(e){return new(e||t)(ct.dc(lt.b))},t.\u0275prov=ct.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var dt=n("s7LF");function ut(t,e){if(1&t&&(ct.Wb(0,"tr"),ct.Wb(1,"td"),ct.Qc(2),ct.Vb(),ct.Vb()),2&t){const t=e.$implicit;ct.Db(2),ct.Rc(t.id)}}const pt=[{path:"",component:(()=>{class t{constructor(t){this.getinventorybookingservice=t,this.calendarOptions={},this.currentEvents=[]}ngOnInit(){this.getInventories()}getInventories(){this.getinventorybookingservice.getInventories().subscribe(t=>{this.inventories=t}),console.log("INV",this.inventories)}handleWeekendsToggle(){const{calendarOptions:t}=this;t.weekends=!t.weekends}handleDateSelect(t){const e=prompt("Please enter a new title for your event"),n=t.view.calendar;n.unselect(),e&&n.addEvent({id:st(),title:e,start:t.startStr,end:t.endStr,allDay:t.allDay})}handleEventClick(t){confirm(`Are you sure you want to delete the event '${t.event.title}'`)&&t.event.remove()}handleEvents(t){this.currentEvents=t}}return t.\u0275fac=function(e){return new(e||t)(ct.Qb(bt))},t.\u0275cmp=ct.Kb({type:t,selectors:[["dms-calendar"]],decls:35,vars:2,consts:[[1,"card"],[1,"card-body","row"],[1,"col-md-12"],["for","search"],[1,"row"],["action",""],[1,"bookingForm"],[1,"form-group","start-date"],["for","start_date"],["type","datetime-local","name","start_date",1,"form-control"],[1,"form-group","destination"],[1,"form-group"],["for","end_date"],["type","datetime-local","name","end_date",1,"form-control"],[1,"form-group","getBookingButton"],[1,"btn","btn-info","btn-md"],[1,"main-container"],[1,"calendar-view"],[1,"customcalenderwrapper"],[1,"myinventories"],[1,""],["scope","5"],[4,"ngFor","ngForOf"],[1,"custsomFreeCalender",3,"options"]],template:function(t,e){1&t&&(ct.Wb(0,"div",0),ct.Wb(1,"div",1),ct.Wb(2,"div",2),ct.Wb(3,"label",3),ct.Wb(4,"h5"),ct.Qc(5,"Assign Asset for SKU 0000"),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(6,"div",2),ct.Wb(7,"div",4),ct.Wb(8,"form",5),ct.Wb(9,"div",6),ct.Wb(10,"div",7),ct.Wb(11,"label",8),ct.Qc(12,"From"),ct.Vb(),ct.Rb(13,"input",9),ct.Vb(),ct.Wb(14,"div",10),ct.Qc(15," To "),ct.Vb(),ct.Wb(16,"div",11),ct.Rb(17,"label",12),ct.Rb(18,"input",13),ct.Vb(),ct.Wb(19,"div",14),ct.Wb(20,"button",15),ct.Qc(21,"submit"),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(22,"div",16),ct.Wb(23,"div",17),ct.Wb(24,"div",18),ct.Wb(25,"div",19),ct.Wb(26,"table",20),ct.Wb(27,"thead"),ct.Wb(28,"tr"),ct.Wb(29,"th",21),ct.Qc(30," List Of Inventories "),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(31,"tbody"),ct.Oc(32,ut,3,1,"tr",22),ct.Vb(),ct.Vb(),ct.Vb(),ct.Wb(33,"div",20),ct.Rb(34,"full-calendar",23),ct.Vb(),ct.Vb(),ct.Vb(),ct.Vb()),2&t&&(ct.Db(32),ct.rc("ngForOf",e.inventories),ct.Db(2),ct.rc("options",e.calendarOptions))},directives:[dt.z,dt.q,dt.r,o.o,a.a],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filler[_ngcontent-%COMP%]{flex:1 1 1px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:14px}.calendar-view[_ngcontent-%COMP%]{flex:1 1 1px;padding-bottom:3em}.fc[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}.fc.fc-button-primary[_ngcontent-%COMP%]:disabled{margin-bottom:5px!important;margin-left:8px!important;width:77px!important}.invertories_header[_ngcontent-%COMP%]{padding-top:91px;margin-left:-22px}.customcalenderwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px auto}.bookingForm[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,250px);align-items:center}.destination[_ngcontent-%COMP%], .getBookingButton[_ngcontent-%COMP%]{justify-self:center}"]}),t})(),data:{title:"Calendar"}}];let mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ct.Ob({type:t}),t.\u0275inj=ct.Nb({imports:[[at.g.forChild(pt)],at.g]}),t})();a.b.registerPlugins([r.b,U,ot,it.a]);let gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ct.Ob({type:t}),t.\u0275inj=ct.Nb({imports:[[o.c,mt,i.a,a.b],a.b]}),t})()},zzSa:function(t,e,n){"use strict";n.r(e),n.d(e,"DmsModule",function(){return De});var o=n("SVse"),i=n("Wcfd"),a=n("rVqu"),r=n("LqlI"),s=n("s7LF"),c=n("iInd"),l=n("8Y7J");let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-dms"]],decls:1,vars:0,template:function(t,e){1&t&&l.Rb(0,"router-outlet")},directives:[c.h],styles:[".mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),t})();function d(t){let e=""+t;for(;e.length<4;)e="0"+e;return"BK-"+e}var u=n("gdhP");let p=(()=>{class t{constructor(t){this.apiClient=t}getList(t,e=null){return this.apiClient.get("inventories/"+t+(e?"?search="+e:""))}getPagedList(t,e,n,o){return this.apiClient.get("inventories/"+t+"?page="+e+"&pageItems="+n+"&search="+o)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("G56j"),g=n("ZRSf"),f=n("hhfa"),h=n("MY3+"),v=n("gtx6");function y(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",8),l.Wb(1,"div",9),l.Wb(2,"div"),l.Qc(3,"Inventory Listing"),l.Vb(),l.Wb(4,"div",10),l.Wb(5,"a",11),l.Rb(6,"i",12),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"div",13),l.Rb(8,"i",14),l.Wb(9,"input",15),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().search_text=e})("input",function(){return l.Fc(t),l.kc().onSearch()}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(9),l.rc("ngModel",t.search_text)}}const k=function(){return{width:"5%"}};function _(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",16),l.Wb(2,"div",17),l.Qc(3," Serial No "),l.Wb(4,"div",18),l.Rb(5,"p-sortIcon",19),l.Rb(6,"p-columnFilter",20),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",21),l.Wb(8,"div",17),l.Qc(9," SKU "),l.Wb(10,"div",22),l.Rb(11,"p-sortIcon",23),l.Rb(12,"p-columnFilter",24),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",25),l.Wb(14,"div",17),l.Qc(15," Product Name "),l.Wb(16,"div",26),l.Rb(17,"p-sortIcon",27),l.Rb(18,"p-columnFilter",28),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",29),l.Wb(20,"div",30),l.Qc(21," Agency/ Principal "),l.Wb(22,"div",31),l.Rb(23,"p-sortIcon",32),l.Rb(24,"p-columnFilter",33),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",34),l.Wb(26,"div",17),l.Qc(27," Description "),l.Wb(28,"div",35),l.Rb(29,"p-sortIcon",36),l.Rb(30,"p-columnFilter",37),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"th",38),l.Wb(32,"div",17),l.Qc(33," Status "),l.Wb(34,"div",39),l.Rb(35,"p-sortIcon",40),l.Rb(36,"p-columnFilter",41),l.Vb(),l.Vb(),l.Vb(),l.Rb(37,"th"),l.Vb()),2&t&&(l.Db(37),l.Kc(l.uc(2,k)))}function W(t,e){if(1&t&&(l.Wb(0,"tr",42),l.Wb(1,"td",43),l.Qc(2),l.Vb(),l.Wb(3,"td",43),l.Qc(4),l.Vb(),l.Wb(5,"td",43),l.Qc(6),l.Vb(),l.Wb(7,"td",43),l.Qc(8),l.Vb(),l.Wb(9,"td",43),l.Qc(10),l.Vb(),l.Wb(11,"td",43),l.Qc(12),l.Vb(),l.Vb()),2&t){const t=e.$implicit,n=l.kc();l.Db(2),l.Sc(" ",t.serial," "),l.Db(2),l.Sc(" ",t.stock_keep_unit," "),l.Db(2),l.Sc(" ",t.product_name," "),l.Db(2),l.Sc(" ",t.agency_name," "),l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",n.current_tab," ")}}function V(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"td",44),l.Qc(2," No records found "),l.Vb(),l.Vb()),2&t&&(l.Db(1),l.Eb("colspan",6))}const O=function(){return["serial_no","stock_keep_unit","product_name"]},C=function(){return{showAll:"All"}},w=function(t){return[10,25,50,t]};let D=(()=>{class t{constructor(t,e){this.api=t,this.location=e,this.current_tab="available",this.pageItems=10,this.search_text="",this.menuItems=[{label:"On-Hand",icon:"pi pi-home",routerLink:["available"],command:t=>{this.changeInvList(0,"available")}},{label:"Incoming",icon:"pi pi-clock",routerLink:["incoming"],command:t=>{this.changeInvList(1,"incoming")}},{label:"AFS",icon:"pi pi-bookmark",routerLink:["afs"],command:t=>{this.changeInvList(2,"afs")}},{label:"Archived",icon:"pi pi-file-excel",routerLink:["archived"],command:t=>{this.changeInvList(3,"archived")}}],this.activeItem=this.menuItems[0],this.formatBooking=d}ngOnInit(){this.changeInvList(0,"available"),this.location.replaceState("/dms/inventory/available")}onSearch(){this.searchTimerId&&clearTimeout(this.searchTimerId),this.searchTimerId=window.setTimeout(()=>{this.api.getPagedList(this.current_tab,1,this.pageItems,this.search_text).subscribe(t=>{t&&(this.inventoryList=t)})},1500)}changeInvList(t,e){this.current_tab=e,this.loading=!0,this.api.getPagedList(e,1,this.pageItems,this.search_text).subscribe(t=>{this.inventoryList=t.data,this.pages=t.links,this.totalRecords=t.total,this.loading=!1},t=>{this.loading=!1})}paginate(t){this.pageItems=t.rows,this.onClick(parseInt(t.page)+1)}onClick(t){this.api.getPagedList(this.current_tab,t,this.pageItems,this.search_text).subscribe(t=>{this.inventoryList=t.data,this.pages=t.links,this.totalRecords=t.total})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(p),l.Qb(o.l))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-inventory"]],decls:8,vars:14,consts:[[3,"model","activeItem"],["styleClass","p-datatable-table",3,"loading","value","rowHover","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"table-header","d-flex"],[1,"d-flex"],[1,"ml-2","mt-1"],["routerLink","/inventory/new","routerLinkActive","router-link-active"],[1,"icon-plus","icons",2,"color","#FFFFFF"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search",3,"ngModel","ngModelChange","input"],["pSortableColumn","serial_no",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","flex-direction","column","align-items","center"],[1,"th-icons"],["field","serial_no"],["type","numeric","field","serial_no","display","menu",1,"p-ml-auto"],["pSortableColumn","stock_keep_unit",1,"text-center"],[1,"sku-icons"],["field","stock_keep_unit"],["type","text","field","stock_keep_unit","display","menu",1,"p-ml-auto"],["pSortableColumn","product_name",1,"text-center"],[1,"product-icons"],["field","product_name"],["type","text","field","product_name","display","menu",1,"p-ml-auto"],["pSortableColumn","agency",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"agency-icons"],["field","agency"],["type","text","field","agency","display","menu",1,"p-ml-auto"],["pSortableColumn","description",1,"text-center"],[1,"desc-icons"],["field","description"],["type","text","field","description","display","menu",1,"p-ml-auto"],["pSortableColumn","status",1,"text-center"],[1,"status-icons"],["field","status"],["type","text","field","status","display","menu",1,"p-ml-auto"],[1,"p-selectable-row"],[1,"text-center"],[2,"text-align","center"]],template:function(t,e){1&t&&(l.Rb(0,"p-tabMenu",0),l.Wb(1,"p-table",1,2),l.Oc(3,y,10,1,"ng-template",3),l.Oc(4,_,38,3,"ng-template",4),l.Oc(5,W,13,6,"ng-template",5),l.Oc(6,V,3,1,"ng-template",6),l.Vb(),l.Wb(7,"p-paginator",7),l.gc("onPageChange",function(t){return e.paginate(t)}),l.Vb()),2&t&&(l.rc("model",e.menuItems)("activeItem",e.activeItem),l.Db(1),l.rc("loading",e.loading)("value",e.inventoryList)("rowHover",!0)("filterDelay",0)("globalFilterFields",l.uc(10,O)),l.Db(6),l.rc("rows",e.pageItems)("totalRecords",e.totalRecords)("rowsPerPageOptions",l.vc(12,w,l.uc(11,C))))},directives:[m.a,g.e,f.h,h.a,c.f,c.e,s.c,v.a,s.p,s.s,g.d,g.c,g.a],styles:[".card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-table .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}.agency-icons[_ngcontent-%COMP%], .booking-icons[_ngcontent-%COMP%], .desc-icons[_ngcontent-%COMP%], .product-icons[_ngcontent-%COMP%], .sku-icons[_ngcontent-%COMP%], .status-icons[_ngcontent-%COMP%], .th-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}"]}),t})();var x=n("behN");const R=["dangerModal"];function M(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",15),l.Wb(1,"div",16),l.Wb(2,"div"),l.Qc(3,"Booking Listing"),l.Vb(),l.Wb(4,"div",17),l.Wb(5,"a",18),l.gc("click",function(e){return l.Fc(t),l.kc().onCreate(e)}),l.Rb(6,"i",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"div",20),l.Wb(8,"label",21),l.Rb(9,"i",22),l.Vb(),l.Wb(10,"input",23),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().search_text=e})("input",function(){return l.Fc(t),l.kc().onSearch()}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(10),l.rc("ngModel",t.search_text)}}const S=function(){return{width:"5%"}};function P(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",24),l.Wb(2,"div",25),l.Qc(3," Booking No "),l.Wb(4,"div",26),l.Rb(5,"p-sortIcon",27),l.Rb(6,"p-columnFilter",28),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",29),l.Wb(8,"div",25),l.Qc(9," Request Date "),l.Wb(10,"div",30),l.Rb(11,"p-sortIcon",31),l.Rb(12,"p-columnFilter",32),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",33),l.Wb(14,"div",25),l.Qc(15," Requester "),l.Wb(16,"div",34),l.Rb(17,"p-sortIcon",35),l.Rb(18,"p-columnFilter",36),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",37),l.Wb(20,"div",25),l.Qc(21," SKU "),l.Wb(22,"div",38),l.Rb(23,"p-sortIcon",39),l.Rb(24,"p-columnFilter",40),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",41),l.Wb(26,"div",25),l.Qc(27," Product Desc "),l.Wb(28,"div",42),l.Rb(29,"p-sortIcon",43),l.Rb(30,"p-columnFilter",44),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"th",45),l.Wb(32,"div",25),l.Qc(33," Customer "),l.Wb(34,"div",46),l.Rb(35,"p-sortIcon",47),l.Rb(36,"p-columnFilter",48),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"th",49),l.Wb(38,"div",50),l.Qc(39," Booking Reason "),l.Wb(40,"div",26),l.Rb(41,"p-sortIcon",51),l.Rb(42,"p-columnFilter",52),l.Vb(),l.Vb(),l.Vb(),l.Wb(43,"th",53),l.Wb(44,"div",25),l.Qc(45," Status "),l.Wb(46,"div",54),l.Rb(47,"p-sortIcon",55),l.Rb(48,"p-columnFilter",56),l.Vb(),l.Vb(),l.Vb(),l.Rb(49,"th"),l.Vb()),2&t&&(l.Db(49),l.Kc(l.uc(2,S)))}function j(t,e){if(1&t&&(l.Wb(0,"tr",57),l.Wb(1,"td",58),l.Wb(2,"a",59),l.Qc(3),l.Vb(),l.Vb(),l.Wb(4,"td",58),l.Qc(5),l.Vb(),l.Wb(6,"td",58),l.Qc(7),l.Vb(),l.Wb(8,"td",58),l.Qc(9),l.Vb(),l.Wb(10,"td",58),l.Qc(11),l.Vb(),l.Wb(12,"td",58),l.Qc(13),l.Vb(),l.Wb(14,"td",58),l.Qc(15),l.Vb(),l.Wb(16,"td",58),l.Qc(17),l.Vb(),l.Vb()),2&t){const t=e.$implicit,n=l.kc();l.Db(2),l.sc("routerLink",t.id),l.Db(1),l.Rc(t.booking_no?t.booking_no:"Draft"),l.Db(2),l.Sc(" ",t.request_date," "),l.Db(2),l.Sc(" ",t.requester," "),l.Db(2),l.Sc(" ",t.sku," "),l.Db(2),l.Sc(" ",t.product_desc," "),l.Db(2),l.Sc(" ",t.customer," "),l.Db(2),l.Sc(" ",n.bookingReasonsNames[t.booking_reason-1]?n.bookingReasonsNames[t.booking_reason-1]:"Null"," "),l.Db(2),l.Sc(" ",n.bookingStatusNames[t.status-1]?n.bookingStatusNames[t.status-1]:"Null"," ")}}function I(t,e){1&t&&(l.Wb(0,"tr"),l.Wb(1,"td",60),l.Qc(2," No records found "),l.Vb(),l.Vb()),2&t&&(l.Db(1),l.Eb("colspan",8))}const Q=function(){return["code","request_date","requester"]},L=function(){return{showAll:"All"}},N=function(t){return[10,25,50,t]};let A=(()=>{class t{constructor(t,e,n){this.api=t,this.router=e,this.route=n,this.pageItems=10,this.search_text="",this.icons=[],this.id="#",this.bookingReasonsNames=["event","demo","training","buyin"],this.bookingStatusNames=["approval request","approve","review","endorse","provision-ally approve","decline","conflict","extension request","demo item availability"]}ngOnInit(){this.loading=!0,this.api.getList(1,this.pageItems).subscribe(t=>{console.log(t),this.bookingList=t.data,this.totalRecords=t.total_rows,this.loading=!1},t=>{this.loading=!1})}onSearch(){this.searchTimerId&&clearTimeout(this.searchTimerId),this.searchTimerId=window.setTimeout(()=>{console.log("once runs"),this.api.getListSearch(this.search_text,1,this.pageItems).subscribe(t=>{this.bookingList=t.data,this.totalRecords=t.total_rows})},1e3)}onCreate(t){return t.preventDefault(),this.api.create("booking").subscribe(t=>{this.router.navigate(["/dms/bookings",t])},t=>{console.log(t),this.alertBody="Unable to create new booking draft!",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)}),!1}paginate(t){this.pageItems=t.rows,this.onPageClick(parseInt(t.page)+1)}onPageClick(t){this.api.getListSearch(this.search_text,t,this.pageItems).subscribe(t=>{this.bookingList=t.data,this.totalRecords=t.total_rows})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(x.a),l.Qb(c.c),l.Qb(c.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-bookings"]],viewQuery:function(t,e){if(1&t&&l.Vc(R,1),2&t){let t;l.Cc(t=l.hc())&&(e.dangerModal=t.first)}},decls:18,vars:13,consts:[["styleClass","p-datatable-table",3,"loading","value","rowHover","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],[1,"table-header","d-flex"],[1,"d-flex"],[1,"ml-2","mt-1"],["href","","routerLinkActive","router-link-active",3,"click"],[1,"icon-plus","icons",2,"color","#FFFFFF"],[1,"p-input-icon-left"],["for","search-input"],[1,"pi","pi-search"],["id","search-input","type","text","pInputText","","placeholder","Global Search",3,"ngModel","ngModelChange","input"],["pSortableColumn","code",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","flex-direction","column","align-items","center"],[1,"booking-icons"],["field","code"],["type","text","field","code","display","menu",1,"p-ml-auto"],["pSortableColumn","request_date",1,"text-center"],[1,"request-date"],["field","request_date"],["type","date","field","request_date","display","menu",1,"p-ml-auto"],["pSortableColumn","requester",1,"text-center"],[1,"req-icons"],["field","requester"],["type","text","field","requester","display","menu",1,"p-ml-auto"],["pSortableColumn","sku",1,"text-center"],[1,"sku-icons"],["field","sku"],["type","text","field","sku","display","menu",1,"p-ml-auto"],["pSortableColumn","product_desc",1,"text-center"],[1,"prod-icons"],["field","product_desc"],["type","text","field","product_desc","display","menu",1,"p-ml-auto"],["pSortableColumn","customer",1,"text-center"],[1,"cust-icons"],["field","customer"],["type","text","field","customer","display","menu",1,"p-ml-auto"],["pSortableColumn","booking_reason",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],["field","booking_reason"],["type","numeric","field","booking_reason","display","menu",1,"p-ml-auto"],["pSortableColumn","status",1,"text-center"],[1,"status-icons"],["field","status"],["type","numeric","field","status","display","menu",1,"p-ml-auto"],[1,"p-selectable-row"],[1,"text-center"],["routerLinkActive","router-link-active",3,"routerLink"],[2,"text-align","center"]],template:function(t,e){1&t&&(l.Wb(0,"p-table",0,1),l.Oc(2,M,11,1,"ng-template",2),l.Oc(3,P,50,3,"ng-template",3),l.Oc(4,j,18,9,"ng-template",4),l.Oc(5,I,3,1,"ng-template",5),l.Vb(),l.Wb(6,"p-paginator",6),l.gc("onPageChange",function(t){return e.paginate(t)}),l.Vb(),l.Wb(7,"div",7,8),l.Wb(9,"div",9),l.Wb(10,"div",10),l.Wb(11,"div",11),l.Wb(12,"h4",12),l.Qc(13,"Error"),l.Vb(),l.Vb(),l.Wb(14,"div",13),l.Wb(15,"p"),l.Qc(16),l.Vb(),l.Vb(),l.Rb(17,"div",14),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.rc("loading",e.loading)("value",e.bookingList)("rowHover",!0)("filterDelay",0)("globalFilterFields",l.uc(9,Q)),l.Db(6),l.rc("rows",e.pageItems)("totalRecords",e.totalRecords)("rowsPerPageOptions",l.vc(11,N,l.uc(10,L))),l.Db(10),l.Rc(e.alertBody))},directives:[g.e,f.h,h.a,r.a,c.e,s.c,v.a,s.p,s.s,g.d,g.c,g.a,c.f],styles:[".card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-table .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-table .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}.booking-icons[_ngcontent-%COMP%], .cust-icons[_ngcontent-%COMP%], .prod-icons[_ngcontent-%COMP%], .req-icons[_ngcontent-%COMP%], .request-date[_ngcontent-%COMP%], .sku-icons[_ngcontent-%COMP%], .status-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}"]}),t})(),B=(()=>{class t{constructor(t){this.apiClient=t}getList(){return this.apiClient.get("customer-list")}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=n("KnEf");const T=["successModal"],q=["dangerModal"],E=["foundModal"];function H(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit,n=l.kc(2);l.rc("value",t.id),l.Eb("selected",n.bookingDetailList.booking_reason==t.id||null),l.Db(1),l.Sc(" ",t.name," ")}}function z(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",15),l.Wb(1,"select",71),l.gc("change",function(e){return l.Fc(t),l.kc().changeReason(e.target.value)})("ngModelChange",function(e){return l.Fc(t),l.kc().selectedBooking=e}),l.Oc(2,H,2,3,"option",19),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(1),l.rc("ngModel",t.selectedBooking),l.Eb("disabled",t.editable),l.Db(1),l.rc("ngForOf",t.bookingReasons)}}function U(t,e){1&t&&(l.Wb(0,"div"),l.Rb(1,"input",73),l.Vb())}function X(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.sc("value",t.id),l.Db(1),l.Rc(t.company_name)}}function G(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit,n=l.kc();l.rc("value",n.defaultAnswer),l.Db(1),l.Rc(t.ans)}}function K(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.id),l.Db(1),l.Rc(t.value)}}function $(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.id),l.Db(1),l.Rc(t.ans)}}function Y(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.id),l.Db(1),l.Rc(t.value)}}function Z(t,e){if(1&t&&(l.Wb(0,"option",72),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.rc("value",t.id),l.Db(1),l.Rc(t.value)}}function J(t,e){1&t&&(l.Wb(0,"div",74),l.Wb(1,"p-accordion",75),l.Wb(2,"p-accordionTab",76),l.Wb(3,"p-header",77),l.Rb(4,"i",78),l.Wb(5,"span",79),l.Qc(6,"Bme Logs"),l.Vb(),l.Vb(),l.Wb(7,"table",80),l.Wb(8,"thead"),l.Wb(9,"tr"),l.Wb(10,"th"),l.Qc(11,"Work Order Type"),l.Vb(),l.Wb(12,"th"),l.Qc(13,"Required ?"),l.Vb(),l.Wb(14,"th"),l.Qc(15,"Work Order Number"),l.Vb(),l.Vb(),l.Vb(),l.Wb(16,"tbody"),l.Wb(17,"tr"),l.Wb(18,"td"),l.Qc(19,"Contingency"),l.Vb(),l.Wb(20,"td"),l.Wb(21,"select",81),l.Wb(22,"option",82),l.Qc(23,"Yes"),l.Vb(),l.Wb(24,"option",83),l.Qc(25,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"td"),l.Rb(27,"input",84),l.Vb(),l.Vb(),l.Wb(28,"tr"),l.Wb(29,"td"),l.Qc(30,"PDI"),l.Vb(),l.Wb(31,"td"),l.Wb(32,"select",85),l.Wb(33,"option",86),l.Qc(34,"Yes"),l.Vb(),l.Wb(35,"option",83),l.Qc(36,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"td"),l.Rb(38,"input",87),l.Vb(),l.Vb(),l.Wb(39,"tr"),l.Wb(40,"td"),l.Qc(41,"Installation"),l.Vb(),l.Wb(42,"td"),l.Wb(43,"select",88),l.Wb(44,"option",86),l.Qc(45,"Yes"),l.Vb(),l.Wb(46,"option",83),l.Qc(47,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(48,"td"),l.Rb(49,"input",89),l.Vb(),l.Vb(),l.Wb(50,"tr"),l.Wb(51,"td"),l.Qc(52,"TNC"),l.Vb(),l.Wb(53,"td"),l.Wb(54,"select",90),l.Wb(55,"option",91),l.Qc(56,"Yes"),l.Vb(),l.Wb(57,"option",83),l.Qc(58,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(59,"td"),l.Rb(60,"input",92),l.Vb(),l.Vb(),l.Wb(61,"tr"),l.Wb(62,"td"),l.Qc(63,"Training"),l.Vb(),l.Wb(64,"td"),l.Wb(65,"select",93),l.Wb(66,"option",86),l.Qc(67,"Yes"),l.Vb(),l.Wb(68,"option",83),l.Qc(69,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(70,"td"),l.Rb(71,"input",94),l.Vb(),l.Vb(),l.Wb(72,"tr"),l.Wb(73,"td"),l.Qc(74,"Warehouse QA"),l.Vb(),l.Wb(75,"td"),l.Wb(76,"select",95),l.Wb(77,"option",91),l.Qc(78,"Yes"),l.Vb(),l.Wb(79,"option",83),l.Qc(80,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(81,"td"),l.Rb(82,"input",96),l.Vb(),l.Vb(),l.Wb(83,"tr"),l.Wb(84,"td"),l.Qc(85,"Post-Deployment Repair"),l.Vb(),l.Wb(86,"td"),l.Wb(87,"select",97),l.Wb(88,"option",86),l.Qc(89,"Yes"),l.Vb(),l.Wb(90,"option",83),l.Qc(91,"No"),l.Vb(),l.Vb(),l.Vb(),l.Wb(92,"td"),l.Rb(93,"input",98),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(2),l.rc("selected",!0),l.Db(20),l.rc("value",1))}let tt=(()=>{class t{constructor(t,e,n){this.fb=t,this.bookingService=e,this.apiCustomers=n,this.curDate=new Date(Date.now()).toLocaleDateString(),this.showBmeLogSec=!1,this.defaultInputValue=1,this.winningPercentageDefautl=30,this.PriorityDefaultValue=1,this.bookingReasons=[{id:1,name:"event"},{id:2,name:"demo"},{id:3,name:"training"},{id:4,name:"buyin"}],this.defaultPercentages=[{id:1,value:"30%"},{id:2,value:"40%"},{id:3,value:"50%"}],this.defaultAnswers=[{id:1,ans:"Yes"},{id:2,ans:"No"}],this.defaultPriority=1,this.defaultAnswer=1,this.selectedPercentage=1,this.participateInDemoAns=[{value:"1",ans:"Yes"},{value:"0",ans:"No"}],this.initiatorValues=[{id:1,ans:"FSS"},{id:2,ans:"Customer"}],this.sequenceOfDemoValues=[{value:"first",ans:"First"},{value:"middle",ans:"Middle"},{value:"last",ans:"Last"}],this.defaultPriorities=[{id:1,value:"High",name:"high"},{id:2,value:"Medium",name:"medium"},{id:3,value:"Low",name:"low"}],this.selectedBooking=1}changePrioritye(t){this.defaultPriority=t}changePriority(t){}changeAnswer(t){this.defaultAnswer=t}changeReason(t){this.selectedBooking=t,this.showBmeLogSec=2==t}ngOnInit(){"2"==this.bookingDetailList.booking_reason&&(this.editable=!0,this.selectedBooking=Number(this.bookingDetailList.booking_reason),this.showBmeLogSec=!0),this.apiCustomers.getList().subscribe(t=>{this.customers=t}),this.duration=this.bookingDetailList.demo_duration,this.formBooking=this.fb.group({customer:new s.f(this.bookingDetailList.customer_id),booking_reason:new s.f(this.bookingDetailList.booking_reason),branch:new s.f(this.bookingDetailList.branch),date_of_delivery:new s.f(this.bookingDetailList.preferred_date_of_delivery?this.dateToHtmlString(new Date(this.bookingDetailList.preferred_date_of_delivery)):null),date_of_collection:new s.f(this.bookingDetailList.preferred_date_of_collection?this.dateToHtmlString(new Date(this.bookingDetailList.preferred_date_of_collection)):null),demo_duration:new s.f(this.duration),department:new s.f(this.bookingDetailList.department),location:new s.f(this.bookingDetailList.location),contact_name:new s.f(this.bookingDetailList.ship_to_contact_name),contact_number:new s.f(this.bookingDetailList.ship_to_contact_number),remarks:new s.f(this.bookingDetailList.remarks),wo_con_req:new s.f(this.bookingDetailList.bme_con_req?1:0),wo_con_won:new s.f(this.bookingDetailList.con_won),wo_pdi_req:new s.f(this.bookingDetailList.bme_pdi_re?1:0),wo_pdi_won:new s.f(this.bookingDetailList.pdi_won),wo_ins_req:new s.f(this.bookingDetailList.bme_ins_req?1:0),wo_ins_won:new s.f(this.bookingDetailList.ins_won),wo_tnc_req:new s.f(this.bookingDetailList.bme_tnc_won?1:0),wo_tnc_won:new s.f(this.bookingDetailList.tnc_won),wo_trn_req:new s.f(this.bookingDetailList.bme_trn_req?1:0),wo_trn_won:new s.f(this.bookingDetailList.trn_won),wo_wq_req:new s.f(this.bookingDetailList.bme_war_req?1:0),wo_wq_won:new s.f(this.bookingDetailList.war_won),wo_pdr_req:new s.f(this.bookingDetailList.bme_pdr_req?1:0),wo_pdr_won:new s.f(this.bookingDetailList.pdr_won),opportunity_code:new s.f(this.bookingDetailList.opportunity_code),priority:new s.f(this.bookingDetailList.priority),probability:new s.f(this.bookingDetailList.probability),initiator:new s.f(this.bookingDetailList.initiator),is_competitor_in_demo:new s.f(this.bookingDetailList.is_competitor_in_demo),squence_of_demo:new s.f(this.bookingDetailList.squence_of_demo),selling_points:new s.f(this.bookingDetailList.selling_points),customer_feedback:new s.f(this.bookingDetailList.customer_feedback),pain_points:new s.f(this.bookingDetailList.pain_points)})}onSave(){this.bookingService.updateBooking({customer:this.formBooking.get("customer").value,booking_reason:this.formBooking.get("booking_reason").value,branch:this.formBooking.get("branch").value,date_of_delivery:this.formBooking.get("date_of_delivery").value,date_of_collection:this.formBooking.get("date_of_collection").value,demo_duration:this.formBooking.get("demo_duration").value,department:this.formBooking.get("department").value,location:this.formBooking.get("location").value,contact_name:this.formBooking.get("contact_name").value,contact_number:this.formBooking.get("contact_number").value,remarks:this.formBooking.get("remarks").value,booking_save:!0,opportunity_code:this.bookingDetailList.opportunity_code,priority:this.formBooking.get("priority").value,probability:this.formBooking.get("probability").value,initiator:this.formBooking.get("initiator").value,is_competitor_in_demo:this.formBooking.get("is_competitor_in_demo").value,squence_of_demo:this.formBooking.get("squence_of_demo").value,selling_points:this.formBooking.get("selling_points").value,customer_feedback:this.formBooking.get("customer_feedback").value,pain_points:this.formBooking.get("pain_points").value,wo_con_req:this.formBooking.get("wo_con_req").value,wo_con_won:this.formBooking.get("wo_con_won").value,wo_pdi_req:this.formBooking.get("wo_pdi_req").value,wo_pdi_won:this.formBooking.get("wo_pdi_won").value,wo_ins_req:this.formBooking.get("wo_ins_req").value,wo_ins_won:this.formBooking.get("wo_ins_won").value,wo_tnc_req:this.formBooking.get("wo_tnc_req").value,wo_tnc_won:this.formBooking.get("wo_tnc_won").value,wo_trn_req:this.formBooking.get("wo_trn_req").value,wo_trn_won:this.formBooking.get("wo_trn_won").value,wo_wq_req:this.formBooking.get("wo_wq_req").value,wo_wq_won:this.formBooking.get("wo_wq_won").value,wo_pdr_req:this.formBooking.get("wo_pdr_req").value,wo_pdr_won:this.formBooking.get("wo_pdr_won").value},this.bookingDetailList.id).subscribe(t=>{t.id&&(this.editable=!0,this.alertBody="Booking saved successfully.",this.successModal.show(),setTimeout(()=>{this.successModal.hide()},2e3))},t=>{console.log(t),this.alertBody="The booking can't save",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)})}dateToHtmlString(t){let e=t.getMonth()+1+"";e=e.length<2?"0"+e:e;let n=t.getDate()+"";n=n.length<2?"0"+n:n;let o=t.getHours()+"";o=o.length<2?"0"+o:o;let i=t.getMinutes()+"";return i=i.length<2?"0"+i:i,t.getFullYear()+"-"+e+"-"+n+"T"+o+":"+i}durationChanged(){const t=this.formBooking.get("date_of_delivery").value,e=this.formBooking.get("demo_duration").value;if(null!=t&&e>0){var n=new Date(t);n.setTime(n.getTime()+864e5*e);let o=this.dateToHtmlString(n);console.log(o),this.formBooking.get("date_of_collection").setValue(o)}}onDuration(){const t=this.formBooking.get("date_of_delivery").value,e=this.formBooking.get("date_of_collection").value;if(console.log(e),null!=t&&""!=t&&null!=e&&""!=e){var n=new Date(t),o=new Date(e).getTime()-n.getTime();this.duration=o/864e5}}changePercentage(t){}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(s.e),l.Qb(x.a),l.Qb(B))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-form-submit"]],viewQuery:function(t,e){if(1&t&&(l.Vc(T,1),l.Vc(q,1),l.Vc(E,1)),2&t){let t;l.Cc(t=l.hc())&&(e.successModal=t.first),l.Cc(t=l.hc())&&(e.dangerModal=t.first),l.Cc(t=l.hc())&&(e.foundModal=t.first)}},inputs:{bookingDetailList:"bookingDetailList"},decls:186,vars:22,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"form-group","row"],[1,"col-md-2","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],[1,"col-md-6"],["for","booking-reason",1,"col-md-4","col-form-label"],["class","col-md-8",4,"ngIf"],[4,"ngIf"],[1,"col-md-4","col-form-label"],[1,"col-md-8"],[1,"col-md-4"],["formControlName","customer",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","branch",1,"col-md-2","col-form-label"],["type","text","formControlName","branch",1,"form-control"],["for","date-of-delivery",1,"col-md-4","col-form-label"],["formControlName","date_of_delivery","type","datetime-local","name","date-of-delivery",1,"form-control",3,"change"],["for","date-of-collection",1,"col-md-4","col-form-label"],["formControlName","date_of_collection","type","datetime-local","name","date-of-collection",1,"form-control",3,"change"],["for","demo-duration",1,"col-md-2","col-form-label"],[1,"col-md-2"],["type","number","formControlName","demo_duration",1,"form-control",3,"value"],["for","department",1,"col-md-2","col-form-label"],["type","text","formControlName","department",1,"form-control"],["for","contact-name",1,"col-md-4","col-form-label"],["formControlName","contact_name","type","text","name","contact-name",1,"form-control"],["for","contact-number",1,"col-md-4","col-form-label"],["formControlName","contact_number","type","text","name","contact-number",1,"form-control"],["for","remarks",1,"col-md-2","col-form-label"],["formControlName","remarks","rows","9",1,"form-control"],[1,"custom-footer","d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary"],[1,"fa","fa-plus"],[1,"card",3,"ngClass"],[1,"opportunityTitle"],[1,"opportunityBoxes"],[1,"opportunityBoxesSame"],[1,"opportunityBoxesSameFirst"],["for","",1,"opportunityBoxesLabel"],["type","text","placeholder","EX: BKYXXXX",1,"form-control","oppoturiniIdIput","disabled",3,"disabled"],["formControlName","initiator",1,"form-control",3,"ngModel","change","ngModelChange"],["formControlName","probability",1,"form-control",3,"ngModel","change","ngModelChange"],["formControlName","is_competitor_in_demo",1,"form-control",3,"ngModel","change","ngModelChange"],["formControlName","priority",1,"form-control",3,"ngModel","change","ngModelChange"],["formControlName","squence_of_demo",1,"form-control",3,"ngModel","change","ngModelChange"],[1,"opportunitiesText"],["for","selling_points"],["formControlName","selling_points","cols","30","rows","4",2,"resize","none"],["for","customer_feedback"],["formControlName","customer_feedback","cols","30","rows","4",2,"resize","none"],["for","opportunity_code"],["formControlName","opportunity_code","cols","30","rows","4",2,"resize","none"],["class","form-group",4,"ngIf"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["formControlName","booking_reason",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"value"],["type","text","value","demo","disabled","",1,"form-control"],[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-info"],[1,"accordion-header"],[1,"table","table-bordered"],["formControlName","wo_con_req",1,"form-control"],["selected","",3,"value"],["value","0"],["type","text","formControlName","wo_con_won","readonly","",1,"form-control"],["formControlName","wo_pdi_req",1,"form-control"],["value","1","selected",""],["type","text","formControlName","wo_pdi_won","readonly","",1,"form-control"],["formControlName","wo_ins_req",1,"form-control"],["type","text","formControlName","wo_ins_won","readonly","",1,"form-control"],["formControlName","wo_tnc_req",1,"form-control"],["value","1"],["type","text","formControlName","wo_tnc_won","readonly","",1,"form-control"],["formControlName","wo_trn_req",1,"form-control"],["type","text","formControlName","wo_trn_won","readonly","",1,"form-control"],["formControlName","wo_wq_req",1,"form-control"],["type","text","formControlName","wo_wq_won","readonly","",1,"form-control"],["formControlName","wo_pdr_req",1,"form-control"],["type","text","formControlName","wo_pdr_won","readonly","",1,"form-control"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"form",3),l.gc("ngSubmit",function(){return e.onSave()}),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"label",7),l.Qc(8,"Status"),l.Vb(),l.Wb(9,"div",8),l.Wb(10,"p",9),l.Qc(11,"DRAFT"),l.Vb(),l.Vb(),l.Vb(),l.Wb(12,"div",1),l.Wb(13,"div",10),l.Wb(14,"div",6),l.Wb(15,"label",11),l.Qc(16,"Booking reason"),l.Vb(),l.Oc(17,z,3,3,"div",12),l.Oc(18,U,2,0,"div",13),l.Vb(),l.Vb(),l.Wb(19,"div",10),l.Wb(20,"div",6),l.Wb(21,"label",14),l.Qc(22,"Booking No"),l.Vb(),l.Wb(23,"div",15),l.Wb(24,"p",9),l.Qc(25),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"div",6),l.Wb(27,"label",7),l.Qc(28,"Request Date"),l.Vb(),l.Wb(29,"div",8),l.Wb(30,"p",9),l.Qc(31),l.Vb(),l.Vb(),l.Vb(),l.Wb(32,"div",6),l.Wb(33,"label",7),l.Qc(34,"Customer"),l.Vb(),l.Wb(35,"div",16),l.Wb(36,"select",17),l.Wb(37,"option",18),l.Qc(38,"Please select"),l.Vb(),l.Oc(39,X,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(40,"div",6),l.Wb(41,"label",20),l.Qc(42,"Branch/site"),l.Vb(),l.Wb(43,"div",16),l.Rb(44,"input",21),l.Vb(),l.Vb(),l.Wb(45,"div",1),l.Wb(46,"div",10),l.Wb(47,"div",6),l.Wb(48,"label",22),l.Qc(49," Preferred Date of Delivery "),l.Vb(),l.Wb(50,"div",16),l.Wb(51,"input",23),l.gc("change",function(){return e.onDuration()}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(52,"div",10),l.Wb(53,"div",6),l.Wb(54,"label",24),l.Qc(55,"Preferred Date of Collection "),l.Vb(),l.Wb(56,"div",10),l.Wb(57,"input",25),l.gc("change",function(){return e.onDuration()}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(58,"div",6),l.Wb(59,"label",26),l.Qc(60," Demo Duration * "),l.Vb(),l.Wb(61,"div",27),l.Rb(62,"input",28),l.Vb(),l.Wb(63,"div",27),l.Qc(64,"Days"),l.Vb(),l.Vb(),l.Wb(65,"div",6),l.Wb(66,"label",29),l.Qc(67,"Ship-to Department/ Warde"),l.Vb(),l.Wb(68,"div",16),l.Rb(69,"input",30),l.Vb(),l.Vb(),l.Wb(70,"div",1),l.Wb(71,"div",10),l.Wb(72,"div",6),l.Wb(73,"label",31),l.Qc(74,"Ship to Contact Name "),l.Vb(),l.Wb(75,"div",15),l.Rb(76,"input",32),l.Vb(),l.Vb(),l.Vb(),l.Wb(77,"div",10),l.Wb(78,"div",6),l.Wb(79,"label",33),l.Qc(80,"Ship-To Contact Number "),l.Vb(),l.Wb(81,"div",10),l.Rb(82,"input",34),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(83,"div",1),l.Wb(84,"div",10),l.Wb(85,"div",6),l.Wb(86,"label",31),l.Qc(87,"Ship to Contact Name "),l.Vb(),l.Wb(88,"div",15),l.Rb(89,"input",32),l.Vb(),l.Vb(),l.Vb(),l.Wb(90,"div",10),l.Wb(91,"div",6),l.Wb(92,"label",33),l.Qc(93,"Ship-To Contact Number "),l.Vb(),l.Wb(94,"div",10),l.Rb(95,"input",34),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(96,"div",6),l.Wb(97,"label",35),l.Qc(98,"Remarks"),l.Vb(),l.Wb(99,"div",8),l.Rb(100,"textarea",36),l.Vb(),l.Vb(),l.Wb(101,"div",37),l.Wb(102,"button",38),l.Rb(103,"i",39),l.Qc(104," Save "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(105,"div",40),l.Wb(106,"div",5),l.Wb(107,"div"),l.Wb(108,"p"),l.Wb(109,"strong",41),l.Qc(110,"Opportunity"),l.Vb(),l.Vb(),l.Rb(111,"hr"),l.Wb(112,"div",42),l.Wb(113,"div",43),l.Wb(114,"div",44),l.Wb(115,"label",45),l.Qc(116,"Opportunity ID-Version"),l.Vb(),l.Wb(117,"div"),l.Rb(118,"input",46),l.Vb(),l.Vb(),l.Wb(119,"div",44),l.Wb(120,"label",45),l.Qc(121,"Initiator"),l.Vb(),l.Wb(122,"select",47),l.gc("change",function(t){return e.changeAnswer(t.target.value)})("ngModelChange",function(t){return e.defaultAnswer=t}),l.Oc(123,G,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(124,"div",43),l.Wb(125,"div",44),l.Wb(126,"label",45),l.Qc(127," Winning Probability "),l.Vb(),l.Wb(128,"select",48),l.gc("change",function(t){return e.changePercentage(t.target.value)})("ngModelChange",function(t){return e.selectedPercentage=t}),l.Oc(129,K,2,2,"option",19),l.Vb(),l.Vb(),l.Wb(130,"div",44),l.Wb(131,"label",45),l.Qc(132,"Competitor participate in Demo?"),l.Vb(),l.Wb(133,"select",49),l.gc("change",function(t){return e.changeAnswer(t.target.value)})("ngModelChange",function(t){return e.defaultAnswer=t}),l.Oc(134,$,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(135,"div",43),l.Wb(136,"div",44),l.Wb(137,"label",45),l.Qc(138,"Priority"),l.Vb(),l.Wb(139,"select",50),l.gc("change",function(t){return e.changePrioritye(t.target.value)})("ngModelChange",function(t){return e.defaultPriority=t}),l.Oc(140,Y,2,2,"option",19),l.Vb(),l.Vb(),l.Wb(141,"div",44),l.Wb(142,"label",45),l.Qc(143,"IdsMed Sequence of Demo"),l.Vb(),l.Wb(144,"select",51),l.gc("change",function(t){return e.changePriority(t.target.value)})("ngModelChange",function(t){return e.defaultPriority=t}),l.Oc(145,Z,2,2,"option",19),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(146,"div",52),l.Wb(147,"div"),l.Wb(148,"label",53),l.Qc(149,"Point Point"),l.Vb(),l.Vb(),l.Wb(150,"div"),l.Rb(151,"textarea",54),l.Vb(),l.Vb(),l.Wb(152,"div",52),l.Wb(153,"div"),l.Wb(154,"label",55),l.Qc(155,"Features To highlight"),l.Vb(),l.Vb(),l.Wb(156,"div"),l.Rb(157,"textarea",56),l.Vb(),l.Vb(),l.Wb(158,"div",52),l.Wb(159,"div"),l.Wb(160,"label",57),l.Qc(161,"users Feedback"),l.Vb(),l.Vb(),l.Wb(162,"div"),l.Rb(163,"textarea",58),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Oc(164,J,94,2,"div",59),l.Vb(),l.Vb(),l.Vb(),l.Wb(165,"div",60,61),l.Wb(167,"div",62),l.Wb(168,"div",63),l.Wb(169,"div",64),l.Wb(170,"h4",65),l.Qc(171,"Success"),l.Vb(),l.Vb(),l.Wb(172,"div",66),l.Wb(173,"p"),l.Qc(174),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(175,"div",67,68),l.Wb(177,"div",69),l.Wb(178,"div",63),l.Wb(179,"div",64),l.Wb(180,"h4",65),l.Qc(181,"Error"),l.Vb(),l.Vb(),l.Wb(182,"div",66),l.Wb(183,"p"),l.Qc(184),l.Vb(),l.Vb(),l.Rb(185,"div",70),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(3),l.rc("formGroup",e.formBooking),l.Db(14),l.rc("ngIf",!e.editable),l.Db(1),l.rc("ngIf",e.editable),l.Db(7),l.Sc(" ",e.bookingDetailList.booking_no," "),l.Db(6),l.Rc(e.curDate),l.Db(8),l.rc("ngForOf",e.customers),l.Db(23),l.rc("value",e.duration),l.Db(43),l.rc("ngClass",2==e.selectedBooking?"opportunityAppear":"opportunity"),l.Db(13),l.rc("disabled",!0),l.Db(4),l.rc("ngModel",e.defaultAnswer),l.Db(1),l.rc("ngForOf",e.defaultAnswers),l.Db(5),l.rc("ngModel",e.selectedPercentage),l.Db(1),l.rc("ngForOf",e.defaultPercentages),l.Db(4),l.rc("ngModel",e.defaultAnswer),l.Db(1),l.rc("ngForOf",e.defaultAnswers),l.Db(5),l.rc("ngModel",e.defaultPriority),l.Db(1),l.rc("ngForOf",e.defaultPriorities),l.Db(4),l.rc("ngModel",e.defaultPriority),l.Db(1),l.rc("ngForOf",e.defaultPriorities),l.Db(19),l.rc("ngIf",1==e.showBmeLogSec),l.Db(10),l.Rc(e.alertBody),l.Db(10),l.Rc(e.alertBody))},directives:[s.z,s.q,s.j,o.p,s.x,s.p,s.h,s.t,s.A,o.o,s.c,s.u,o.n,r.a,F.a,F.c,f.e],styles:[".opportunity[_ngcontent-%COMP%]{display:none}.opportunityAppear[_ngcontent-%COMP%]{display:block}.opportunityBoxes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(290px,2fr));column-gap:65px;row-gap:10px}.opportunityBoxesSame[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(auto-fit,minmax(50px,1fr));grid-template-columns:auto}.opportunityBoxesSameFirst[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,2fr));justify-content:space-between}.opportunityBoxesLabel[_ngcontent-%COMP%]{align-self:start;justify-self:start}.opportunitiesText[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:150px auto}.opportunitiesText[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;outline:none;border:1.5px solid #d3d3d3}.oppoturiniIdIput[_ngcontent-%COMP%]{background-color:#d3d3d3;outline:none}table.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:gray;color:#fff}"]}),t})();const et=["*"];let nt=(()=>{class t{constructor(){this.title="",this.icon="cil-cart",this.open=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-expand-panel"]],inputs:{title:"title",icon:"icon",open:"open"},ngContentSelectors:et,decls:7,vars:5,consts:[[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"accordion-header"]],template:function(t,e){1&t&&(l.qc(),l.Wb(0,"p-accordion"),l.Wb(1,"p-accordionTab",0),l.Wb(2,"p-header",1),l.Rb(3,"i"),l.Wb(4,"span",2),l.Qc(5),l.Vb(),l.Vb(),l.pc(6),l.Vb(),l.Vb()),2&t&&(l.Db(1),l.rc("selected",e.open),l.Db(2),l.Fb(e.icon),l.Db(2),l.Rc(e.title))},directives:[F.a,F.c,f.e],styles:[""]}),t})();const ot={unknown:"Unknown",main:"Demo Asset",compatibles:"Compatible Accessories",peripherals:"Peripheral Accessories",consumables:"Consumables",packing:"Packing during shipment",accessories:"Accessories / Consumables"};function it(t){return"main"===t||"compatibles"===t}var at=function(t){return t.demo="DEMO",t.loan="LOAN",t}({});let rt=(()=>{class t{constructor(t){this.apiClient=t}findEquipments(t){return this.apiClient.get("equipments/search?"+function(t){const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(t))}saveInventoryBooking(t){return this.apiClient.post("inventory-booking/store",t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function st(t,e){if(1&t){const t=l.Xb();l.Wb(0,"input",23),l.gc("change",function(e){l.Fc(t);const n=l.kc(),o=n.index,i=n.$implicit,a=l.kc();return e.target.checked&&a.onSelect(o,i.id)}),l.Vb()}if(2&t){const t=l.kc(),e=t.$implicit;l.rc("value",t.index+1)("checked",e.isPicked)}}function ct(t,e){if(1&t){const t=l.Xb();l.Wb(0,"input",24),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().$implicit.isPicked=e}),l.Vb()}if(2&t){const t=l.kc().$implicit;l.rc("ngModel",t.isPicked)}}function lt(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"td"),l.Wb(2,"label"),l.Oc(3,st,1,2,"input",21),l.Oc(4,ct,1,1,"input",22),l.Vb(),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.Vb(),l.Wb(9,"td"),l.Qc(10),l.Vb(),l.Vb()),2&t){const t=e.$implicit,n=l.kc();l.Db(3),l.rc("ngIf",1===n.maxPick),l.Db(1),l.rc("ngIf",!n.maxPick||n.maxPick>1&&n.list.length<n.maxPick),l.Db(2),l.Rc(t.id),l.Db(2),l.Rc(t.name),l.Db(2),l.Rc(t.sku)}}let bt=(()=>{class t{constructor(t,e){this.api=t,this.route=e,this.list=[],this.kind="unknown",this.maxPick=0,this.filter="",this.byClose=new l.n,this.bySave=new l.n}ngOnInit(){}ngOnDestroy(){this.searchListener&&this.searchListener.unsubscribe()}get isMain(){return it(this.kind)}onSearch(){for(const t of this.list)if(t.isPicked||""!==t.newSku){if(confirm("You have unsaved Changes, or selection.\n\nDo you want to continue?"))break;return}this.searchListener&&this.searchListener.unsubscribe(),this.searchListener=this.api.findEquipments({search_text:this.filter,purposes:this.isMain?[at.demo,at.loan]:[]}).subscribe({next:t=>{this.list=t?t.map(t=>Object.assign(Object.assign({},t),{newSku:"",isPicked:!1})):[]},error:()=>{this.list=[]}})}onSave(){this.api.saveInventoryBooking({bookingId:this.route.snapshot.params.id,equipmentId:this.equipmentId,type:"main"}).subscribe(t=>{t&&this.bySave.emit(this)},t=>{console.log(t),alert("not added")})}onClose(){this.byClose.emit(this)}onSelect(t,e){this.equipmentId=e,this.list.forEach((e,n)=>{e.isPicked=n===t})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(rt),l.Qb(c.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-identify"]],inputs:{kind:"kind",title:"title",maxPick:"maxPick",filter:"filter"},outputs:{byClose:"byClose",bySave:"bySave"},decls:35,vars:3,consts:[[1,"form-group","dms-identify"],[1,"animated","fadeIn"],[1,"row"],[1,"card","col-md-6"],[1,"identify-header"],["for","search-pattern"],[1,"card-body"],[1,"form-horizontal"],[1,"form-group","row"],[1,"col-9","m-auto","pr-0"],["type","text","id","search-pattern","name","pattern",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","p-0"],[1,"btn","btn-sm","btn-primary","button-style",3,"click"],[1,"table","col-12"],[1,"col-1"],[1,"col-2"],[1,"col-3"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-plus"],["type","radio","class","picker","name","picker",3,"value","checked","change",4,"ngIf"],["type","checkbox","class","picker",3,"ngModel","ngModelChange",4,"ngIf"],["type","radio","name","picker",1,"picker",3,"value","checked","change"],["type","checkbox",1,"picker",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"label",5),l.Wb(6,"strong"),l.Qc(7),l.Vb(),l.Vb(),l.Vb(),l.Wb(8,"div",6),l.Wb(9,"div",7),l.Wb(10,"div",8),l.Wb(11,"div",9),l.Wb(12,"input",10),l.gc("ngModelChange",function(t){return e.filter=t}),l.Vb(),l.Vb(),l.Wb(13,"div",11),l.Wb(14,"button",12),l.gc("click",function(){return e.onSearch()}),l.Qc(15,"SEARCH "),l.Vb(),l.Vb(),l.Vb(),l.Wb(16,"div",8),l.Wb(17,"table",13),l.Wb(18,"thead"),l.Wb(19,"tr"),l.Rb(20,"th",14),l.Wb(21,"th",15),l.Qc(22,"No"),l.Vb(),l.Wb(23,"th",16),l.Qc(24,"Product Name"),l.Vb(),l.Wb(25,"th",16),l.Qc(26,"SKU ID"),l.Vb(),l.Vb(),l.Vb(),l.Wb(27,"tbody"),l.Oc(28,lt,11,5,"tr",17),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(29,"div",18),l.Wb(30,"button",19),l.gc("click",function(){return e.onSave()}),l.Rb(31,"i",20),l.Qc(32," Save "),l.Vb(),l.Wb(33,"button",19),l.gc("click",function(){return e.onClose()}),l.Qc(34,"Close "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(7),l.Sc("Identify ",e.title,""),l.Db(5),l.rc("ngModel",e.filter),l.Db(16),l.rc("ngForOf",e.list))},directives:[s.c,s.p,s.s,o.o,o.p,s.a],styles:[".identify-header[_ngcontent-%COMP%]{padding:20px 20px 0}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{float:none;margin:auto}.picker[_ngcontent-%COMP%]{height:25px;width:25px}"]}),t})();function dt(t,e){if(1&t&&(l.Wb(0,"div",7),l.Qc(1),l.Vb()),2&t){const t=l.kc();l.Db(1),l.Rc(t.title)}}function ut(t,e){1&t&&(l.Wb(0,"th"),l.Qc(1,"Serial No"),l.Vb())}function pt(t,e){1&t&&l.Rb(0,"th")}function mt(t,e){if(1&t&&(l.Wb(0,"div"),l.Qc(1),l.Vb()),2&t){const t=l.kc(2).$implicit;l.Db(1),l.Rc(t.serial_no)}}function gt(t,e){1&t&&(l.Wb(0,"div"),l.Wb(1,"button",8),l.Qc(2,"Assign"),l.Vb(),l.Vb())}function ft(t,e){if(1&t&&(l.Wb(0,"td"),l.Oc(1,mt,2,1,"div",4),l.Oc(2,gt,3,0,"div",4),l.Vb()),2&t){const t=l.kc().$implicit;l.Db(1),l.rc("ngIf",t.serial_no),l.Db(1),l.rc("ngIf",!t.serial_no)}}function ht(t,e){if(1&t){const t=l.Xb();l.Wb(0,"td"),l.Wb(1,"button",9),l.gc("click",function(){l.Fc(t);const e=l.kc().index;return l.kc().onRemove(e)}),l.Rb(2,"i",10),l.Vb(),l.Vb()}}function vt(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"td"),l.Qc(2),l.Vb(),l.Wb(3,"td"),l.Qc(4),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.Vb(),l.Wb(9,"td"),l.Qc(10),l.Vb(),l.Wb(11,"td"),l.Qc(12),l.Vb(),l.Wb(13,"td"),l.Qc(14),l.Vb(),l.Oc(15,ft,3,2,"td",4),l.Wb(16,"td"),l.Qc(17),l.Vb(),l.Wb(18,"td"),l.Qc(19),l.Vb(),l.Oc(20,ht,3,0,"td",4),l.Vb()),2&t){const t=e.$implicit,n=l.kc();l.Db(2),l.Rc(t.id),l.Db(2),l.Sc(" ",t.name," "),l.Db(2),l.Sc(" ",t.sku," "),l.Db(2),l.Sc(" ",t.quantity," "),l.Db(2),l.Sc(" ",t.uom," "),l.Db(2),l.Sc(" ",t.availability," "),l.Db(2),l.Sc(" ",t.expected_sale_price," "),l.Db(1),l.rc("ngIf",n.isMain),l.Db(2),l.Sc(" ",t.available_quantity," "),l.Db(2),l.Sc(" ",t.cost," "),l.Db(1),l.rc("ngIf",n.isRemovable)}}function yt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"dms-identify",14),l.gc("bySave",function(e){return l.Fc(t),l.kc(2).onSave(e)})("byClose",function(){return l.Fc(t),l.kc(2).isAdding=!1}),l.Vb()}if(2&t){const t=l.kc(2);l.rc("kind",t.kind)("title",t.title)("maxPick",t.maxPick)}}function kt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",15),l.Wb(1,"button",9),l.gc("click",function(){return l.Fc(t),l.kc(2).isAdding=!0}),l.Rb(2,"i",16),l.Qc(3," ADD "),l.Vb(),l.Vb()}}function _t(t,e){if(1&t&&(l.Wb(0,"div",11),l.Oc(1,yt,1,3,"dms-identify",12),l.Oc(2,kt,4,0,"div",13),l.Vb()),2&t){const t=l.kc();l.Db(1),l.rc("ngIf",t.isAdding),l.Db(1),l.rc("ngIf",!t.isAdding&&!t.isLimitReached)}}function Wt(t,e){""!==t.newSku&&(e.sku=t.newSku)}let Vt=(()=>{class t{constructor(){this.isAdding=!1,this.kind="unknown",this.data=[],this.dataChange=new l.n,this.isAddable=!1,this.isRemovable=!1,this.isAssignable=!0}ngOnInit(){}get isRoot(){return"main"===this.kind}get isMain(){return it(this.kind)}get title(){return function(t){const e=Object.keys(ot),n=t.trim().toLowerCase(),o=e.indexOf(n);return o>0&&o<e.length?ot[n]:"Unknown"}(this.kind)}get maxPick(){return this.isRoot?1:0}get isLimitReached(){const t=this.maxPick;return!!t&&this.data.length>=t}onSave(t){if(t.list.length>0){const e=[];for(const n of t.list)if(n.isPicked){const t=n.id;let o=!0;for(const e of this.data)if(e.id===t){Wt(n,e),o=!1;break}o&&(Wt(n,n),e.push(n))}console.log("Saved, with new count:",e.length);for(const t of e)this.data.push(t);this.dataChange.emit(this.data),this.isAdding=!1}}onRemove(t){this.data.splice(t,1),this.dataChange.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-equipment-table"]],inputs:{kind:"kind",data:"data",isAddable:"isAddable",isRemovable:"isRemovable",isAssignable:"isAssignable"},outputs:{dataChange:"dataChange"},decls:28,vars:5,consts:[[1,"table-responsive"],["class","bold-header pl-3",4,"ngIf"],[1,"table","table-striped"],[1,"grey"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","custom-footer",4,"ngIf"],[1,"bold-header","pl-3"],[1,"btn","btn-assign","btn-primary"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-minus"],[1,"custom-footer"],[3,"kind","title","maxPick","bySave","byClose",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[3,"kind","title","maxPick","bySave","byClose"],[1,"d-flex","justify-content-center"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Oc(1,dt,2,1,"div",1),l.Wb(2,"table",2),l.Wb(3,"thead",3),l.Wb(4,"tr"),l.Wb(5,"th"),l.Qc(6,"No."),l.Vb(),l.Wb(7,"th"),l.Qc(8,"Product Name"),l.Vb(),l.Wb(9,"th"),l.Qc(10,"SKU ID"),l.Vb(),l.Wb(11,"th"),l.Qc(12,"Quantity"),l.Vb(),l.Wb(13,"th"),l.Qc(14,"UOM"),l.Vb(),l.Wb(15,"th"),l.Qc(16,"Availability"),l.Vb(),l.Wb(17,"th"),l.Qc(18,"Expected Sales Price (RM)"),l.Vb(),l.Oc(19,ut,2,0,"th",4),l.Wb(20,"th"),l.Qc(21,"Available Qty"),l.Vb(),l.Wb(22,"th"),l.Qc(23,"Cost (RM)"),l.Vb(),l.Oc(24,pt,1,0,"th",4),l.Vb(),l.Vb(),l.Wb(25,"tbody"),l.Oc(26,vt,21,11,"tr",5),l.Vb(),l.Vb(),l.Oc(27,_t,3,2,"div",6),l.Vb()),2&t&&(l.Db(1),l.rc("ngIf",!e.isRoot),l.Db(18),l.rc("ngIf",e.isMain),l.Db(5),l.rc("ngIf",e.isRemovable),l.Db(2),l.rc("ngForOf",e.data),l.Db(1),l.rc("ngIf",e.isAddable))},directives:[o.p,o.o,bt],styles:[".grey[_ngcontent-%COMP%]{background-color:#f5f5f5}.btn-assign[_ngcontent-%COMP%]{font-size:15px;font-weight:400;width:-moz-fit-content;width:fit-content;padding:1px 10px}"]}),t})();function Ot(t,e){if(1&t){const t=l.Xb();l.Wb(0,"dms-equipment-table",3),l.gc("dataChange",function(e){return l.Fc(t),l.kc().$implicit.value=e}),l.Vb()}if(2&t){const t=l.kc(),e=t.$implicit,n=t.index,o=l.kc();l.rc("kind",e.key)("data",e.value)("isAddable",o.isAddable&&(n>0||0==o.mainAsset.main.length))("isAssignable",o.isAssignable)}}function Ct(t,e){if(1&t&&(l.Wb(0,"div"),l.Oc(1,Ot,1,4,"dms-equipment-table",2),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.rc("ngIf",t.value)}}let wt=(()=>{class t{constructor(){this.isAddable=!1,this.isAssignable=!0}ngOnInit(){}onSortIgnore(){return-1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-form-main-asset"]],inputs:{mainAsset:"mainAsset",isAddable:"isAddable",isAssignable:"isAssignable"},decls:3,vars:5,consts:[["title","Main Demo Asset","icon","cil-cart",1,"p-0",3,"open"],[4,"ngFor","ngForOf"],[3,"kind","data","isAddable","isAssignable","dataChange",4,"ngIf"],[3,"kind","data","isAddable","isAssignable","dataChange"]],template:function(t,e){1&t&&(l.Wb(0,"dms-expand-panel",0),l.Oc(1,Ct,2,1,"div",1),l.lc(2,"keyvalue"),l.Vb()),2&t&&(l.rc("open",!0),l.Db(1),l.rc("ngForOf",l.nc(2,2,e.mainAsset,e.onSortIgnore)))},directives:[nt,o.o,o.p,Vt],pipes:[o.j],styles:[""]}),t})(),Dt=(()=>{class t{constructor(){}ngOnInit(){this.mainAsset={main:[],compatibles:null,peripherals:null,consumables:null,packing:null,accessories:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-form"]],decls:2,vars:2,consts:[[3,"mainAsset","isAddable"]],template:function(t,e){1&t&&(l.Rb(0,"app-booking-form-submit"),l.Rb(1,"app-booking-form-main-asset",0)),2&t&&(l.Db(1),l.rc("mainAsset",e.mainAsset)("isAddable",!0))},directives:[tt,wt],styles:[""]}),t})();var xt=function(t){return t.unknown="Unknown",t.draft="Draft",t.submitted="Submitted",t.reviewed="MSC Reviewed",t.conflicted="Conflicted",t.declined="Declined",t.endorsed="MSC Reviewed (+Country)",t.accepted="Provisionally Accepted",t.confirmed="Confirmed",t.approved="Submitted",t}({});function Rt(t){const e=Object.values(xt);return t>=0&&t<e.length?e[t]:xt.unknown}function Mt(t){const e=Object.keys(xt);if(isNaN(+t)){let n=e.indexOf(t);return n<0&&(n=Object.values(xt).indexOf(t)),n}return t}const St={customer:"Unknown",opportunity_id:"",initiator:"",opportunity_amount:"",opportunity_no:"0",winning_probability:""};let Pt=(()=>{class t{constructor(t){this.apiClient=t}getEntity(t){return this.apiClient.get("booking/show/"+t.toString())}updateStatus(t){return this.apiClient.post("booking/status/update",t)}decline_booking(t){return this.apiClient.post("booking/status/decline",t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jt(t,e){1&t&&(l.Wb(0,"p"),l.Qc(1,"Summary not set..."),l.Vb())}function It(t,e){if(1&t&&(l.Wb(0,"div",1),l.Wb(1,"p-accordion",2),l.Wb(2,"p-accordionTab",3),l.Wb(3,"p-header",4),l.Rb(4,"i",5),l.Wb(5,"span",6),l.Qc(6,"Opportunity Summary"),l.Vb(),l.Vb(),l.Wb(7,"div"),l.Wb(8,"table",7),l.Wb(9,"tbody"),l.Wb(10,"tr"),l.Wb(11,"td"),l.Qc(12,"Customer & Code"),l.Vb(),l.Wb(13,"td"),l.Qc(14),l.Vb(),l.Wb(15,"td"),l.Qc(16,"Opportunity Amount (RM)"),l.Vb(),l.Wb(17,"td"),l.Qc(18),l.Vb(),l.Vb(),l.Wb(19,"tr"),l.Wb(20,"td"),l.Qc(21,"Opportunity ID"),l.Vb(),l.Wb(22,"td"),l.Qc(23),l.Vb(),l.Wb(24,"td"),l.Qc(25,"Opportunity no.-Version"),l.Vb(),l.Wb(26,"td"),l.Qc(27),l.Vb(),l.Vb(),l.Wb(28,"tr"),l.Wb(29,"td"),l.Qc(30,"Initiator"),l.Vb(),l.Wb(31,"td"),l.Qc(32),l.Vb(),l.Wb(33,"td"),l.Qc(34,"Winning Probability"),l.Vb(),l.Wb(35,"td"),l.Qc(36),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Oc(37,jt,2,0,"ng-template",null,8,l.Pc),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.kc();l.Db(2),l.rc("selected",!0),l.Db(12),l.Rc(t.opportunitySummary.customer),l.Db(4),l.Rc(t.opportunitySummary.opportunity_amount),l.Db(5),l.Rc(t.opportunitySummary.opportunity_id),l.Db(4),l.Rc(t.opportunitySummary.opportunity_no),l.Db(5),l.Rc(t.opportunitySummary.initiator),l.Db(4),l.Rc(t.opportunitySummary.winning_probability)}}let Qt=(()=>{class t{constructor(){this.opportunitySummary=St}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-opportunity-summary"]],inputs:{opportunitySummary:"opportunitySummary"},decls:1,vars:1,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-info"],[1,"accordion-header"],[1,"table","table-borderless"],["empty",""]],template:function(t,e){1&t&&l.Oc(0,It,39,7,"div",0),2&t&&l.rc("ngIf",e.opportunitySummary)},directives:[o.p,F.a,F.c,f.e],styles:[""]}),t})();const Lt=["successModal"],Nt=["dangerModal"];function At(t,e){if(1&t&&(l.Wb(0,"span"),l.Qc(1),l.Vb()),2&t){const t=e.$implicit,n=e.index;l.Db(1),l.Tc(" ",n?",":""," ",t.name," ")}}function Bt(t,e){if(1&t&&(l.Wb(0,"div",1),l.Wb(1,"div",26),l.Qc(2),l.Vb(),l.Wb(3,"div",9),l.Qc(4),l.Vb(),l.Wb(5,"div",27),l.Oc(6,At,2,2,"span",8),l.Vb(),l.Vb()),2&t){const t=l.kc().$implicit;l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.status," "),l.Db(2),l.rc("ngForOf",t.user_list)}}function Ft(t,e){if(1&t&&(l.Wb(0,"div"),l.Oc(1,Bt,7,3,"div",25),l.Rb(2,"br"),l.Vb()),2&t){const t=e.$implicit,n=l.kc();l.Db(1),l.rc("ngIf","Manager Approval"!=t.description||n.is_demo&&"Manager Approval"==t.description)}}function Tt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",28),l.Wb(1,"div",29),l.Wb(2,"form",30),l.gc("submit",function(e){return l.Fc(t),l.kc().handleTO(e)}),l.Rb(3,"input",31),l.Wb(4,"div",1),l.Wb(5,"div",32),l.Qc(6," Main Asset Serial No "),l.Vb(),l.Wb(7,"div",33),l.Qc(8),l.Vb(),l.Wb(9,"div",32),l.Qc(10," Main Asset Name "),l.Vb(),l.Wb(11,"div",33),l.Qc(12),l.Vb(),l.Vb(),l.Rb(13,"br"),l.Wb(14,"div",1),l.Wb(15,"label",34),l.Qc(16," From Warehouse "),l.Vb(),l.Wb(17,"div",33),l.Rb(18,"input",35),l.Vb(),l.Vb(),l.Rb(19,"br"),l.Wb(20,"div",1),l.Wb(21,"label",36),l.Qc(22," From Ward/ Department "),l.Vb(),l.Wb(23,"div",33),l.Rb(24,"input",37),l.Vb(),l.Vb(),l.Rb(25,"br"),l.Wb(26,"div",1),l.Wb(27,"label",38),l.Qc(28," To Ward / Department "),l.Vb(),l.Wb(29,"div",33),l.Rb(30,"input",39),l.Vb(),l.Vb(),l.Rb(31,"br"),l.Wb(32,"div",1),l.Rb(33,"div",40),l.Wb(34,"div",41),l.Wb(35,"div",42),l.Wb(36,"button",43),l.Qc(37,"SUBMIT"),l.Vb(),l.Rb(38,"br"),l.Wb(39,"button",44),l.Qc(40,"CANCEL"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(8),l.Sc(" ",t.mainAsset.main[0].serial_no?t.mainAsset.main[0].serial_no:"NULL"," "),l.Db(4),l.Sc(" ",t.mainAsset.main[0].name?t.mainAsset.main[0].name:"NULL"," ")}}function qt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",46),l.Wb(1,"button",47),l.gc("click",function(){l.Fc(t);const n=e.$implicit;return l.kc(2).onButtonClick(n.status)}),l.Qc(2),l.lc(3,"uppercase"),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit;l.Db(2),l.Rc(l.mc(3,1,t.title))}}function Et(t,e){if(1&t&&(l.Wb(0,"div",42),l.Oc(1,qt,4,3,"div",45),l.Vb()),2&t){const t=l.kc();l.Db(1),l.rc("ngForOf",t.buttons)}}function Ht(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",42),l.Wb(1,"div",46),l.Wb(2,"button",47),l.gc("click",function(){return l.Fc(t),l.kc(2).onButtonClick(9)}),l.Qc(3," Approve "),l.Vb(),l.Wb(4,"button",47),l.gc("click",function(){return l.Fc(t),l.kc(2).onButtonClick(5)}),l.Qc(5," Decline "),l.Vb(),l.Vb(),l.Vb()}}function zt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",46),l.Wb(1,"button",47),l.gc("click",function(){l.Fc(t);const n=e.$implicit;return l.kc(3).onButtonClick(n.status)}),l.Qc(2),l.lc(3,"uppercase"),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit;l.Db(2),l.Rc(l.mc(3,1,t.title))}}function Ut(t,e){if(1&t&&(l.Wb(0,"div",42),l.Oc(1,zt,4,3,"div",45),l.Vb()),2&t){const t=l.kc(2);l.Db(1),l.rc("ngForOf",t.buttons)}}function Xt(t,e){if(1&t&&(l.Oc(0,Ht,6,0,"div",48),l.Oc(1,Ut,2,1,"div",48)),2&t){const t=l.kc();l.rc("ngIf",t.access&&t.is_demo&&"2"==t._status),l.Db(1),l.rc("ngIf",t.access&&!t.is_demo&&"2"==t._status)}}function Gt(t,e){if(1&t){const t=l.Xb();l.Wb(0,"dms-decline-reason",49),l.gc("byClose",function(){return l.Fc(t),l.kc().onClose()}),l.Vb()}}const Kt=["*"];let $t=(()=>{class t{constructor(t,e,n,o){this.api=t,this.apiClient=e,this.route=n,this.router=o,this._status=xt.unknown,this.statusText="Unknown",this.isConfirmed=!1,this.show_decline=!1,this.buttons=[],this.is_demo=!1,this.list=[],this.access=!1,this.buttonAction=new l.n}ngOnInit(){}get bookingReason(){return this._bookingReason}set bookingReason(t){this._bookingReason=t,this.is_demo="2"==t}get status(){return this._status}set status(t){switch(this._status=t,this.statusText=function(t){const e=Mt(t);return(9==e?2:e)+" Raising Booking Request - "+Rt(e)}(t),this.isConfirmed=!1,this.buttons=[],t){case"1":this.buttons=[{title:"Submit for Approval",id:0,status:"2"}];break;case"9":case"2":this.buttons=[{title:"MSC Reviewed",id:0,status:"3"},{title:"Decline",id:1,status:"5"}];break;case"3":this.buttons=[{title:"Endorse",id:0,status:"6"},{title:"Decline",id:1,status:"5"}];break;case"6":this.buttons=[{title:"Approve",id:0,status:"7"},{title:"Conflict",id:1,status:"4"},{title:"Decline",id:2,status:"5"}];break;case"7":this.buttons=[{title:"Confirm",id:0,status:"8"},{title:"Decline",id:1,status:"5"}];break;case"8":this.isConfirmed=!0}}onButtonClick(t){5==t?this.show_decline=!0:this.api.updateStatus({bookingId:this.route.snapshot.params.id,status:t}).subscribe(t=>{console.log(t),t&&this.router.navigateByUrl("/RefreshComponent",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dms/bookings",this.route.snapshot.params.id])})},t=>{console.log(t),alert("error")})}onClose(){this.show_decline=!1}handleTO(t){t.preventDefault();var e=new FormData(t.target);this.apiClient.post("booking/transfer-order",{booking_id:this.bookingId+"",warehouse:e.get("warehouse"),fromDepartment:e.get("from-department"),toDepartment:e.get("to-department")}).subscribe(t=>{this.alertBody="Transaction Order saved successfuly !",this.successModal.show(),setTimeout(()=>{this.successModal.hide()},2e3),window.location.reload()},t=>{this.alertBody="Connot save Transaction Order !",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3),console.error("Error from TO:",t)})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(Pt),l.Qb(u.a),l.Qb(c.a),l.Qb(c.c))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-booking-approval"]],viewQuery:function(t,e){if(1&t&&(l.Vc(Lt,1),l.Vc(Nt,1)),2&t){let t;l.Cc(t=l.hc())&&(e.successModal=t.first),l.Cc(t=l.hc())&&(e.dangerModal=t.first)}},inputs:{list:"list",mainAsset:"mainAsset",bookingId:"bookingId",access:"access",bookingReason:"bookingReason",status:"status"},outputs:{buttonAction:"buttonAction"},ngContentSelectors:Kt,decls:47,vars:9,consts:[["title","Approval Workflow",3,"open"],[1,"row"],[1,"col-md-12"],["action","","method","post","enctype","multipart/form-data",1,"form-horizontal"],[1,"form-group","row"],[1,"col-md-4","col-form-label"],[1,"col-md-8"],[1,"form-control-static"],[4,"ngFor","ngForOf"],[1,"col-md-2"],["class","animated fadeIn card",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["checkDemoApprove",""],[3,"byClose",4,"ngIf"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["class","row",4,"ngIf"],[1,"col-md-4"],[1,"col-md-6"],[1,"animated","fadeIn","card"],[1,"card-body"],["method","get",3,"submit"],["type","hidden","name","token","value","asdas"],[1,"col-md-5"],[1,"col-md-7"],["for","warehouse_from",1,"col-md-5"],["id","warehouse_from","type","text","name","warehouse",1,"form-control"],["for","ward_from",1,"col-md-5"],["id","ward_from","type","text","name","from-department",1,"form-control"],["for","destination",1,"col-md-5"],["id","destination","type","text","name","to-department",1,"form-control"],[1,"col-2"],[1,"col-10"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mr-3"],["type","button",1,"btn","btn-primary"],["class","pr-2",4,"ngFor","ngForOf"],[1,"pr-2"],["type","submit",1,"btn","btn-md","btn-primary",3,"click"],["class","d-flex justify-content-center",4,"ngIf"],[3,"byClose"]],template:function(t,e){if(1&t&&(l.qc(),l.Wb(0,"dms-expand-panel",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"form",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Qc(6,"Status"),l.Vb(),l.Wb(7,"div",6),l.Wb(8,"p",7),l.Wb(9,"b"),l.Qc(10),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Oc(11,Ft,3,1,"div",8),l.Vb(),l.Rb(12,"br"),l.Wb(13,"div",1),l.Rb(14,"div",9),l.Wb(15,"div",6),l.Oc(16,Tt,41,2,"div",10),l.pc(17),l.Vb(),l.Vb(),l.Rb(18,"br"),l.Oc(19,Et,2,1,"div",11),l.Oc(20,Xt,2,2,"ng-template",null,12,l.Pc),l.Qc(22," --\x3e "),l.Rb(23,"br"),l.Wb(24,"div"),l.Oc(25,Gt,1,0,"dms-decline-reason",13),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"div",14,15),l.Wb(28,"div",16),l.Wb(29,"div",17),l.Wb(30,"div",18),l.Wb(31,"h4",19),l.Qc(32,"Success"),l.Vb(),l.Vb(),l.Wb(33,"div",20),l.Wb(34,"p"),l.Qc(35),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(36,"div",21,22),l.Wb(38,"div",23),l.Wb(39,"div",17),l.Wb(40,"div",18),l.Wb(41,"h4",19),l.Qc(42,"Error"),l.Vb(),l.Vb(),l.Wb(43,"div",20),l.Wb(44,"p"),l.Qc(45),l.Vb(),l.Vb(),l.Rb(46,"div",24),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.Dc(21);l.rc("open",!0),l.Db(10),l.Rc(e.statusText),l.Db(1),l.rc("ngForOf",e.list),l.Db(5),l.rc("ngIf",e.isConfirmed),l.Db(3),l.rc("ngIf",e.access&&!e.show_decline&&"2"!=e._status)("ngIfElse",t),l.Db(6),l.rc("ngIf",e.show_decline),l.Db(10),l.Rc(e.alertBody),l.Db(10),l.Rc(e.alertBody)}},styles:[""]}),t})();function Yt(t,e){if(1&t&&(l.Wb(0,"li",10),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.Sc(" ",t," ")}}function Zt(t,e){if(1&t&&(l.Wb(0,"ul",8),l.Oc(1,Yt,2,1,"li",9),l.Vb()),2&t){const t=l.kc();l.Db(1),l.rc("ngForOf",t.logs)}}function Jt(t,e){1&t&&(l.Wb(0,"p"),l.Wb(1,"small"),l.Qc(2,"No logs are available"),l.Vb(),l.Vb())}let te=(()=>{class t{constructor(t){this.apiClient=t,this.logs=[]}ngOnInit(){this.getLogs()}getLogs(){this.apiClient.get(`booking/logs/${this.bookingId}`).subscribe(t=>{this.logs=t})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(u.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-status-log"]],inputs:{bookingId:"bookingId"},decls:11,vars:3,consts:[[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-briefcase"],[1,"accordion-header"],["style","margin:0;padding:0;list-style: none;",4,"ngIf","ngIfElse"],["empty",""],[2,"margin","0","padding","0","list-style","none"],["style","list-style: none; padding: 8px 16px;",4,"ngFor","ngForOf"],[2,"list-style","none","padding","8px 16px"]],template:function(t,e){if(1&t&&(l.Wb(0,"div",0),l.Wb(1,"p-accordion",1),l.Wb(2,"p-accordionTab",2),l.Wb(3,"p-header",3),l.Rb(4,"i",4),l.Wb(5,"span",5),l.Qc(6,"Status Log"),l.Vb(),l.Vb(),l.Wb(7,"div"),l.Oc(8,Zt,2,1,"ul",6),l.Oc(9,Jt,3,0,"ng-template",null,7,l.Pc),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.Dc(10);l.Db(2),l.rc("selected",!0),l.Db(6),l.rc("ngIf",null!==e.logs)("ngIfElse",t)}},directives:[F.a,F.c,f.e,o.p,o.o],styles:[""]}),t})();function ee(t,e){if(1&t&&(l.Wb(0,"div"),l.Wb(1,"table",8),l.Wb(2,"tbody"),l.Wb(3,"tr"),l.Wb(4,"td"),l.Qc(5,"Status"),l.Vb(),l.Wb(6,"td"),l.Qc(7),l.Vb(),l.Wb(8,"td"),l.Qc(9,"Request Date"),l.Vb(),l.Wb(10,"td"),l.Qc(11),l.Vb(),l.Vb(),l.Wb(12,"tr"),l.Wb(13,"td"),l.Qc(14,"Booking Reason"),l.Vb(),l.Wb(15,"td"),l.Qc(16),l.Vb(),l.Wb(17,"td"),l.Qc(18,"Branch/ Site"),l.Vb(),l.Wb(19,"td"),l.Qc(20),l.Vb(),l.Vb(),l.Wb(21,"tr"),l.Wb(22,"td"),l.Qc(23,"Booking No"),l.Vb(),l.Wb(24,"td"),l.Qc(25),l.Vb(),l.Rb(26,"td"),l.Rb(27,"td"),l.Vb(),l.Wb(28,"tr"),l.Wb(29,"td"),l.Qc(30,"Customer"),l.Vb(),l.Wb(31,"td"),l.Qc(32),l.Vb(),l.Rb(33,"td"),l.Rb(34,"td"),l.Vb(),l.Wb(35,"tr"),l.Wb(36,"td"),l.Qc(37,"Preferred Date of Delivery "),l.Vb(),l.Wb(38,"td"),l.Qc(39),l.Vb(),l.Wb(40,"td"),l.Qc(41,"Preferred Date of Collection "),l.Vb(),l.Wb(42,"td"),l.Qc(43),l.Vb(),l.Vb(),l.Wb(44,"tr"),l.Wb(45,"td"),l.Qc(46,"Demo Duration"),l.Vb(),l.Wb(47,"td"),l.Qc(48),l.Vb(),l.Rb(49,"td"),l.Rb(50,"td"),l.Vb(),l.Wb(51,"tr"),l.Wb(52,"td"),l.Qc(53,"Ship-to Department/ Ward"),l.Vb(),l.Wb(54,"td"),l.Qc(55),l.Vb(),l.Rb(56,"td"),l.Rb(57,"td"),l.Vb(),l.Wb(58,"tr"),l.Wb(59,"td"),l.Qc(60,"Shipment to Contact Name"),l.Vb(),l.Wb(61,"td"),l.Qc(62),l.Vb(),l.Wb(63,"td"),l.Qc(64,"Ship to Contact Number"),l.Vb(),l.Wb(65,"td"),l.Qc(66),l.Vb(),l.Vb(),l.Wb(67,"tr"),l.Wb(68,"td"),l.Qc(69,"Remarks"),l.Vb(),l.Wb(70,"td"),l.Qc(71),l.Vb(),l.Rb(72,"td"),l.Rb(73,"td"),l.Vb(),l.Wb(74,"tr"),l.Wb(75,"td"),l.Qc(76,"Loan start date"),l.Vb(),l.Wb(77,"td"),l.Qc(78),l.Vb(),l.Wb(79,"td"),l.Qc(80,"Loan end date"),l.Vb(),l.Wb(81,"td"),l.Qc(82),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.kc();l.Db(7),l.Rc(t.bookingDetailList.status),l.Db(4),l.Rc(t.bookingDetailList.request_date),l.Db(5),l.Rc(t.bookingDetailList.booking_reason),l.Db(4),l.Rc(t.bookingDetailList.branch),l.Db(5),l.Rc(t.bookingDetailList.booking_no),l.Db(7),l.Rc(t.bookingDetailList.customer),l.Db(7),l.Rc(t.bookingDetailList.preferred_date_of_delivery),l.Db(4),l.Rc(t.bookingDetailList.preferred_date_of_collection),l.Db(5),l.Rc(t.bookingDetailList.demo_duration),l.Db(7),l.Rc(t.bookingDetailList.department),l.Db(7),l.Rc(t.bookingDetailList.ship_to_contact_name),l.Db(4),l.Rc(t.bookingDetailList.ship_to_contact_number),l.Db(5),l.Rc(t.bookingDetailList.remarks),l.Db(7),l.Rc(t.bookingDetailList.loan_start_date),l.Db(4),l.Rc(t.bookingDetailList.loan_end_date)}}function ne(t,e){1&t&&(l.Wb(0,"p"),l.Qc(1,"Details not set..."),l.Vb())}let oe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-booking-detail"]],inputs:{bookingDetailList:"bookingDetailList"},decls:10,vars:3,consts:[[1,"form-group"],[1,"p-accordion"],[1,"p-accordionTab",3,"selected"],[1,"p-header"],[1,"cil-info"],[1,"accordion-header"],[4,"ngIf","ngIfElse"],["empty",""],[1,"table","table-borderless"]],template:function(t,e){if(1&t&&(l.Wb(0,"div",0),l.Wb(1,"p-accordion",1),l.Wb(2,"p-accordionTab",2),l.Wb(3,"p-header",3),l.Rb(4,"i",4),l.Wb(5,"span",5),l.Qc(6,"Booking Details"),l.Vb(),l.Vb(),l.Oc(7,ee,83,15,"div",6),l.Oc(8,ne,2,0,"ng-template",null,7,l.Pc),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.Dc(9);l.Db(2),l.rc("selected",!0),l.Db(5),l.rc("ngIf",e.bookingDetailList)("ngIfElse",t)}},directives:[F.a,F.c,f.e,o.p],styles:[""]}),t})();function ie(t,e){if(1&t&&l.Rb(0,"app-booking-detail",5),2&t){const t=l.kc();l.rc("bookingDetailList",t.bookingDetailList)}}function ae(t,e){if(1&t&&l.Rb(0,"app-booking-form-submit",5),2&t){const t=l.kc();l.rc("bookingDetailList",t.bookingDetailList)}}let re=(()=>{class t{constructor(t,e){this.route=t,this.api=e,this.statusText="Draft",this.bookingId=BigInt(0),this.approvalList=[]}ngOnInit(){this.routeListener=this.route.params.subscribe(t=>{this.apiListener&&this.apiListener.unsubscribe();const e=BigInt(t.id+"");this.bookingId=e,e!==BigInt(0)&&(this.apiListener=this.api.getEntity(e).subscribe(t=>{t&&(this.status=t.status,this.approvalList=t.approvalList,this.bookingDetailList=t.bookingDetailList,this.bookingDetailList.status=this.statusName(this.bookingDetailList.status),this.opportunitySummary=t.opportunitySummary,this.mainAsset=t.mainAsset,this.access=t.access,this.bookingReason=this.bookingDetailList.booking_reason),console.log("api: entity",this.bookingId,t)}))})}ngOnDestroy(){this.routeListener.unsubscribe(),this.apiListener&&this.apiListener.unsubscribe()}onApprovalAction(t){if(0===t.index){const t=this.status;this.status=Rt(Mt(this.status)+1),console.log("Status changed from ",t,"to",this.status)}console.log("Approval onAction",t)}statusName(t){const e=["Draft","1 Raising Booking Request - Draft","2 Raising Booking Request - Submitted","3 Raising Booking Request - MSC Reviewed","4 Raising Booking Request - conflict","5 Raising Booking Request - declined","6 Raising Booking Request - MSC Reviewed (+Country)","7 Raising Booking Request - Provisionally Accepted","8 Raising Booking Request - Confirmed","2 Raising Booking Request - submitted"];return""!=t&&null!=t?e[t]:e[0]}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(c.a),l.Qb(Pt))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-booking-entity"]],decls:10,vars:12,consts:[[3,"bookingDetailList",4,"ngIf"],[3,"opportunitySummary"],[3,"status","access","list","mainAsset","bookingId","bookingReason","buttonAction"],[3,"mainAsset","isAddable"],[3,"bookingId"],[3,"bookingDetailList"]],template:function(t,e){1&t&&(l.Oc(0,ie,1,1,"app-booking-detail",0),l.Oc(1,ae,1,1,"app-booking-form-submit",0),l.Rb(2,"br"),l.Rb(3,"app-opportunity-summary",1),l.Rb(4,"br"),l.Wb(5,"dms-booking-approval",2),l.gc("buttonAction",function(t){return e.onApprovalAction(t)}),l.Vb(),l.Rb(6,"br"),l.Rb(7,"app-booking-form-main-asset",3),l.Rb(8,"br"),l.Rb(9,"app-status-log",4)),2&t&&(l.rc("ngIf",e.status>1),l.Db(1),l.rc("ngIf",e.status<=1),l.Db(2),l.rc("opportunitySummary",e.opportunitySummary),l.Db(2),l.rc("status",e.status)("access",e.access)("list",e.approvalList)("mainAsset",e.mainAsset)("bookingId",e.bookingId)("bookingReason",e.bookingReason),l.Db(2),l.rc("mainAsset",e.mainAsset)("isAddable",!0),l.Db(2),l.rc("bookingId",e.bookingId))},directives:[o.p,Qt,$t,wt,te,oe,tt],styles:[""]}),t})();const se=["successModal"],ce=["dangerModal"],le=["foundModal"];function be(t,e){if(1&t&&(l.Wb(0,"option",48),l.Qc(1),l.Vb()),2&t){const t=e.$implicit;l.sc("value",t.id),l.Db(1),l.Rc(t.company_name)}}let de=(()=>{class t{constructor(t,e,n){this.fb=t,this.bookingService=e,this.apiCustomers=n,this.curDate=new Date(Date.now()).toLocaleDateString()}ngOnInit(){this.apiCustomers.getList().subscribe(t=>{this.customers=t}),this.formBooking=this.fb.group({status:"Draft",customer:new s.f(""),booking_reason:"Demo",branch:new s.f(""),date_of_delivery:new s.f(""),date_of_collection:new s.f(""),demo_duration:new s.f(""),department:new s.f(""),contact_name:new s.f(""),contact_number:new s.f(""),remarks:new s.f("")})}onSave(){this.bookingService.updateBooking({customer:this.formBooking.get("customer").value+"",curDate:this.curDate,booking_reason:"Demo",branch:this.formBooking.get("branch").value+"",date_of_delivery:this.formBooking.get("date_of_delivery").value+"",date_of_collection:this.formBooking.get("date_of_collection").value+"",demo_duration:this.formBooking.get("demo_duration").value+"",department:this.formBooking.get("department").value+"",contact_name:this.formBooking.get("contact_name").value+"",contact_number:this.formBooking.get("contact_number").value+"",remarks:this.formBooking.get("remarks").value+""},8).subscribe(t=>{t.id&&(this.alertBody="Booking saved successfully.",this.successModal.show(),setTimeout(()=>{this.successModal.hide()},2e3),this.formBooking.reset())},t=>{console.log(t),this.alertBody="The booking can't save",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(s.e),l.Qb(x.a),l.Qb(B))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-opportunity-booking-form-submit"]],viewQuery:function(t,e){if(1&t&&(l.Vc(se,1),l.Vc(ce,1),l.Vc(le,1)),2&t){let t;l.Cc(t=l.hc())&&(e.successModal=t.first),l.Cc(t=l.hc())&&(e.dangerModal=t.first),l.Cc(t=l.hc())&&(e.foundModal=t.first)}},decls:104,vars:5,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-md-2","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],["for","booking-reason",1,"col-md-2","col-form-label"],[1,"col-md-4"],["formControlName","customer",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","branch",1,"col-md-2","col-form-label"],["type","text","formControlName","branch",1,"form-control"],[1,"col-md-6"],["for","date-of-delivery",1,"col-md-4","col-form-label"],["formControlName","date_of_delivery","type","datetime-local","name","date-of-delivery",1,"form-control"],["for","date-of-collection",1,"col-md-4","col-form-label"],["formControlName","date_of_collection","type","datetime-local","name","date-of-collection",1,"form-control"],["for","demo-duration",1,"col-md-2","col-form-label"],[1,"col-md-2"],["type","number","formControlName","demo_duration",1,"form-control"],["for","department",1,"col-md-2","col-form-label"],["type","text","formControlName","department",1,"form-control"],["for","contact-name",1,"col-md-4","col-form-label"],[1,"col-md-8"],["formControlName","contact_name","type","text","name","contact-name",1,"form-control"],["for","contact-number",1,"col-md-4","col-form-label"],["formControlName","contact_number","type","text","name","contact-number",1,"form-control"],["for","remarks",1,"col-md-2","col-form-label"],["formControlName","remarks","rows","9",1,"form-control"],[1,"custom-footer","d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary"],[1,"fa","fa-plus"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],[3,"value"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"form",5),l.gc("ngSubmit",function(){return e.onSave()}),l.Wb(6,"div",6),l.Wb(7,"label",7),l.Qc(8,"Status"),l.Vb(),l.Wb(9,"div",8),l.Wb(10,"p",9),l.Qc(11,"DRAFT"),l.Vb(),l.Vb(),l.Vb(),l.Wb(12,"div",6),l.Wb(13,"label",10),l.Qc(14,"Booking reason"),l.Vb(),l.Wb(15,"div",11),l.Qc(16," Demo "),l.Vb(),l.Vb(),l.Wb(17,"div",6),l.Wb(18,"label",7),l.Qc(19,"Request Date"),l.Vb(),l.Wb(20,"div",8),l.Wb(21,"p",9),l.Qc(22),l.Vb(),l.Vb(),l.Vb(),l.Wb(23,"div",6),l.Wb(24,"label",7),l.Qc(25,"Customer"),l.Vb(),l.Wb(26,"div",11),l.Wb(27,"select",12),l.Wb(28,"option",13),l.Qc(29,"Please select"),l.Vb(),l.Oc(30,be,2,2,"option",14),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"div",6),l.Wb(32,"label",15),l.Qc(33,"Branch/site"),l.Vb(),l.Wb(34,"div",11),l.Rb(35,"input",16),l.Vb(),l.Vb(),l.Wb(36,"div",1),l.Wb(37,"div",17),l.Wb(38,"div",6),l.Wb(39,"label",18),l.Qc(40,"Preferred Date of Delivery "),l.Vb(),l.Wb(41,"div",11),l.Rb(42,"input",19),l.Vb(),l.Vb(),l.Vb(),l.Wb(43,"div",17),l.Wb(44,"div",6),l.Wb(45,"label",20),l.Qc(46,"Preferred Date of Collection "),l.Vb(),l.Wb(47,"div",17),l.Rb(48,"input",21),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(49,"div",6),l.Wb(50,"label",22),l.Qc(51,"Demo Duration *"),l.Vb(),l.Wb(52,"div",23),l.Rb(53,"input",24),l.Vb(),l.Wb(54,"div",23),l.Qc(55," months "),l.Vb(),l.Vb(),l.Wb(56,"div",6),l.Wb(57,"label",25),l.Qc(58,"Ship-to Department/ Warde"),l.Vb(),l.Wb(59,"div",11),l.Rb(60,"input",26),l.Vb(),l.Vb(),l.Wb(61,"div",1),l.Wb(62,"div",17),l.Wb(63,"div",6),l.Wb(64,"label",27),l.Qc(65,"Ship to Contact Name "),l.Vb(),l.Wb(66,"div",28),l.Rb(67,"input",29),l.Vb(),l.Vb(),l.Vb(),l.Wb(68,"div",17),l.Wb(69,"div",6),l.Wb(70,"label",30),l.Qc(71,"Ship-To Contact Number "),l.Vb(),l.Wb(72,"div",17),l.Rb(73,"input",31),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(74,"div",6),l.Wb(75,"label",32),l.Qc(76,"Remarks"),l.Vb(),l.Wb(77,"div",8),l.Rb(78,"textarea",33),l.Vb(),l.Vb(),l.Wb(79,"div",34),l.Wb(80,"button",35),l.Rb(81,"i",36),l.Qc(82," Save"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(83,"div",37,38),l.Wb(85,"div",39),l.Wb(86,"div",40),l.Wb(87,"div",41),l.Wb(88,"h4",42),l.Qc(89,"Success"),l.Vb(),l.Vb(),l.Wb(90,"div",43),l.Wb(91,"p"),l.Qc(92),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(93,"div",44,45),l.Wb(95,"div",46),l.Wb(96,"div",40),l.Wb(97,"div",41),l.Wb(98,"h4",42),l.Qc(99,"Error"),l.Vb(),l.Vb(),l.Wb(100,"div",43),l.Wb(101,"p"),l.Qc(102),l.Vb(),l.Vb(),l.Rb(103,"div",47),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(5),l.rc("formGroup",e.formBooking),l.Db(17),l.Rc(e.curDate),l.Db(8),l.rc("ngForOf",e.customers),l.Db(62),l.Rc(e.alertBody),l.Db(10),l.Rc(e.alertBody))},directives:[s.z,s.q,s.j,s.x,s.p,s.h,s.t,s.A,o.o,s.c,s.u,r.a],styles:[""]}),t})();const ue=[{path:"",component:b,data:{title:"DMS"},children:[{path:"",redirectTo:"inventory",pathMatch:"full"},{path:"inventory",component:D,data:{title:"Inventory"},children:[{path:":tabName",component:A,pathMatch:"full"}]},{path:"bookings",data:{title:"Bookings"},children:[{path:"",pathMatch:"full",component:A},{path:"new",component:Dt,data:{title:"Bookings Form"}},{path:"opportunity",component:(()=>{class t{constructor(){this.opportunitySummary=St}ngOnInit(){this.mainAsset={main:[],compatibles:[],peripherals:[],consumables:[],packing:[],accessories:[]},this.opportunitySummary={customer:"test",opportunity_id:"test",initiator:"test",opportunity_amount:"10000",opportunity_no:"test",winning_probability:"test"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-opportunity-booking-form"]],decls:3,vars:3,consts:[[3,"opportunitySummary"],[3,"mainAsset","isAddable"]],template:function(t,e){1&t&&(l.Rb(0,"dms-opportunity-booking-form-submit"),l.Rb(1,"app-opportunity-summary",0),l.Rb(2,"app-booking-form-main-asset",1)),2&t&&(l.Db(1),l.rc("opportunitySummary",e.opportunitySummary),l.Db(1),l.rc("mainAsset",e.mainAsset)("isAddable",!0))},directives:[de,Qt,wt],styles:[""]}),t})(),data:{title:"Booking Opportunity Booking"}},{path:":id",component:re,data:{title:"Booking view"}}]},{path:"approvals",component:n("aMa8").a,data:{title:"Approvals"}},{path:"calendar",loadChildren:()=>Promise.resolve().then(n.bind(null,"wzZd")).then(t=>t.CalendarModule)},{path:"**",redirectTo:"inventory"}]}];let pe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({imports:[[c.g.forChild(ue)],c.g]}),t})();var me=n("wzZd"),ge=n("AytR"),fe=n("LRne");let he=(()=>{class t{constructor(){this.mockData=[{serial_no:1,stock_keep_unit:"ZY2332",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Approved",booking_id:BigInt(92)},{serial_no:2,stock_keep_unit:"CX32312",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Provisionally accepted",booking_id:BigInt(292)},{serial_no:234,stock_keep_unit:"UY4234",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Available",booking_id:BigInt(192)},{serial_no:412,stock_keep_unit:"XY2568",product_name:"xxxxxxx",agency_name:"trxt",description:"trxt",status:"Draft",booking_id:BigInt(692)}]}getList(){return Object(fe.a)(this.mockData)}getListSearch(t){return Object(fe.a)(this.mockData)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac}),t})();var ve=n("lJxs");const ye=[{description:"MSC SKU & accessories review",status:"Pending",user_list:[{name:"Mark",id:BigInt(700)}]},{description:"Country MD endorsement for > 14 days deployment",status:"Pending",user_list:[{name:"John",id:BigInt(800)}]},{description:"Demo Coordinator accept booking",status:"Pending",user_list:[{name:"Kelly",id:BigInt(120)},{name:"Reesha",id:BigInt(130)}]},{description:"Demo Coordinator confirm booking",status:"Pending",user_list:[{name:"Kelly",id:BigInt(120)},{name:"Reesha",id:BigInt(130)}]}],ke={id:BigInt(1),status:"2 Raising Booking Request - Submitted",booking_no:"BK-00992",branch:"XXXX",booking_reason:"Demo",request_date:"9/3/2021",customer:"Parkway Singapore",customer_id:BigInt(1),preferred_date_of_delivery:"10/13/2021",preferred_date_of_collection:"12/13/2021",demo_duration:"2 months",department:"Ward 1, ",location:"Malaya",ship_to_contact_name:"XXXXXX",ship_to_contact_number:"XXXXXXXX",remarks:"",loan_start_date:"",loan_end_date:"",con_won:"",ins_won:"",pdi_won:"",trn_won:"",war_won:"",tnc_won:"",pdr_won:"",bme_booking_id:"",bme_con_req:1,bme_pdi_re:1,bme_ins_req:1,bme_tnc_won:1,bme_trn_req:1,bme_war_req:1,bme_pdr_req:1,priority:"",probability:"",initiator:"",is_competitor_in_demo:!1,squence_of_demo:"",opportunity_code:"",selling_points:"",customer_feedback:"",pain_points:""},_e={customer:"Parkway Singapore",opportunity_id:"00123456",initiator:"Jane Doe (BK-0092)",opportunity_amount:"35,000.00",opportunity_no:"123567.01",winning_probability:"65%"},We={main:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,serial_no:null,available_quantity:1,cost:8e4}],compatibles:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,serial_no:null,available_quantity:1,cost:8e4}],peripherals:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,available_quantity:1,cost:8e4}],consumables:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,available_quantity:1,cost:8e4}],packing:[{id:BigInt(1),name:"Product 1",sku:"ZY2332",quantity:1,uom:"pc",availability:"-",expected_sale_price:8e4,available_quantity:1,cost:8e4}],accessories:null};let Ve=(()=>{class t{constructor(){this.mockData=[{status:xt.draft,approvalList:ye,bookingDetailList:ke,opportunitySummary:_e,mainAsset:We,access:!1}]}getEntity(t){const e=this.mockData[+t.toString()];return Object(fe.a)(e||this.mockData[0])}getApprovals(t){return this.getEntity(t).pipe(Object(ve.a)(t=>t.approvalList))}getBookingDetail(t){return this.getEntity(t).pipe(Object(ve.a)(t=>t.bookingDetailList))}getOpportunitySummary(t){return this.getEntity(t).pipe(Object(ve.a)(t=>t.opportunitySummary))}getMainAsset(t){return this.getEntity(t).pipe(Object(ve.a)(t=>t.mainAsset))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac}),t})(),Oe=(()=>{class t{constructor(){this.mockData=[{id:BigInt(123),name:"First Product",sku:"d-sku",quantity:7,uom:"d-uom",availability:"d-avail",expected_sale_price:200.5,available_quantity:7,cost:100.5,serial_no:"d-serial"},{id:BigInt(321),name:"Another Product",sku:"d-sku",quantity:7,uom:"d-uom",availability:"d-avail",expected_sale_price:150.5,available_quantity:3,cost:70.5,serial_no:"d-serial"},{id:BigInt(1),name:"Last Product",sku:"d-sku",quantity:7,uom:"d-uom",availability:"d-avail",expected_sale_price:200.5,available_quantity:50,cost:100.5,serial_no:"d-serial"}]}findEquipments(t){const e=[],n=t.search_text.toLowerCase();for(const o of this.mockData)o.name.toLowerCase().match(n)&&e.push(o);return Object(fe.a)(e.length>0?e:this.mockData)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac}),t})();const Ce=ge.a.production?[u.a,{provide:Ve,useClass:Pt},{provide:he,useClass:p},{provide:Oe,useClass:rt}]:[u.a,Ve,he,Oe];let we=(()=>{class t{constructor(t,e,n){this.api=t,this.route=e,this.router=n,this.byClose=new l.n}ngOnInit(){}onSave(){this.api.decline_booking({bookingId:this.route.snapshot.params.id,reason:this.reason}).subscribe(t=>{this.router.navigateByUrl("/RefreshComponent",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dms/bookings",this.route.snapshot.params.id])})},t=>{console.log(t),alert("error")})}onClose(){this.byClose.emit(this)}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(Pt),l.Qb(c.a),l.Qb(c.c))},t.\u0275cmp=l.Kb({type:t,selectors:[["dms-decline-reason"]],outputs:{byClose:"byClose"},decls:17,vars:1,consts:[[1,"form-group","dms-decline-reason"],[1,"animated","fadeIn"],[1,"row"],[1,"card","col-md-6"],[1,"card-body"],[1,"form-horizontal"],[1,"form-group","row"],[1,"col-3","p-0"],[1,"col-9","m-auto","pr-0"],["cols","30","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","custom-footer"],["type","submit",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"div",7),l.Qc(8," Decline reason "),l.Vb(),l.Wb(9,"div",8),l.Wb(10,"textarea",9),l.gc("ngModelChange",function(t){return e.reason=t}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(11,"div",10),l.Wb(12,"button",11),l.gc("click",function(){return e.onSave()}),l.Rb(13,"i",12),l.Qc(14," Save "),l.Vb(),l.Wb(15,"button",11),l.gc("click",function(){return e.onClose()}),l.Qc(16,"Close "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Db(10),l.rc("ngModel",e.reason))},directives:[s.c,s.p,s.s],styles:[".identify-header[_ngcontent-%COMP%]{padding:20px 20px 0}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{float:none;margin:auto}.picker[_ngcontent-%COMP%]{height:25px;width:25px}"]}),t})(),De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({providers:[...Ce],imports:[[o.c,pe,me.CalendarModule,i.a,a.b,r.b.forRoot(),s.l,s.v]]}),t})();l.Ic($t,[nt,s.z,s.q,s.r,o.o,o.p,we,r.a],[o.A])}}]);